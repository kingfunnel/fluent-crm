!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/wp-content/plugins/fluent-crm/assets/",i(i.s=232)}([function(t,e,i){"use strict";function n(t,e,i,n,s,a,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}i.d(e,"a",(function(){return n}))},,,function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var s=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(a).concat([s]).join("\n")}var o;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(n[a]=!0)}for(s=0;s<t.length;s++){var o=t[s];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){var n,s,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),r=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=r.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),c=null,u=0,d=[],_=i(40);function p(t,e){for(var i=0;i<t.length;i++){var n=t[i],s=a[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(b(n.parts[o],e))}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(b(n.parts[o],e));a[n.id]={id:n.id,refs:1,parts:r}}}}function m(t,e){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],o=e.base?a[0]+e.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(r):i.push(n[o]={id:o,parts:[r]})}return i}function f(t,e){var i=l(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),d.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(t.insertAt.before,i);i.insertBefore(e,s)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function b(t,e){var i,n,s,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var o=u++;i=c||(c=g(e)),n=k.bind(null,i,o,!1),s=k.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),n=$.bind(null,i,e),s=function(){h(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(e),n=x.bind(null,i),s=function(){h(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=m(t,e);return p(i,e),function(t){for(var n=[],s=0;s<i.length;s++){var o=i[s];(r=a[o.id]).refs--,n.push(r)}t&&p(m(t,e),e);for(s=0;s<n.length;s++){var r;if(0===(r=n[s]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var y,w=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function k(t,e,i,n){var s=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=w(e,s);else{var a=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function x(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function $(t,e,i){var n=i.css,s=i.sourceMap,a=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||a)&&(n=_(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},function(t,e){var i=Array.isArray;t.exports=i},function(t,e,i){var n=i(36),s="object"==typeof self&&self&&self.Object===Object&&self,a=n||s||Function("return this")();t.exports=a},,function(t,e,i){"use strict";function n(t){return window.fcAdmin.trans[t]||t}i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return a}));var s=[{label:n("Contact Type"),value:"contact_type",position:1},{label:n("Tags"),value:"tags",position:2},{label:n("Lists"),value:"lists",position:3},{label:n("Source"),value:"source",position:4},{label:n("Phone"),value:"phone",position:5},{label:n("Country"),value:"country",position:6},{label:n("Created At"),value:"created_at",position:7},{label:n("Last Change Date"),value:"updated_at",position:8},{label:n("Last Activity"),value:"last_activity",position:9}],a={SystemUi:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",Arial:"Arial, 'Helvetica Neue', Helvetica, sans-serif","Comic Sans":"'Comic Sans MS', 'Marker Felt-Thin', Arial, sans-serif","Courier New":"'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace",Georgia:"Georgia, Times, 'Times New Roman', serif",Helvetica:"Helvetica , Arial, Verdana, sans-serif",Lucida:"'Lucida Sans Unicode', 'Lucida Grande', sans-serif",Tahoma:"Tahoma, Verdana, Segoe, sans-serif","Times New Roman":"'Times New Roman', Times, Baskerville, Georgia, serif","Trebuchet MS":"'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif",Verdana:"Verdana, Geneva, sans-serif",Lato:"'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif",Lora:"'Lora', Georgia, 'Times New Roman', serif",Merriweather:"'Merriweather', Georgia, 'Times New Roman', serif","Merriweather Sans":"'Merriweather Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif","Noticia Text":"'Noticia Text', Georgia, 'Times New Roman', serif","Open Sans":"'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif",Roboto:"'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif","Source Sans Pro":"'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif"}},,function(t,e,i){var n=i(18),s=i(92),a=i(93),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?s(t):a(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},,,function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},,,,function(t,e,i){var n=i(6).Symbol;t.exports=n},function(t,e,i){var n=i(57),s=i(29);t.exports=function(t){return null!=t&&s(t.length)&&!n(t)}},function(t,e,i){var n=i(55),s=i(133),a=i(35),o=i(5),r=i(19),l=i(37),c=i(56),u=i(39),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(r(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||a(t)))return!t.length;var e=s(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!n(t).length;for(var i in t)if(d.call(t,i))return!1;return!0}},function(t,e,i){var n=i(250),s=i(253);t.exports=function(t,e){var i=s(t,e);return n(i)?i:void 0}},function(t,e,i){"use strict";var n={name:"photo_widget",props:{value:{required:!1,type:String},btn_mode:{type:Boolean,default:function(){return!1}},btn_text:{required:!1,default:function(){return"+ Upload"}},btn_type:{required:!1,default:function(){return"default"}}},data:function(){return{app_ready:!1,image_url:this.value}},methods:{initUploader:function(t){var e=this,i=wp.media.editor.send.attachment;return wp.media.editor.send.attachment=function(t,n){e.$emit("input",n.url),e.$emit("changed",n.url),e.image_url=n.url,wp.media.editor.send.attachment=i},wp.media.editor.open(jQuery(t.target)),!1},getThumb:function(t){return t.url}},mounted:function(){window.wpActiveEditor||(window.wpActiveEditor=null),this.app_ready=!0}},s=(i(102),i(0)),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_photo_card"},[t.app_ready?i("div",{staticClass:"fluentcrm_photo_holder"},[t.value&&!t.btn_mode?i("img",{attrs:{src:t.value}}):t._e(),t._v(" "),i("el-button",{attrs:{size:"small",type:t.btn_type},on:{click:t.initUploader}},[t._v(t._s(t.btn_text))])],1):t._e()])}),[],!1,null,null,null);e.a=a.exports},,,,,,function(t,e,i){var n=i(89),s=i(55),a=i(19);t.exports=function(t){return a(t)?n(t):s(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var i=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce((function(t,e){var s,a,o,r,l;for(o in e)if(s=t[o],a=e[o],s&&i.test(o))if("class"===o&&("string"==typeof s&&(l=s,t[o]=s={},s[l]=!0),"string"==typeof a&&(l=a,e[o]=a={},a[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(r in a)s[r]=n(s[r],a[r]);else if(Array.isArray(s))t[o]=s.concat(a);else if(Array.isArray(a))t[o]=[s].concat(a);else for(r in a)s[r]=a[r];else t[o]=e[o];return t}),{})}},,,,function(t,e,i){var n=i(91),s=i(11),a=Object.prototype,o=a.hasOwnProperty,r=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return s(t)&&o.call(t,"callee")&&!r.call(t,"callee")};t.exports=l},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(14))},function(t,e,i){(function(t){var n=i(6),s=i(94),a=e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,r=o&&o.exports===a?n.Buffer:void 0,l=(r?r.isBuffer:void 0)||s;t.exports=l}).call(this,i(38)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){var n=i(95),s=i(96),a=i(97),o=a&&a.isTypedArray,r=o?s(o):n;t.exports=r},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(s=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(t,e,i){var n=i(103);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},,,,,,,,,,,,function(t,e,i){var n=i(86),s=i(100)(n);t.exports=s},function(t,e){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,i){var n=i(56),s=i(98),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return s(t);var e=[];for(var i in Object(t))a.call(t,i)&&"constructor"!=i&&e.push(i);return e}},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,i){var n=i(10),s=i(30);t.exports=function(t){if(!s(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,i){var n=i(10),s=i(11);t.exports=function(t){return"symbol"==typeof t||s(t)&&"[object Symbol]"==n(t)}},function(t,e,i){var n=i(21)(Object,"create");t.exports=n},function(t,e,i){var n=i(272),s=i(273),a=i(274),o=i(275),r=i(276);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=s,l.prototype.get=a,l.prototype.has=o,l.prototype.set=r,t.exports=l},function(t,e,i){var n=i(139);t.exports=function(t,e){for(var i=t.length;i--;)if(n(t[i][0],e))return i;return-1}},function(t,e,i){var n=i(278);t.exports=function(t,e){var i=t.__data__;return n(e)?i["string"==typeof e?"string":"hash"]:i.map}},function(t,e,i){var n=i(58);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(87),s=i(28);t.exports=function(t,e){return t&&n(t,e,s)}},function(t,e,i){var n=i(88)();t.exports=n},function(t,e){t.exports=function(t){return function(e,i,n){for(var s=-1,a=Object(e),o=n(e),r=o.length;r--;){var l=o[t?r:++s];if(!1===i(a[l],l,a))break}return e}}},function(t,e,i){var n=i(90),s=i(35),a=i(5),o=i(37),r=i(54),l=i(39),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=a(t),u=!i&&s(t),d=!i&&!u&&o(t),_=!i&&!u&&!d&&l(t),p=i||u||d||_,m=p?n(t.length,String):[],f=m.length;for(var h in t)!e&&!c.call(t,h)||p&&("length"==h||d&&("offset"==h||"parent"==h)||_&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||r(h,f))||m.push(h);return m}},function(t,e){t.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},function(t,e,i){var n=i(10),s=i(11);t.exports=function(t){return s(t)&&"[object Arguments]"==n(t)}},function(t,e,i){var n=i(18),s=Object.prototype,a=s.hasOwnProperty,o=s.toString,r=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,r),i=t[r];try{t[r]=void 0;var n=!0}catch(t){}var s=o.call(t);return n&&(e?t[r]=i:delete t[r]),s}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,i){var n=i(10),s=i(29),a=i(11),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&s(t.length)&&!!o[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,i){(function(t){var n=i(36),s=e&&!e.nodeType&&e,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===s&&n.process,r=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=r}).call(this,i(38)(t))},function(t,e,i){var n=i(99)(Object.keys,Object);t.exports=n},function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},function(t,e,i){var n=i(19);t.exports=function(t,e){return function(i,s){if(null==i)return i;if(!n(i))return t(i,s);for(var a=i.length,o=e?a:-1,r=Object(i);(e?o--:++o<a)&&!1!==s(r[o],o,r););return i}}},function(t,e){t.exports=function(t){return t}},function(t,e,i){"use strict";i(41)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fluentcrm_photo_holder img{max-height:100px}",""])},function(t,e,i){var n=i(21)(i(6),"Map");t.exports=n},function(t,e,i){var n=i(5),s=i(58),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!s(t))||(o.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,i){var n=i(265),s=i(277),a=i(279),o=i(280),r=i(281);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=s,l.prototype.get=a,l.prototype.has=o,l.prototype.set=r,t.exports=l},function(t,e,i){var n=i(261),s=i(137);t.exports=function(t,e){return null!=t&&s(t,e,n)}},,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(234);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(236);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(238);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(240);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(242);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(244);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(246);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(248);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(249),s=i(104),a=i(254),o=i(255),r=i(256),l=i(10),c=i(134),u=c(n),d=c(s),_=c(a),p=c(o),m=c(r),f=l;(n&&"[object DataView]"!=f(new n(new ArrayBuffer(1)))||s&&"[object Map]"!=f(new s)||a&&"[object Promise]"!=f(a.resolve())||o&&"[object Set]"!=f(new o)||r&&"[object WeakMap]"!=f(new r))&&(f=function(t){var e=l(t),i="[object Object]"==e?t.constructor:void 0,n=i?c(i):"";if(n)switch(n){case u:return"[object DataView]";case d:return"[object Map]";case _:return"[object Promise]";case p:return"[object Set]";case m:return"[object WeakMap]"}return e}),t.exports=f},function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,i){var n=i(258);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(260);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(138),s=i(35),a=i(5),o=i(54),r=i(29),l=i(63);t.exports=function(t,e,i){for(var c=-1,u=(e=n(e,t)).length,d=!1;++c<u;){var _=l(e[c]);if(!(d=null!=t&&i(t,_)))break;t=t[_]}return d||++c!=u?d:!!(u=null==t?0:t.length)&&r(u)&&o(_,u)&&(a(t)||s(t))}},function(t,e,i){var n=i(5),s=i(105),a=i(262),o=i(282);t.exports=function(t,e){return n(t)?t:s(t,e)?[t]:a(o(t))}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}},function(t,e,i){var n=i(285);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(287);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(289);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(291);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(293);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(295);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(309);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(311);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(313);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(319),s=i(343),a=i(101),o=i(5),r=i(347);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?o(t)?s(t[0],t[1]):n(t):r(t)}},function(t,e,i){var n=i(60),s=i(321),a=i(322),o=i(323),r=i(324),l=i(325);function c(t){var e=this.__data__=new n(t);this.size=e.size}c.prototype.clear=s,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=r,c.prototype.set=l,t.exports=c},function(t,e,i){var n=i(326),s=i(11);t.exports=function t(e,i,a,o,r){return e===i||(null==e||null==i||!s(e)&&!s(i)?e!=e&&i!=i:n(e,i,a,o,t,r))}},function(t,e,i){var n=i(327),s=i(330),a=i(331);t.exports=function(t,e,i,o,r,l){var c=1&i,u=t.length,d=e.length;if(u!=d&&!(c&&d>u))return!1;var _=l.get(t),p=l.get(e);if(_&&p)return _==e&&p==t;var m=-1,f=!0,h=2&i?new n:void 0;for(l.set(t,e),l.set(e,t);++m<u;){var g=t[m],v=e[m];if(o)var b=c?o(v,g,m,e,t,l):o(g,v,m,t,e,l);if(void 0!==b){if(b)continue;f=!1;break}if(h){if(!s(e,(function(t,e){if(!a(h,e)&&(g===t||r(g,t,i,o,l)))return h.push(e)}))){f=!1;break}}else if(g!==v&&!r(g,v,i,o,l)){f=!1;break}}return l.delete(t),l.delete(e),f}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,s=0,a=[];++i<n;){var o=t[i];e(o,i,t)&&(a[s++]=o)}return a}},function(t,e,i){var n=i(30);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}},function(t,e,i){var n=i(138),s=i(63);t.exports=function(t,e){for(var i=0,a=(e=n(e,t)).length;null!=t&&i<a;)t=t[s(e[i++])];return i&&i==a?t:void 0}},function(t,e,i){var n=i(351);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(353);"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,s);n.locals&&(t.exports=n.locals)},,function(t,e,i){var n=i(296),s=i(19),a=i(300),o=i(301),r=i(306),l=Math.max;t.exports=function(t,e,i,c){t=s(t)?t:r(t),i=i&&!c?o(i):0;var u=t.length;return i<0&&(i=l(u+i,0)),a(t)?i<=u&&t.indexOf(e,i)>-1:!!u&&n(t,e,i)>-1}},function(t,e,i){var n=i(314),s=i(316)((function(t,e,i){n(t,i,e)}));t.exports=s},function(t,e,i){var n=i(154),s=i(354),a=i(150),o=i(5);t.exports=function(t,e){return(o(t)?n:s)(t,a(e,3))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(364)},function(t,e,i){"use strict";i(125)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fluentcrm-templates-action-buttons .el-date-editor .el-range-separator{width:7%!important}",""])},function(t,e,i){"use strict";i(126)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fluentcrm-campaigns .error{color:#f56c6c;font-size:12px}.fluentcrm-campaigns .save-campaign-dialog-footer{margin-top:30px}",""])},function(t,e,i){"use strict";i(127)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,'.fluentcrm-campaigns .action-buttons{margin:0 0 15px;text-align:right}.fluentcrm-campaigns .action-buttons .el-input__inner{background:#fff!important}.fluentcrm-campaigns .status{display:inline-block;font-size:10px;width:80px}.fluentcrm-campaigns .status-draft{color:#909399;border:1px solid #909399}.fluentcrm-campaigns .status-pending{color:#409eff;border:1px solid #409eff}.fluentcrm-campaigns .status-archived{color:#67c23a;border:1px solid #67c23a}.fluentcrm-campaigns .status-incomplete{color:#f56c6c;border:1px solid #f56c6c}.fluentcrm-campaigns .status-working{color:#a7cc90;border:1px solid #a7cc90;opacity:1;position:relative;transition:opacity .1s linear}.fluentcrm-campaigns .status-working:before{-webkit-animation:working 2s linear infinite;animation:working 2s linear infinite;border:3px solid;border-color:#eee #eee #a7cc90;border-radius:50%;content:"";height:10px;left:10px;opacity:inherit;position:absolute;top:50%;transform:translate3d(-50%,-50%,0);transform-origin:center;width:10px;will-change:transform}@-webkit-keyframes working{0%{transform:translate3d(-50%,-50%,0) rotate(0deg)}to{transform:translate3d(-50%,-50%,0) rotate(1turn)}}@keyframes working{0%{transform:translate3d(-50%,-50%,0) rotate(0deg)}to{transform:translate3d(-50%,-50%,0) rotate(1turn)}}.fluentcrm-campaigns .status-purged{color:#e6a23d;border:1px solid #e6a23d}',""])},function(t,e,i){"use strict";i(128)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".el-dropdown-list-wrapper{padding:0}.el-dropdown-list-wrapper .group-title{display:block;padding:5px 10px;background-color:grey;color:#fff}.input-textarea-value{position:relative}.input-textarea-value .icon{position:absolute;right:0;top:-18px;cursor:pointer}.fc_pop_append .el-input-group__append{padding:0 10px}.fc_pop_append .el-input-group__append .fluentcrm_url{padding:10px}.fc_pop_append .el-input-group__append .fluentcrm_url.fc_imoji_btn{border-left:1px solid #dcdfe6;color:red}",""])},function(t,e,i){"use strict";i(129)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".el-dropdown-list-wrapper{padding:0}.el-dropdown-list-wrapper .group-title{display:block;padding:5px 10px;background-color:grey;color:#fff}.el-dropdown-list-wrapper.el-popover{z-index:9999999999999!important}.input-textarea-value{position:relative}.input-textarea-value .icon{position:absolute;right:0;top:-18px;cursor:pointer}.el_pop_data_group{background:#6c757d;overflow:hidden}.el_pop_data_group .el_pop_data_headings{max-width:150px;float:left}.el_pop_data_group .el_pop_data_headings ul{padding:0;margin:10px 0}.el_pop_data_group .el_pop_data_headings ul li{color:#fff;padding:5px 10px;display:block;margin-bottom:0;border-bottom:1px solid #949393;cursor:pointer}.el_pop_data_group .el_pop_data_headings ul li.active_item_selected{background:#f5f5f5;color:#6c757d;border-left:2px solid #6c757d}.el_pop_data_group .el_pop_data_body{float:left;background:#f5f5f5;width:350px;max-height:400px;overflow:auto}.el_pop_data_group .el_pop_data_body ul{padding:10px 0;margin:0}.el_pop_data_group .el_pop_data_body ul li{color:#000;padding:5px 10px;display:block;margin-bottom:0;border-bottom:1px dotted #dadada;cursor:pointer;text-align:left}.el_pop_data_group .el_pop_data_body ul li:hover{background:#fff}.el_pop_data_group .el_pop_data_body ul li span{font-size:11px;color:#8e8f90}",""])},function(t,e,i){"use strict";i(130)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fluentcrm_button_preview{border:1px solid #dde6ed!important;border-radius:.3rem!important;display:flex;height:100%!important;flex-direction:column!important;text-align:center}.fluentcrm_button_preview .preview_header{background-color:#f2f5f9!important;color:#53657a!important}.fluentcrm_button_preview .preview_body{align-items:center!important;height:100%;padding:150px 0}",""])},function(t,e,i){"use strict";i(131)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".wp_vue_editor{width:100%;min-height:100px}.wp_vue_editor_wrapper{position:relative}.wp_vue_editor_wrapper .wp-media-buttons .insert-media{vertical-align:middle}.wp_vue_editor_wrapper .popover-wrapper{z-index:2;position:absolute;top:0;right:0}.wp_vue_editor_wrapper .popover-wrapper-plaintext{left:auto;right:0;top:-32px}.wp_vue_editor_wrapper .wp-editor-tabs{float:left}.mce-fluentcrm_editor_btn button{font-size:10px!important;border:1px solid grey;margin-top:3px}.mce-fluentcrm_editor_btn:hover{border:1px solid transparent!important}",""])},function(t,e,i){"use strict";i(132)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fc_option_creatable{display:block;width:100%}.fc_option_creatable .el-select{width:80%;float:left}.fc_option_creatable .fc_with_select{float:left}",""])},function(t,e,i){var n=i(21)(i(6),"DataView");t.exports=n},function(t,e,i){var n=i(57),s=i(251),a=i(30),o=i(134),r=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,_=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||s(t))&&(n(t)?_:r).test(o(t))}},function(t,e,i){var n,s=i(252),a=(n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},function(t,e,i){var n=i(6)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,i){var n=i(21)(i(6),"Promise");t.exports=n},function(t,e,i){var n=i(21)(i(6),"Set");t.exports=n},function(t,e,i){var n=i(21)(i(6),"WeakMap");t.exports=n},function(t,e,i){"use strict";i(135)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,'.list .el-select-dropdown__item{height:55px!important}.list-metrics{color:#8492a6;font-size:13px;line-height:1;display:block}.fluentcrm-campaign .recipients .pull-left{float:left}.fluentcrm-campaign .recipients .pull-right{float:right}.fluentcrm-campaign .recipients .recipients-label{font-size:14px;margin-bottom:5px}.fluentcrm-campaign .recipients .status{display:inline-block;font-size:10px;width:80px}.fluentcrm-campaign .recipients .status-draft{color:#909399;border:1px solid #909399}.fluentcrm-campaign .recipients .status-pending{color:#409eff;border:1px solid #409eff}.fluentcrm-campaign .recipients .status-archived{color:#67c23a;border:1px solid #67c23a}.fluentcrm-campaign .recipients .status-incomplete{color:#f56c6c;border:1px solid #f56c6c}.fluentcrm-campaign .recipients .status-working{color:#a7cc90;border:1px solid #a7cc90;opacity:1;position:relative;transition:opacity .1s linear}.fluentcrm-campaign .recipients .status-working:before{-webkit-animation:working 2s linear infinite;animation:working 2s linear infinite;border:3px solid;border-color:#eee #eee #a7cc90;border-radius:50%;content:"";height:10px;left:10px;opacity:inherit;position:absolute;top:50%;transform:translate3d(-50%,-50%,0);transform-origin:center;width:10px;will-change:transform}@-webkit-keyframes working{0%{transform:translate3d(-50%,-50%,0) rotate(0deg)}to{transform:translate3d(-50%,-50%,0) rotate(1turn)}}@keyframes working{0%{transform:translate3d(-50%,-50%,0) rotate(0deg)}to{transform:translate3d(-50%,-50%,0) rotate(1turn)}}.fluentcrm-campaign .recipients .status-sent{color:#67c23a;border:1px solid #67c23a}.fluentcrm-campaign .recipients .status-purged{color:#e6a23d;border:1px solid #e6a23d}.fluentcrm-campaign .recipients .lists-string .cell{word-break:break-word}',""])},function(t,e,i){"use strict";i(136)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fluentcrm-campaign .steps-nav{margin:0 auto;text-align:center}.fluentcrm-campaign .step-container{margin-top:30px}.fluentcrm-campaign .action-buttons{margin:0;text-align:right}.fluentcrm-campaign .action-buttons .campaign-title{padding:10px;float:left;font-weight:500;font-size:20px;display:inline-block}.fluentcrm-campaign .action-buttons .campaign-title span.status{font-weight:400;font-size:12px;color:#909399}.fluentcrm-campaign .action-buttons .campaign-title>span{cursor:pointer;font-weight:400;font-size:12px;color:#909399}.fluentcrm-campaign .action-buttons .campaign-title>span>span{color:#409eff}",""])},function(t,e){var i=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&i.call(t,e)}},function(t,e,i){var n=i(263),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(s,(function(t,i,n,s){e.push(n?s.replace(a,"$1"):i||t)})),e}));t.exports=o},function(t,e,i){var n=i(264);t.exports=function(t){var e=n(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}},function(t,e,i){var n=i(106);function s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=i.cache;if(a.has(s))return a.get(s);var o=t.apply(this,n);return i.cache=a.set(s,o)||a,o};return i.cache=new(s.Cache||n),i}s.Cache=n,t.exports=s},function(t,e,i){var n=i(266),s=i(60),a=i(104);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||s),string:new n}}},function(t,e,i){var n=i(267),s=i(268),a=i(269),o=i(270),r=i(271);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=s,l.prototype.get=a,l.prototype.has=o,l.prototype.set=r,t.exports=l},function(t,e,i){var n=i(59);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,i){var n=i(59),s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return s.call(e,t)?e[t]:void 0}},function(t,e,i){var n=i(59),s=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:s.call(e,t)}},function(t,e,i){var n=i(59);t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,i){var n=i(61),s=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=n(e,t);return!(i<0)&&(i==e.length-1?e.pop():s.call(e,i,1),--this.size,!0)}},function(t,e,i){var n=i(61);t.exports=function(t){var e=this.__data__,i=n(e,t);return i<0?void 0:e[i][1]}},function(t,e,i){var n=i(61);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,i){var n=i(61);t.exports=function(t,e){var i=this.__data__,s=n(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this}},function(t,e,i){var n=i(62);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,i){var n=i(62);t.exports=function(t){return n(this,t).get(t)}},function(t,e,i){var n=i(62);t.exports=function(t){return n(this,t).has(t)}},function(t,e,i){var n=i(62);t.exports=function(t,e){var i=n(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this}},function(t,e,i){var n=i(283);t.exports=function(t){return null==t?"":n(t)}},function(t,e,i){var n=i(18),s=i(140),a=i(5),o=i(58),r=n?n.prototype:void 0,l=r?r.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return s(e,t)+"";if(o(e))return l?l.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i}},function(t,e,i){"use strict";i(141)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,"@media only screen and (min-width:768px){.fluentcrm_layout{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.fluentcrm_layout .fluentcrm_layout_half{display:flex;flex-direction:column;flex-basis:50%;padding-right:30px}.fluentcrm_layout .fluentcrm_layout_half:nth-child(odd){padding-left:0}.fluentcrm_layout .fluentcrm_layout_half:nth-child(2n){padding-right:0;padding-left:30px}}",""])},function(t,e,i){"use strict";i(142)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".list-stat{padding:24px 15px;background:#fff}.el-link.el-link--default:hover{color:#409eff!important;cursor:pointer!important}",""])},function(t,e,i){"use strict";i(143)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".list-stat{padding:24px 15px;background:#fff}.el-link.el-link--default:hover{color:#409eff!important;cursor:pointer!important}",""])},function(t,e,i){"use strict";i(144)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".settings-section{margin-bottom:30px}",""])},function(t,e,i){"use strict";i(145)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".settings-section{margin-bottom:30px}",""])},function(t,e,i){"use strict";i(146)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".settings-section{margin-bottom:30px}",""])},function(t,e,i){var n=i(297),s=i(298),a=i(299);t.exports=function(t,e,i){return e==e?a(t,e,i):n(t,s,i)}},function(t,e){t.exports=function(t,e,i,n){for(var s=t.length,a=i+(n?1:-1);n?a--:++a<s;)if(e(t[a],a,t))return a;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,i){for(var n=i-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}},function(t,e,i){var n=i(10),s=i(5),a=i(11);t.exports=function(t){return"string"==typeof t||!s(t)&&a(t)&&"[object String]"==n(t)}},function(t,e,i){var n=i(302);t.exports=function(t){var e=n(t),i=e%1;return e==e?i?e-i:e:0}},function(t,e,i){var n=i(303);t.exports=function(t){return t?(t=n(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,i){var n=i(304),s=i(30),a=i(58),o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(s(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=s(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=r.test(t);return i||l.test(t)?c(t.slice(2),i?2:8):o.test(t)?NaN:+t}},function(t,e,i){var n=i(305),s=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(s,""):t}},function(t,e){var i=/\s/;t.exports=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e}},function(t,e,i){var n=i(307),s=i(28);t.exports=function(t){return null==t?[]:n(t,s(t))}},function(t,e,i){var n=i(140);t.exports=function(t,e){return n(e,(function(e){return t[e]}))}},function(t,e,i){"use strict";i(147)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".tag{border:1px solid #333;border-radius:10px;padding:3px;margin-right:5px;font-size:12px}.name{font-size:15px;font-weight:700}.url{font-weight:500;color:inherit;cursor:inherit;margin:0 0 5px}",""])},function(t,e,i){"use strict";i(148)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fc_condition_group{background:#efefef;padding:10px 15px;border-radius:10px;margin-bottom:20px}.fc_condition_group h4{margin:0}",""])},function(t,e,i){"use strict";i(149)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fc_child_blocks .fluentcrm_blockin{width:100%!important;margin-bottom:20px!important}.fc_child_blocks .fluentcrm_block{width:96%;padding:0}",""])},function(t,e,i){var n=i(315);t.exports=function(t,e,i){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},function(t,e,i){var n=i(21),s=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=s},function(t,e,i){var n=i(317),s=i(318),a=i(150),o=i(5);t.exports=function(t,e){return function(i,r){var l=o(i)?n:s,c=e?e():{};return l(i,t,a(r,2),c)}}},function(t,e){t.exports=function(t,e,i,n){for(var s=-1,a=null==t?0:t.length;++s<a;){var o=t[s];e(n,o,i(o),t)}return n}},function(t,e,i){var n=i(53);t.exports=function(t,e,i,s){return n(t,(function(t,n,a){e(s,t,i(t),a)})),s}},function(t,e,i){var n=i(320),s=i(342),a=i(156);t.exports=function(t){var e=s(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(i){return i===t||n(i,t,e)}}},function(t,e,i){var n=i(151),s=i(152);t.exports=function(t,e,i,a){var o=i.length,r=o,l=!a;if(null==t)return!r;for(t=Object(t);o--;){var c=i[o];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<r;){var u=(c=i[o])[0],d=t[u],_=c[1];if(l&&c[2]){if(void 0===d&&!(u in t))return!1}else{var p=new n;if(a)var m=a(d,_,u,t,e,p);if(!(void 0===m?s(_,d,3,a,p):m))return!1}}return!0}},function(t,e,i){var n=i(60);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,i){var n=i(60),s=i(104),a=i(106);t.exports=function(t,e){var i=this.__data__;if(i instanceof n){var o=i.__data__;if(!s||o.length<199)return o.push([t,e]),this.size=++i.size,this;i=this.__data__=new a(o)}return i.set(t,e),this.size=i.size,this}},function(t,e,i){var n=i(151),s=i(153),a=i(332),o=i(336),r=i(133),l=i(5),c=i(37),u=i(39),d="[object Object]",_=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,p,m,f){var h=l(t),g=l(e),v=h?"[object Array]":r(t),b=g?"[object Array]":r(e),y=(v="[object Arguments]"==v?d:v)==d,w=(b="[object Arguments]"==b?d:b)==d,k=v==b;if(k&&c(t)){if(!c(e))return!1;h=!0,y=!1}if(k&&!y)return f||(f=new n),h||u(t)?s(t,e,i,p,m,f):a(t,e,v,i,p,m,f);if(!(1&i)){var x=y&&_.call(t,"__wrapped__"),$=w&&_.call(e,"__wrapped__");if(x||$){var C=x?t.value():t,S=$?e.value():e;return f||(f=new n),m(C,S,i,p,f)}}return!!k&&(f||(f=new n),o(t,e,i,p,m,f))}},function(t,e,i){var n=i(106),s=i(328),a=i(329);function o(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new n;++e<i;)this.add(t[e])}o.prototype.add=o.prototype.push=s,o.prototype.has=a,t.exports=o},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,i){var n=i(18),s=i(333),a=i(139),o=i(153),r=i(334),l=i(335),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,i,n,c,d,_){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new s(t),new s(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=r;case"[object Set]":var m=1&n;if(p||(p=l),t.size!=e.size&&!m)return!1;var f=_.get(t);if(f)return f==e;n|=2,_.set(t,e);var h=o(p(t),p(e),n,c,d,_);return _.delete(t),h;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},function(t,e,i){var n=i(6).Uint8Array;t.exports=n},function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}},function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}},function(t,e,i){var n=i(337),s=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,a,o,r){var l=1&i,c=n(t),u=c.length;if(u!=n(e).length&&!l)return!1;for(var d=u;d--;){var _=c[d];if(!(l?_ in e:s.call(e,_)))return!1}var p=r.get(t),m=r.get(e);if(p&&m)return p==e&&m==t;var f=!0;r.set(t,e),r.set(e,t);for(var h=l;++d<u;){var g=t[_=c[d]],v=e[_];if(a)var b=l?a(v,g,_,e,t,r):a(g,v,_,t,e,r);if(!(void 0===b?g===v||o(g,v,i,a,r):b)){f=!1;break}h||(h="constructor"==_)}if(f&&!h){var y=t.constructor,w=e.constructor;y==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(f=!1)}return r.delete(t),r.delete(e),f}},function(t,e,i){var n=i(338),s=i(340),a=i(28);t.exports=function(t){return n(t,a,s)}},function(t,e,i){var n=i(339),s=i(5);t.exports=function(t,e,i){var a=e(t);return s(t)?a:n(a,i(t))}},function(t,e){t.exports=function(t,e){for(var i=-1,n=e.length,s=t.length;++i<n;)t[s+i]=e[i];return t}},function(t,e,i){var n=i(154),s=i(341),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,r=o?function(t){return null==t?[]:(t=Object(t),n(o(t),(function(e){return a.call(t,e)})))}:s;t.exports=r},function(t,e){t.exports=function(){return[]}},function(t,e,i){var n=i(155),s=i(28);t.exports=function(t){for(var e=s(t),i=e.length;i--;){var a=e[i],o=t[a];e[i]=[a,o,n(o)]}return e}},function(t,e,i){var n=i(152),s=i(344),a=i(345),o=i(105),r=i(155),l=i(156),c=i(63);t.exports=function(t,e){return o(t)&&r(e)?l(c(t),e):function(i){var o=s(i,t);return void 0===o&&o===e?a(i,t):n(e,o,3)}}},function(t,e,i){var n=i(157);t.exports=function(t,e,i){var s=null==t?void 0:n(t,e);return void 0===s?i:s}},function(t,e,i){var n=i(346),s=i(137);t.exports=function(t,e){return null!=t&&s(t,e,n)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,i){var n=i(348),s=i(349),a=i(105),o=i(63);t.exports=function(t){return a(t)?n(o(t)):s(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,i){var n=i(157);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e,i){"use strict";i(158)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".fc_individual_progress *{box-sizing:border-box}.fc_individual_progress .fc_progress_card:nth-child(4n+1){clear:left}.fc_progress_item{text-align:center;margin-bottom:20px;padding:20px;border:1px solid #7757e6;border-radius:10px;cursor:pointer;background:#f7fafc}.fc_progress_item:hover{background:#fff;border-color:#000!important}.fc_progress_item .stats_badges{display:block}.fc_progress_item.fc_sequence_type_benchmark{border:2px solid #f56c6b}.fc_progress_item.fc_sequence_type_result{border:2px solid #7757e6}",""])},function(t,e,i){"use strict";i(159)},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,".el-table .fc_table_row_completed{background:#f0f9eb}.el-table .fc_table_row_completed td{background:#f0f9eb!important}.el-table .fc_table_row_pending{background:#fdf5e6}.el-table .fc_table_row_pending td{background:#fdf5e6!important}",""])},function(t,e,i){var n=i(53);t.exports=function(t,e){var i=[];return n(t,(function(t,n,s){e(t,n,s)&&i.push(t)})),i}},,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n={extends:window.VueChartJs.Bar,mixins:[window.VueChartJs.mixins.reactiveProp],props:["stats","maxCumulativeValue"],data:function(){return{options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{id:"byDate",type:"linear",position:"left",gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,userCallback:function(t,e,i){if(Math.floor(t)===t)return t}}},{id:"byCumulative",type:"linear",position:"right",gridLines:{drawOnChartArea:!0},ticks:{beginAtZero:!0,userCallback:function(t,e,i){if(Math.floor(t)===t)return t}}}],xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,autoSkip:!0,maxTicksLimit:10}}]},drawBorder:!1,layout:{padding:{left:0,right:0,top:0,bottom:20}}}}},methods:{},mounted:function(){this.renderChart(this.chartData,this.options)}},s={name:"subscribers-growth",props:["date_range"],components:{GrowthChart:n},data:function(){return{fetching:!1,stats:{},chartData:{},maxCumulativeValue:0}},computed:{},methods:{fetchReport:function(){var t=this;this.fetching=!0,this.$get("reports/subscribers",{date_range:this.date_range}).then((function(e){t.stats=e.stats,t.setupChartItems()})).finally((function(){t.fetching=!1}))},setupChartItems:function(){var t=[],e={label:this.$t("By Date"),yAxisID:"byDate",backgroundColor:"rgba(81, 52, 178, 0.5)",borderColor:"#b175eb",data:[],fill:!1,gridLines:{display:!1}},i={label:this.$t("Cumulative"),backgroundColor:"rgba(55, 162, 235, 0.1)",borderColor:"#37a2eb",data:[],yAxisID:"byCumulative",type:"line"},n=0;this.each(this.stats,(function(s,a){e.data.push(s),t.push(a),n+=parseInt(s),i.data.push(n)})),this.maxCumulativeValue=n+10,this.chartData={labels:t,datasets:[e,i]}}},mounted:function(){this.fetchReport()}},a=i(0),o={name:"email-sent-growth",props:["date_range"],components:{GrowthChart:n},data:function(){return{fetching:!1,stats:{},chartData:{},maxCumulativeValue:0}},computed:{},methods:{fetchReport:function(){var t=this;this.fetching=!0,this.$get("reports/email-sents",{date_range:this.date_range}).then((function(e){t.stats=e.stats,t.setupChartItems()})).finally((function(){t.fetching=!1}))},setupChartItems:function(){var t=[],e={label:this.$t("By Date"),yAxisID:"byDate",backgroundColor:"rgba(81, 52, 178, 0.5)",borderColor:"#b175eb",data:[],fill:!1,gridLines:{display:!1}},i={label:this.$t("Cumulative"),backgroundColor:"rgba(55, 162, 235, 0.1)",borderColor:"#37a2eb",data:[],yAxisID:"byCumulative",type:"line"},n=0;this.each(this.stats,(function(s,a){e.data.push(s),t.push(a),n+=parseInt(s),i.data.push(n)})),this.maxCumulativeValue=n+10,this.chartData={labels:t,datasets:[e,i]}}},mounted:function(){this.fetchReport()}},r={name:"email-open-chart",props:["date_range"],components:{GrowthChart:n},data:function(){return{fetching:!1,stats:{},chartData:{},maxCumulativeValue:0}},computed:{},methods:{fetchReport:function(){var t=this;this.fetching=!0,this.$get("reports/email-opens",{date_range:this.date_range}).then((function(e){t.stats=e.stats,t.setupChartItems()})).finally((function(){t.fetching=!1}))},setupChartItems:function(){var t=[],e={label:this.$t("By Date"),yAxisID:"byDate",backgroundColor:"rgba(81, 52, 178, 0.5)",borderColor:"#b175eb",data:[],fill:!1,gridLines:{display:!1}},i={label:this.$t("Cumulative"),backgroundColor:"rgba(55, 162, 235, 0.1)",borderColor:"#37a2eb",data:[],yAxisID:"byCumulative",type:"line"},n=0;this.each(this.stats,(function(s,a){e.data.push(s),t.push(a),n+=parseInt(s),i.data.push(n)})),this.maxCumulativeValue=n+10,this.chartData={labels:t,datasets:[e,i]}}},mounted:function(){this.fetchReport()}},l={name:"email-click-chart",props:["date_range"],components:{GrowthChart:n},data:function(){return{fetching:!1,stats:{},chartData:{},maxCumulativeValue:0}},computed:{},methods:{fetchReport:function(){var t=this;this.fetching=!0,this.$get("reports/email-clicks",{date_range:this.date_range}).then((function(e){t.stats=e.stats,t.setupChartItems()})).finally((function(){t.fetching=!1}))},setupChartItems:function(){var t=[],e={label:this.$t("By Date"),yAxisID:"byDate",backgroundColor:"rgba(81, 52, 178, 0.5)",borderColor:"#b175eb",data:[],fill:!1,gridLines:{display:!1}},i={label:this.$t("Cumulative"),backgroundColor:"rgba(55, 162, 235, 0.1)",borderColor:"#37a2eb",data:[],yAxisID:"byCumulative",type:"line"},n=0;this.each(this.stats,(function(s,a){e.data.push(s),t.push(a),n+=parseInt(s),i.data.push(n)})),this.maxCumulativeValue=n+10,this.chartData={labels:t,datasets:[e,i]}}},mounted:function(){this.fetchReport()}},c={name:"Dashboard",components:{SubscribersChart:Object(a.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.fetching,expression:"fetching"}],staticClass:"fluentcrm_body fc_chart_box"},[e("growth-chart",{attrs:{maxCumulativeValue:this.maxCumulativeValue,"chart-data":this.chartData}})],1)}),[],!1,null,null,null).exports,EmailSentChart:Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.fetching,expression:"fetching"}],staticClass:"fluentcrm_body fc_chart_box"},[e("growth-chart",{attrs:{maxCumulativeValue:this.maxCumulativeValue,"chart-data":this.chartData}})],1)}),[],!1,null,null,null).exports,EmailOpenChart:Object(a.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.fetching,expression:"fetching"}],staticClass:"fluentcrm_body fc_chart_box"},[e("growth-chart",{attrs:{maxCumulativeValue:this.maxCumulativeValue,"chart-data":this.chartData}})],1)}),[],!1,null,null,null).exports,EmailClickChart:Object(a.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.fetching,expression:"fetching"}],staticClass:"fluentcrm_body fc_chart_box"},[e("growth-chart",{attrs:{maxCumulativeValue:this.maxCumulativeValue,"chart-data":this.chartData}})],1)}),[],!1,null,null,null).exports},data:function(){return{loading:!0,stats:[],quick_links:[],date_range:"",currently_showing:"subscribers-chart",chartMaps:{"subscribers-chart":this.$t("Subscribers Growth"),"email-sent-chart":this.$t("Email Sending Stats"),"email-open-chart":this.$t("Email Open Stats"),"email-click-chart":this.$t("Email Link Click Stats")},showing_charts:!0,timerId:null,ff_config:{is_installed:!0,create_form_link:""},installing_ff:!1,sales:[],onboarding:null,data_ready:!1}},methods:{fetchDashBoardData:function(){var t=this;this.loading=!0,this.$get("reports/dashboard-stats").then((function(e){t.stats=e.stats,t.sales=e.sales,t.quick_links=e.quick_links,t.ff_config=e.ff_config,t.onboarding=e.onboarding})).finally((function(){t.loading=!1,t.data_ready=!0}))},goToRoute:function(t){t&&this.$router.push(t)},maybeRouteStep:function(t){t.completed||this.goToRoute(t.route)},handleComponentChange:function(t){this.currently_showing=t},filterReport:function(){var t=this,e=this.currently_showing;this.currently_showing={render:function(){}},this.$nextTick((function(){t.currently_showing=e}))},refreshData:function(){var t=this;this.fetchDashBoardData(),this.showing_charts=!1,this.$nextTick((function(){t.showing_charts=!0}))},installFF:function(){var t=this;this.installing_ff=!0,this.$post("setting/install-fluentform").then((function(e){t.ff_config=e.ff_config,t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.installing_ff=!1}))}},mounted:function(){var t=this;this.fetchDashBoardData(),this.timerId=setInterval((function(){t.refreshData()}),3e5),this.changeTitle(this.$t("Dashboard"))},beforeDestroy:function(){this.timerId&&clearInterval(this.timerId)}},u=(i(233),Object(a.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_admin_dashboard"},[t.data_ready?i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{gutter:30}},[i("el-col",{attrs:{sm:24,md:16,lg:18}},[i("div",{staticClass:"fc_card_widgets"},t._l(t.stats,(function(e,n){return i("div",{key:n,staticClass:"fc_card_widget",on:{click:function(i){return t.goToRoute(e.route)}}},[i("div",{staticClass:"fluentcrm_header",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),i("div",{staticClass:"fluentcrm_body",domProps:{innerHTML:t._s(e.count)}})])})),0),t._v(" "),i("div",{staticClass:"ns_subscribers_chart"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-dropdown",{staticStyle:{"margin-top":"10px"},on:{command:t.handleComponentChange}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                                "+t._s(t.chartMaps[t.currently_showing])+"\n                                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.chartMaps,(function(e,n){return i("el-dropdown-item",{key:n,attrs:{command:n}},[t._v("\n                                    "+t._s(e)+"\n                                ")])})),1)],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":t.$t("To"),"start-placeholder":t.$t("Start date"),"end-placeholder":t.$t("End date"),"value-format":"yyyy-MM-dd"},model:{value:t.date_range,callback:function(e){t.date_range=e},expression:"date_range"}}),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:t.filterReport}},[t._v("\n                            "+t._s(t.$t("Apply"))+"\n                        ")])],1)]),t._v(" "),t.showing_charts?i(t.currently_showing,{tag:"component",attrs:{date_range:t.date_range}}):t._e()],1)]),t._v(" "),i("el-col",{attrs:{sm:24,md:8,lg:6}},[t.onboarding?i("div",{staticClass:"fc_m_20 fc_onboarding"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[t._v("\n                        "+t._s(t.$t("Getting Started"))+" ("+t._s(t.onboarding.completed)+" of "+t._s(t.onboarding.total)+" complete)\n                    ")])]),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("ul",{staticClass:"fc_lined_items"},t._l(t.onboarding.steps,(function(e,n){return i("li",{key:n,class:{fc_item_completed:e.completed},on:{click:function(i){return t.maybeRouteStep(e)}}},[e.completed?i("i",{staticClass:"el-icon el-icon-success"}):i("i",{staticClass:"fc_el_circle"}),t._v("\n                            "+t._s(e.label)+"\n                        ")])})),0)])]):t._e(),t._v(" "),t.appVars.disable_fluentmail_suggest?t._e():i("div",{staticClass:"fc_m_20 fc_quick_links"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[t._v("\n                        "+t._s(t.$t("FluentSMTP"))+"\n                    ")])]),t._v(" "),i("div",{staticClass:"fluentcrm_body",staticStyle:{padding:"0px 20px 20px"}},[i("p",[t._v("\n                        "+t._s(t.$t("fluentsmtp.desc"))+"\n                    ")]),t._v(" "),i("router-link",{staticClass:"el-button el-button--info el-button--small",attrs:{to:{name:"smtp_settings"}}},[t._v(t._s(t.$t("Das_View_ESSS")))])],1)]),t._v(" "),t.sales&&t.sales.length?i("div",{staticClass:"fc_m_20 fc_quick_links"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[t._v("\n                        "+t._s(t.$t("Sales"))+"\n                    ")])]),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("ul",{staticClass:"fc_lined_items"},t._l(t.sales,(function(e){return i("li",{key:e.title},[i("span",{staticClass:"fc_li_title",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),i("span",{staticClass:"fc_li_value",domProps:{innerHTML:t._s(e.content)}})])})),0)])]):t._e(),t._v(" "),i("div",{staticClass:"fc_m_20 fc_quick_links"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[t._v("\n                        "+t._s(t.$t("Quick Links"))+"\n                    ")])]),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("ul",{staticClass:"fc_quick_links"},t._l(t.quick_links,(function(e,n){return i("li",{key:n},[i("a",{attrs:{href:e.url}},[i("i",{class:e.icon}),t._v("\n                                "+t._s(e.title)+"\n                            ")])])})),0)])]),t._v(" "),t.ff_config.is_installed?t._e():i("div",{staticClass:"fc_m_20 fc_quick_links"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[t._v("\n                        "+t._s(t.$t("Grow Your Audience"))+"\n                    ")])]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.installing_ff,expression:"installing_ff"}],staticClass:"fluentcrm_body",staticStyle:{padding:"0px 20px 20px"},attrs:{"element-loading-text":"Installing Fluent Forms..."}},[i("p",[t._v(t._s(t.$t("quick_links.ff_desc")))]),t._v(" "),i("div",{staticClass:"text-align-center"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.installFF()}}},[t._v(t._s(t.$t("Das_Activate_FFI")))])],1)])])])],1):i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:18}},[i("el-skeleton",{staticClass:"fc_skeleton_loader",attrs:{rows:3,animated:""}}),t._v(" "),i("el-skeleton",{staticClass:"fc_skeleton_loader",attrs:{rows:6,animated:""}})],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-skeleton",{staticClass:"fc_skeleton_loader",attrs:{animated:""}},[i("template",{slot:"template"},[i("el-skeleton-item",{staticStyle:{width:"100%",height:"40px"},attrs:{variant:"rect"}}),t._v(" "),i("el-skeleton-item",{staticStyle:{width:"100%",height:"40px"},attrs:{variant:"rect"}}),t._v(" "),i("el-skeleton-item",{staticStyle:{width:"50%"},attrs:{variant:"button"}})],1)],2),t._v(" "),i("el-skeleton",{staticClass:"fc_skeleton_loader",attrs:{rows:3,animated:""}})],1)],1)],1)}),[],!1,null,null,null).exports),d=Object(a.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fcrm_no_permission text-align-center"},[e("h3",[this._v(this._s(this.$t("permission.title")))]),this._v(" "),e("p",[this._v(this._s(this.$t("permission.desc")))])])}),[],!1,null,null,null).exports,_={name:"email-view"},p=Object(a.a)(_,(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports,m={name:"Confirm",props:{placement:{default:"top-end"},message:{default:"Are you sure to delete this?"}},data:function(){return{visible:!1}},methods:{hide:function(){this.visible=!1},confirm:function(){this.hide(),this.$emit("yes")},cancel:function(){this.hide(),this.$emit("no")}}},f=Object(a.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",{attrs:{width:"170",placement:t.placement},on:{hide:t.cancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("p",{domProps:{innerHTML:t._s(t.message)}}),t._v(" "),i("div",{staticClass:"action-buttons"},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.cancel()}}},[t._v("\n            "+t._s(t.$t("cancel"))+"\n        ")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.confirm()}}},[t._v("\n            "+t._s(t.$t("confirm"))+"\n        ")])],1),t._v(" "),i("template",{slot:"reference"},[t._t("reference",(function(){return[i("i",{staticClass:"el-icon-delete"})]}))],2)],2)}),[],!1,null,null,null).exports,h={name:"Pagination",props:{pagination:{required:!0,type:Object}},computed:{page_sizes:function(){var t=[];this.pagination.per_page<10&&t.push(this.pagination.per_page);return[].concat(t,[10,20,50,80,100,120,150])}},methods:{changePage:function(t){this.pagination.current_page=t,this.$emit("fetch")},changeSize:function(t){this.pagination.per_page=t,this.$emit("per_page_change",t),this.$emit("fetch")}}},g=Object(a.a)(h,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-pagination",{staticClass:"fluentcrm-pagination",attrs:{background:!1,layout:"total, sizes, prev, pager, next","hide-on-single-page":!0,"current-page":t.pagination.current_page,"page-sizes":t.page_sizes,"page-size":t.pagination.per_page,total:t.pagination.total},on:{"current-change":t.changePage,"size-change":t.changeSize,"update:currentPage":function(e){return t.$set(t.pagination,"current_page",e)},"update:current-page":function(e){return t.$set(t.pagination,"current_page",e)}}})}),[],!1,null,null,null).exports,v={name:"SaveCampaign",props:["dialogTitle","dialogVisible","selectedCampaign"],data:function(){return{error:"",saving:!1,campaign:{id:null,title:""}}},computed:{isVisibile:{get:function(){return this.dialogVisible},set:function(t){this.$emit("toggleDialog",t)}}},methods:{save:function(){var t=this;if(this.campaign.title){this.error="",this.saving=!0;(parseInt(this.campaign.id)?this.$put("campaigns/".concat(this.campaign.id),this.campaign):this.$post("campaigns",this.campaign)).then((function(e){t.isVisibile=!1,t.$emit("saved",e)})).catch((function(e){var i=e.data?e.data:e;if(i.status&&403===i.status)t.isVisibile=!1,t.$message(i.message,"Oops!",{center:!0,type:"warning",confirmButtonText:"Close",dangerouslyUseHTMLString:!0,callback:function(e){t.$router.push({name:"campaigns",query:{t:(new Date).getTime()}})}});else{var n=Object.keys(i.title);t.error=i.title[n[0]]}})).finally((function(e){t.saving=!1}))}else this.error="Title field is required"},opened:function(){this.selectedCampaign&&(this.campaign.id=this.selectedCampaign.id,this.campaign.title=this.selectedCampaign.title),this.$refs.title.focus()},closed:function(){this.error="",this.campaign.title=""}}},b=(i(235),{name:"Campaigns",components:{Confirm:f,Pagination:g,UpdateOrCreate:Object(a.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns"},[i("el-dialog",{attrs:{"close-on-click-modal":!1,width:"50%",title:t.dialogTitle,"append-to-body":!0,visible:t.isVisibile},on:{"update:visible":function(e){t.isVisibile=e},opened:t.opened,closed:t.closed}},[i("div",[i("el-col",{attrs:{span:24}},[i("el-input",{ref:"title",attrs:{placeholder:t.$t("Title")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save.apply(null,arguments)}},model:{value:t.campaign.title,callback:function(e){t.$set(t.campaign,"title",e)},expression:"campaign.title"}}),t._v(" "),i("span",{staticClass:"error"},[t._v(t._s(t.error))])],1)],1),t._v(" "),i("div",{staticClass:"save-campaign-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",loading:t.saving},on:{click:t.save}},[t._v("\n                "+t._s(t.$t("Continue"))+"\n            ")])],1)])],1)}),[],!1,null,null,null).exports},data:function(){return{campaigns:[],pagination:{total:0,per_page:20,current_page:1},loading:!0,dialogVisible:!1,dialogTitle:this.$t("Add Campaign Title"),searchBy:"",filterByStatuses:[],statuses:[{key:"draft",label:this.$t("Draft")},{key:"pending",label:this.$t("Pending")},{key:"archived",label:this.$t("Archived")},{key:"incomplete",label:this.$t("Incomplete")},{key:"purged",label:this.$t("Purged")}],order:"desc",orderBy:"id"}},methods:{create:function(){this.toggleDialog(!0)},toggleDialog:function(t){this.dialogVisible=t},isNotEditable:function(t){return["archived","working"].indexOf(t.status)>=0},scheduledAt:function(t){return null===t?"Not Scheduled":this.nsDateFormat(t,"MMMM Do, YYYY [at] h:mm A")},saved:function(t){this.fetch(),this.$router.push({name:"campaign",params:{id:t.id}})},fetch:function(){var t=this;this.loading=!0;var e={order:this.order,orderBy:this.orderBy,searchBy:this.searchBy,statuses:this.filterByStatuses,per_page:this.pagination.per_page,page:this.pagination.current_page,with:["stats"]};this.$get("campaigns",e).then((function(e){t.loading=!1,t.campaigns=e.campaigns.data,t.pagination.total=e.campaigns.total,t.registerHeartBeat(),t.$bus.$emit("refresh-stats")}))},searchCampaigns:function(){this.fetch()},remove:function(t){var e=this;this.$del("campaigns/".concat(t.id)).then((function(t){e.fetch(),e.$notify.success({title:"Great!",message:"Campaign deleted.",offset:19})})).catch((function(t){e.$message(t.message,"Oops!",{center:!0,type:"warning",confirmButtonText:"Close",dangerouslyUseHTMLString:!0,callback:function(t){e.$router.push({name:"campaigns",query:{t:(new Date).getTime()}})}})}))},sortCampaigns:function(t){this.order=t.order,this.orderBy=t.prop,this.fetch()},registerHeartBeat:function(){var t=this;jQuery(document).off("heartbeat-send").on("heartbeat-send",(function(e,i){i.fluentcrm_campaign_ids=t.campaigns.map((function(t){return t.id}))})),jQuery(document).off("heartbeat-tick").on("heartbeat-tick",(function(e,i){if(i.fluentcrm_campaigns){var n=function(e){var n=i.fluentcrm_campaigns[e];t.campaigns.forEach((function(t){t.id===e&&t.status!==n&&(t.status=n)}))};for(var s in i.fluentcrm_campaigns)n(s)}}))},routeCampaign:function(t){var e="campaign-view";"draft"===t.status&&(e="campaign"),this.$router.push({name:e,params:{id:t.id},query:{t:(new Date).getTime(),step:t.next_step&&parseInt(t.next_step)<=3?t.next_step:0}})},getPercent:function(t,e){return e&&t?parseFloat(t/e*100).toFixed(2)+"%":"--"},cloneCampaign:function(t){var e=this;this.loading=!0,this.$post("campaigns/".concat(t.id,"/duplicate")).then((function(t){e.$notify.success(t.message),e.routeCampaign(t.campaign)})).catch((function(t){e.handleError(t)})).finally((function(){e.loading=!1}))}},watch:{filterByStatuses:function(){this.fetch()}},mounted:function(){var t=this.$route.query.status;this.filterByStatuses=t&&"total"!==t?[t]:[],this.changeTitle("Email Campaigns")}}),y=(i(237),Object(a.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Email Campaigns")))])]),t._v(" "),t.hasPermission("fcrm_manage_emails")?i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:t.create}},[t._v("\n               "+t._s(t.$t("Create New Campaign"))+"\n            ")])],1):t._e()]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm-header-secondary"},[i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:24}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:6}},[i("el-input",{attrs:{size:"mini","suffix-icon":"el-icon-search",placeholder:t.$t("Search by title...")},on:{input:t.searchCampaigns},model:{value:t.searchBy,callback:function(e){t.searchBy=e},expression:"searchBy"}})],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-select",{attrs:{size:"mini",multiple:"",clearable:"",placeholder:t.$t("Filter by status")},model:{value:t.filterByStatuses,callback:function(e){t.filterByStatuses=e},expression:"filterByStatuses"}},t._l(t.statuses,(function(t){return i("el-option",{key:t.key,attrs:{value:t.key,label:t.label}})})),1)],1)],1)],1)],1)],1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body"},[t.pagination.total?i("div",{staticClass:"campaigns-table"},[i("div",{staticClass:"fluentcrm_title_cards"},t._l(t.campaigns,(function(e){return i("div",{key:e.id,staticClass:"fluentcrm_title_card"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:11}},[i("div",{staticClass:"fluentcrm_card_desc"},[i("div",{staticClass:"fluentcrm_card_sub"},[t._v("\n                                    "+t._s(t._f("ucFirst")(e.status))+" -\n                                    "),"scheduled"==e.status?i("span",[t._v("\n                                        "+t._s(t._f("nsHumanDiffTime")(e.scheduled_at))+"\n                                    ")]):i("span",{attrs:{title:e.created_at}},[t._v("\n                                        "+t._s(t._f("nsHumanDiffTime")(e.created_at))+"\n                                    ")])]),t._v(" "),i("div",{staticClass:"fluentcrm_card_title"},[i("span",{on:{click:function(i){return t.routeCampaign(e)}}},[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"fluentcrm_card_actions fluentcrm_card_actions_hidden"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"draft"!==e.status,expression:"campaign.status !== 'draft'"}],attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.routeCampaign(e)}}},[t._v("\n                                        "+t._s(t.$t("Reports"))+"\n                                    ")]),t._v(" "),t.hasPermission("fcrm_manage_emails")?[i("confirm",{directives:[{name:"show",rawName:"v-show",value:"working"!==e.status,expression:"campaign.status !== 'working'"}],attrs:{placement:"top-start"},on:{yes:function(i){return t.remove(e)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[t._v("\n                                                "+t._s(t.$t("Delete"))+"\n                                            ")])],1),t._v(" "),i("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-document-copy"},on:{click:function(i){return t.cloneCampaign(e)}}},[t._v("\n                                            "+t._s(t.$t("Duplicate"))+"\n                                        ")])]:t._e()],2)])]),t._v(" "),i("el-col",{attrs:{sm:24,md:13}},[i("div",{staticClass:"fluentcrm_card_stats"},["draft"==e.status?i("div",{staticClass:"fluentcrm_cart_cta"},[i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return t.routeCampaign(e)}}},[t._v("\n                                        "+t._s(t.$t("Setup"))+"\n                                    ")])],1):i("ul",{staticClass:"fluentcrm_inline_stats"},[i("li",[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(e.stats.sent||"--"))]),t._v(" "),i("p",[t._v(t._s(t.$t("Sent")))])]),t._v(" "),i("li",{attrs:{title:e.stats.views}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.getPercent(e.stats.views,e.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Opened")))])]),t._v(" "),i("li",{attrs:{title:e.stats.clicks}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.getPercent(e.stats.clicks,e.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Clicked")))])]),t._v(" "),i("li",{attrs:{title:e.stats.unsubscribers}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.getPercent(e.stats.unsubscribers,e.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Unsubscribed")))])]),t._v(" "),e.stats.revenue?i("li",[i("span",{staticClass:"fluentcrm_digit"},[t._v("\n                                            "+t._s(e.stats.revenue.total)+"\n                                        ")]),t._v(" "),i("p",[t._v(t._s(e.stats.revenue.label))])]):t._e()])])])],1)],1)})),0),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1):i("div",[i("div",{staticClass:"fluentcrm_hero_box"},[i("h2",[t._v(t._s(t.$t("Cam_Looks_lydnbaecy")))]),t._v(" "),i("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:t.create}},[t._v("\n                    "+t._s(t.$t("Cam_Create_YFEC"))+"\n                ")])],1)])]),t._v(" "),i("UpdateOrCreate",{attrs:{dialogVisible:t.dialogVisible,dialogTitle:t.dialogTitle},on:{saved:t.saved,toggleDialog:t.toggleDialog}})],1)}),[],!1,null,null,null).exports),w={name:"inputPopover",props:{value:String,placeholder:{type:String,default:""},placement:{type:String,default:"bottom"},icon:{type:String,default:"el-icon-more"},fieldType:{type:String,default:"text"},popper_class:{type:String,default:""},data:Array,attrName:{type:String,default:"attribute_name"},popper_extra:{type:String,default:""}},data:function(){return{model:this.value}},watch:{model:function(){this.$emit("input",this.model)}},methods:{selectEmoji:function(t){this.insertShortcode(t.data)},insertShortcode:function(t){this.model||(this.model=""),this.model+=t.replace(/param_name/,this.attrName)}}},k=(i(239),Object(a.a)(w,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-popover",{ref:"input-popover",attrs:{placement:t.placement,width:"200","popper-class":"el-dropdown-list-wrapper "+t.popper_extra,trigger:"click"}},[i("ul",{staticClass:"el-dropdown-menu el-dropdown-list fc_limit_height",class:t.popper_class},t._l(t.data,(function(e,n){return i("li",{key:n},[t.data.length>1?i("span",{staticClass:"group-title"},[t._v(t._s(e.title))]):t._e(),t._v(" "),i("ul",t._l(e.shortcodes,(function(e,n){return i("li",{key:n,staticClass:"el-dropdown-menu__item",on:{click:function(e){return t.insertShortcode(n)}}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),0)])})),0)]),t._v(" "),"textarea"==t.fieldType?i("div",{staticClass:"input-textarea-value"},[i("i",{directives:[{name:"popover",rawName:"v-popover:input-popover",arg:"input-popover"}],staticClass:"icon el-icon-tickets"}),t._v(" "),i("el-input",{attrs:{placeholder:t.placeholder,rows:4,type:"textarea"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1):i("el-input",{staticClass:"fc_pop_append",attrs:{placeholder:t.placeholder,type:t.fieldType},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[i("template",{slot:"append"},[i("span",{directives:[{name:"popover",rawName:"v-popover:input-popover",arg:"input-popover"}],staticClass:"fluentcrm_url fluentcrm_clickable",class:t.icon})])],2)],1)}),[],!1,null,null,null).exports),x={name:"DynamicSegmentCampaignPromo"},$=Object(a.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fc_promo_body"},[e("div",{staticClass:"promo_block",staticStyle:{background:"white",padding:"10px","text-align":"center",display:"block",overflow:"hidden"}},[e("h2",[this._v("Send Emails with Multiple Subject Line (A/B) test")]),this._v(" "),e("p",[this._v("\n            You can split test your Email Subject Line and Test which Subject Lines got more open and click rate. This is a pro feature\n        ")]),this._v(" "),e("div",{},[e("a",{staticClass:"el-button el-button--danger",attrs:{href:this.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[this._v("Get FluentCRM Pro")])])])])}),[],!1,null,null,null).exports,C={name:"InputText",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},S=Object(a.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.appVars.verified_senders.length?i("el-select",{attrs:{placeholder:t.field.placeholder,filterable:"","allow-create":""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.appVars.verified_senders,(function(t){return i("el-option",{key:t,attrs:{value:t}})})),1):i("el-input",{attrs:{type:t.field.data_type,placeholder:t.field.placeholder},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)}),[],!1,null,null,null).exports,E={name:"EmailSubjects",props:["campaign","label_align","multi_subject","mailer_settings"],components:{InputPopover:k,AbEmailSubjectPromo:$,VerifiedEmailInput:S},data:function(){return{loading:!1,codes_ready:!1,smartcodes:window.fcAdmin.globalSmartCodes,hide_subject:!1,multi_subject_status:!(!this.campaign.subjects||!this.campaign.subjects.length)}},methods:{addSubject:function(){this.campaign.subjects.push({key:50,value:""})},removeSubject:function(t){this.campaign.subjects.splice(t,1)},maybeResetSubject:function(){this.multi_subject_status&&this.has_campaign_pro?this.campaign.subjects&&this.campaign.subjects.length||(this.campaign.subjects=[],this.campaign.subjects.push({key:50,value:""})):this.campaign.subjects=[]}},mounted:function(){}};function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(Object(i),!0).forEach((function(e){T(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function T(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var P={name:"CampaignTemplate",props:["campaign","label_align"],components:{EmailSubjects:Object(a.a)(E,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_email_composer"},[i("el-form",{attrs:{"label-position":t.label_align,"label-width":"220px",model:t.campaign}},[i("el-form-item",{attrs:{label:t.$t("Email Subject")}},[i("input-popover",{attrs:{popper_extra:"fc_with_c_fields",placeholder:"Email Subject",data:t.smartcodes},model:{value:t.campaign.email_subject,callback:function(e){t.$set(t.campaign,"email_subject",e)},expression:"campaign.email_subject"}})],1),t._v(" "),t.multi_subject?[i("el-form-item",[i("el-checkbox",{on:{change:function(e){return t.maybeResetSubject()}},model:{value:t.multi_subject_status,callback:function(e){t.multi_subject_status=e},expression:"multi_subject_status"}},[t._v("\n                    "+t._s(t.$t("Ema_Enable_Atfes"))+"\n                ")])],1),t._v(" "),t.multi_subject_status?[t.has_campaign_pro?i("div",[i("p",[t._v(t._s(t.$t("Ema_Your_ppwbctpair")))]),t._v(" "),i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",{staticStyle:{width:"60%"}},[t._v(t._s(t.$t("Subject")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Priority (%)")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Actions")))])])]),t._v(" "),i("tbody",t._l(t.campaign.subjects,(function(e,n){return i("tr",{key:n},[i("td",[i("input-popover",{attrs:{placeholder:"Subject Test "+(n+1),data:t.smartcodes},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"subject.value"}})],1),t._v(" "),i("td",[i("el-input-number",{attrs:{min:1,max:99},model:{value:e.key,callback:function(i){t.$set(e,"key",i)},expression:"subject.key"}})],1),t._v(" "),i("td",[i("el-button",{attrs:{disabled:1==t.campaign.subjects.length,type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(e){return t.removeSubject(n)}}})],1)])})),0)]),t._v(" "),i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"info",size:"small"},on:{click:t.addSubject}},[t._v(t._s(t.$t("Add More")))])],1)]):i("div",[i("ab-email-subject-promo")],1)]:t._e()]:t._e(),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Email Pre-Header")}},[i("el-input",{attrs:{type:"textarea",placeholder:t.$t("Email Pre-Header"),rows:2},model:{value:t.campaign.email_pre_header,callback:function(e){t.$set(t.campaign,"email_pre_header",e)},expression:"campaign.email_pre_header"}})],1),t._v(" "),t.mailer_settings&&t.campaign.settings.mailer_settings?[i("el-form-item",[i("el-checkbox",{attrs:{"true-label":"yes","false-label":"no"},model:{value:t.campaign.settings.mailer_settings.is_custom,callback:function(e){t.$set(t.campaign.settings.mailer_settings,"is_custom",e)},expression:"campaign.settings.mailer_settings.is_custom"}},[t._v("\n                    "+t._s(t.$t("Vie_Set_CFNaE"))+"\n                ")])],1),t._v(" "),"yes"==t.campaign.settings.mailer_settings.is_custom?i("div",{staticClass:"fluentcrm_highlight_white"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("From Name")}},[i("el-input",{attrs:{placeholder:"From Name"},model:{value:t.campaign.settings.mailer_settings.from_name,callback:function(e){t.$set(t.campaign.settings.mailer_settings,"from_name",e)},expression:"campaign.settings.mailer_settings.from_name"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("From Email")}},[i("verified-email-input",{attrs:{field:{placeholder:"From Email","data-type":"email"}},model:{value:t.campaign.settings.mailer_settings.from_email,callback:function(e){t.$set(t.campaign.settings.mailer_settings,"from_email",e)},expression:"campaign.settings.mailer_settings.from_email"}}),t._v(" "),i("p",{staticStyle:{margin:"0",padding:"0","font-size":"10px"}},[t._v("\n                                "+t._s(t.$t("Vie_Please_msteisbyS"))+"\n                            ")])],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("Reply To Name")}},[i("el-input",{attrs:{placeholder:t.$t("Reply To Name")},model:{value:t.campaign.settings.mailer_settings.reply_to_name,callback:function(e){t.$set(t.campaign.settings.mailer_settings,"reply_to_name",e)},expression:"campaign.settings.mailer_settings.reply_to_name"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("Reply To Email")}},[i("el-input",{attrs:{placeholder:t.$t("Reply To Email"),type:"email"},model:{value:t.campaign.settings.mailer_settings.reply_to_email,callback:function(e){t.$set(t.campaign.settings.mailer_settings,"reply_to_email",e)},expression:"campaign.settings.mailer_settings.reply_to_email"}})],1)],1)],1)],1):t._e()]:t._e(),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.campaign.utm_status,callback:function(e){t.$set(t.campaign,"utm_status",e)},expression:"campaign.utm_status"}},[t._v("\n                "+t._s(t.$t("Ema_Add_UPFU"))+"\n            ")])],1),t._v(" "),1==t.campaign.utm_status||"1"==t.campaign.utm_status?i("div",{staticClass:"fluentcrm_highlight_white"},[i("el-form-item",{attrs:{label:t.$t("Campaign Source (required)")}},[i("el-input",{attrs:{placeholder:"The referrer: (e.g. google, newsletter)"},model:{value:t.campaign.utm_source,callback:function(e){t.$set(t.campaign,"utm_source",e)},expression:"campaign.utm_source"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Campaign Medium (required)")}},[i("el-input",{attrs:{placeholder:"Marketing medium: (e.g. cpc, banner, email)"},model:{value:t.campaign.utm_medium,callback:function(e){t.$set(t.campaign,"utm_medium",e)},expression:"campaign.utm_medium"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Campaign Name (required)")}},[i("el-input",{attrs:{placeholder:"Product, promo code, or slogan (e.g. spring_sale)"},model:{value:t.campaign.utm_campaign,callback:function(e){t.$set(t.campaign,"utm_campaign",e)},expression:"campaign.utm_campaign"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Campaign Term")}},[i("el-input",{attrs:{placeholder:"Identify the paid keywords"},model:{value:t.campaign.utm_term,callback:function(e){t.$set(t.campaign,"utm_term",e)},expression:"campaign.utm_term"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Campaign Content")}},[i("el-input",{attrs:{placeholder:"Use to differentiate ads"},model:{value:t.campaign.utm_content,callback:function(e){t.$set(t.campaign,"utm_content",e)},expression:"campaign.utm_content"}})],1)],1):t._e()],2)],1)}),[],!1,null,null,null).exports},data:function(){return{fetchingTemplate:!1,editor_status:!0,loading:!1,smart_codes:[],sending_test:!1,send_test_pop:!1,test_email:""}},methods:{nextStep:function(){if(!this.campaign.email_subject)return this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peS"),offset:19});if(this.campaign.subjects&&this.campaign.subjects.length&&!this.campaign.subjects.filter((function(t){return t.key&&t.value})).length)return this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_pSLfAT"),offset:19});this.updateCampaign()},updateCampaign:function(){var t=this;this.loading=!0;var e=JSON.parse(JSON.stringify(this.campaign));delete e.template,this.$put("campaigns/".concat(e.id),j(j({},e),{},{update_subjects:!0,next_step:2})).then((function(e){t.campaign.subjects=e.campaign.subjects,t.$emit("next",1)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},sendTestEmail:function(){var t=this;return this.campaign.email_body?this.campaign.email_subject?(this.sending_test=!0,void this.$post("campaigns/send-test-email",{campaign:this.campaign,test_campaign:"yes",email:this.test_email}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.sending_test=!1,t.send_test_pop=!1}))):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peS"),offset:19}):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peb"),offset:19})},goToPrev:function(){this.$emit("prev",0)}},mounted:function(){}},F=Object(a.a)(P,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"template"},[i("div",{staticClass:"fc_narrow_box fc_white_inverse"},[i("el-form",{attrs:{"label-position":"top",model:t.campaign}},[i("email-subjects",{attrs:{mailer_settings:!0,multi_subject:!0,label_align:"top",campaign:t.campaign}}),t._v(" "),i("el-form-item",[i("el-popover",{attrs:{placement:"top",width:"400",trigger:"manual"},model:{value:t.send_test_pop,callback:function(e){t.send_test_pop=e},expression:"send_test_pop"}},[i("div",[i("p",[t._v(t._s(t.$t("Cam_Type_cetstolbtsc")))]),t._v(" "),i("el-input",{attrs:{placeholder:t.$t("Email Address")},model:{value:t.test_email,callback:function(e){t.test_email=e},expression:"test_email"}},[i("template",{slot:"append"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.sending_test,expression:"sending_test"}],attrs:{type:"success"},on:{click:function(e){return t.sendTestEmail()}}},[t._v(t._s(t.$t("Send")))])],1)],2)],1),t._v(" "),i("el-button",{attrs:{slot:"reference",size:"small"},on:{click:function(e){t.send_test_pop=!t.send_test_pop}},slot:"reference"},[t._v("\n                        "+t._s(t.$t("Send a test email"))+"\n                    ")])],1)],1)],1)],1),t._v(" "),i("el-row",{staticStyle:{"max-width":"860px",margin:"0 auto"},attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){return t.goToPrev()}}},[t._v(" "+t._s(t.$t("Back"))+"\n            ")])],1),t._v(" "),i("el-col",{staticClass:"text-align-right",attrs:{span:12}},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"small",type:"success"},on:{click:function(e){return t.nextStep()}}},[t._v("\n                "+t._s(t.$t("Cam_Continue_TNS_"))+"\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports,D={name:"inputPopoverDropdownExtended",props:{data:Array,close_on_insert:{type:Boolean,default:function(){return!0}},buttonText:{type:String,default:function(){return'Add SmartCodes <i class="el-icon-arrow-down el-icon--right"></i>'}},btnType:{type:String,default:function(){return"success"}}},data:function(){return{activeIndex:0,visible:!1}},methods:{selectEmoji:function(t){this.insertShortcode(t.data)},insertShortcode:function(t){this.$emit("command",t),this.close_on_insert&&(this.visible=!1)}},mounted:function(){}},q=(i(241),Object(a.a)(D,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-popover",{ref:"input-popover1",attrs:{placement:"right-end",offset:"50","popper-class":"el-dropdown-list-wrapper",trigger:"click"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("div",{staticClass:"el_pop_data_group"},[i("div",{staticClass:"el_pop_data_headings"},[i("ul",t._l(t.data,(function(e,n){return i("li",{key:n,class:t.activeIndex==n?"active_item_selected":"",attrs:{"data-item_index":n},on:{click:function(e){t.activeIndex=n}}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})),0)]),t._v(" "),i("div",{staticClass:"el_pop_data_body"},t._l(t.data,(function(e,n){return i("ul",{directives:[{name:"show",rawName:"v-show",value:t.activeIndex==n,expression:"activeIndex == current_index"}],key:n,class:"el_pop_body_item_"+n},t._l(e.shortcodes,(function(e,n){return i("li",{key:n,on:{click:function(e){return t.insertShortcode(n)}}},[t._v(t._s(e)+"\n                        "),i("span",[t._v(t._s(n))])])})),0)})),0)])]),t._v(" "),i("el-button-group",[i("el-button",{directives:[{name:"popover",rawName:"v-popover:input-popover1",arg:"input-popover1"}],staticClass:"editor-add-shortcode",attrs:{size:"mini",type:t.btnType},domProps:{innerHTML:t._s(t.buttonText)}})],1)],1)}),[],!1,null,null,null).exports),A={name:"RawtextEditor",props:["value","editor_design"],components:{popover:q},data:function(){return{content:this.value||"",editorShortcodes:window.fcAdmin.globalSmartCodes,cursorPos:this.value?this.value.length:0}},watch:{content:function(){this.$emit("input",this.content)}},methods:{handleCommand:function(t){var e=this.content.slice(0,this.cursorPos),i=this.content.slice(this.cursorPos,this.content.length);this.content=e+t+i,this.cursorPos+=t.length},updateCursorPos:function(t){var e=jQuery(".wp_editor_raw_html textarea").prop("selectionStart");this.$set(this,"cursorPos",e)}},mounted:function(){var t=this;jQuery(".wp_editor_raw_html textarea").on("click",(function(e){t.updateCursorPos(e)}))}},I=Object(a.a)(A,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_raw_body"},[i("popover",{staticClass:"popover-wrapper",attrs:{data:t.editorShortcodes},on:{command:t.handleCommand}}),t._v(" "),i("el-input",{staticClass:"wp_editor_raw_html",attrs:{type:"textarea",rows:30,placeholder:t.$t("Raw_Please_PHoyE")},nativeOn:{keyup:function(e){return t.updateCursorPos.apply(null,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)}),[],!1,null,null,null).exports,N={name:"tinyButtonDesigner",props:["visibility"],data:function(){return{controls:{button_text:{type:"text",label:"Button Text",value:"Click Here"},button_url:{label:"Button URL",type:"url",value:""},backgroundColor:{label:"Background Color",type:"color_picker",value:"#0072ff"},textColor:{label:"Text Color",type:"color_picker",value:"#ffffff"},borderRadius:{label:"Border Radius",type:"slider",value:5,max:50,min:0},fontSize:{label:"Font Size",type:"slider",value:16,min:8,max:40},fontStyle:{label:"Font Style",type:"checkboxes",value:[],options:{bold:"Bold",italic:"Italic",underline:"Underline"}}},style:""}},watch:{controls:{handler:function(){this.generateStyle()},deep:!0}},methods:{close:function(){this.$emit("close")},insert:function(){if(this.controls.button_url.value&&this.controls.button_text.value){var t='<a  style="'.concat(this.style,'" href="').concat(this.controls.button_url.value,'">').concat(this.controls.button_text.value,"</a>");this.$emit("insert",t),this.close()}else this.$notify.error("Button Text and URL is required")},generateStyle:function(){var t=this.controls.fontStyle.value,e=-1===t.indexOf("underline")?"none":"underline",i=-1===t.indexOf("bold")?"normal":"bold",n=-1===t.indexOf("italic")?"normal":"italic";this.style="color:".concat(this.controls.textColor.value,";")+"background-color:".concat(this.controls.backgroundColor.value,";")+"font-size:".concat(this.controls.fontSize.value,"px;")+"border-radius:".concat(this.controls.borderRadius.value,"px;")+"text-decoration:".concat(e,";")+"font-weight:".concat(i,";")+"font-style:".concat(n,";")+"padding:0.8rem 1rem;border-color:#0072ff;"}},mounted:function(){this.generateStyle()}},L=(i(243),Object(a.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.$t("Design Your Button"),visible:t.visibility,"append-to-body":!0,"show-close":!1,width:"60%"},on:{"update:visible":function(e){t.visibility=e}}},[i("div",{staticClass:"fluentcrm_preview_mce"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:14}},[i("el-form",{attrs:{"label-position":"top"}},t._l(t.controls,(function(e,n){return i("el-col",{key:n,attrs:{span:12}},[i("el-form-item",{attrs:{label:e.label}},["text"==e.type||"url"==e.type?[i("el-input",{attrs:{type:e.type},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"control.value"}})]:"color_picker"==e.type?[i("el-color-picker",{on:{"active-change":function(t){e.value=t}},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"control.value"}})]:"slider"==e.type?i("div",[i("el-slider",{attrs:{min:e.min,max:e.max},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"control.value"}})],1):"checkboxes"==e.type?[i("el-checkbox-group",{model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"control.value"}},t._l(e.options,(function(e,n){return i("el-checkbox",{key:n,attrs:{label:n}},[t._v(t._s(e)+"\n                                    ")])})),1)]:t._e()],2)],1)})),1)],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("div",{staticClass:"fluentcrm_button_preview"},[i("div",{staticClass:"preview_header"},[t._v("\n                        "+t._s(t.$t("Button Preview"))+":\n                    ")]),t._v(" "),i("div",{staticClass:"preview_body"},[i("a",{style:t.style,attrs:{href:"#"},on:{click:function(e){return t.insert()}}},[t._v(t._s(t.controls.button_text.value))])])])])],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.close()}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.insert()}}},[t._v(t._s(t.$t("Insert")))])],1)])}),[],!1,null,null,null).exports),M=i(8),z={name:"wp_editor",components:{popover:q,ButtonDesigner:L},props:{editor_id:{type:String,default:function(){return"wp_editor_"+Date.now()+parseInt(1e3*Math.random())}},value:{type:String,default:function(){return""}},editorShortcodes:{type:Array,default:function(){return[]}},height:{type:Number,default:function(){return 250}},extra_style:{default:function(){return""}}},data:function(){return{showButtonDesigner:!1,hasWpEditor:!!window.wp.editor&&!!wp.editor.autop||!!window.wp.oldEditor,editor:window.wp.oldEditor||window.wp.editor,plain_content:this.value,cursorPos:this.value?this.value.length:0,app_ready:!1,buttonInitiated:!1,currentEditor:!1}},watch:{plain_content:function(){this.$emit("input",this.plain_content),this.$emit("change",this.plain_content)}},methods:{initEditor:function(){if(this.hasWpEditor){var t=[];this.each(M.b,(function(e,i){t.push(i+"="+e)})),this.editor.remove(this.editor_id);var e=this;this.editor.initialize(this.editor_id,{mediaButtons:!0,tinymce:{height:e.height,fontsize_formats:"8px 10px 12px 14px 16px 18px 24px 30px 36px 45px",toolbar1:"formatselect,fontselect,fontsizeselect,customInsertButton,table,bold,italic,bullist,numlist,link,blockquote,alignleft,aligncenter,alignright,underline,strikethrough,forecolor,removeformat,codeformat,outdent,indent,undo,redo",font_formats:t.join("; "),setup:function(t){t.on("change",(function(t,i){e.changeContentEvent()})),e.buttonInitiated||(e.buttonInitiated=!0,t.addButton("customInsertButton",{text:"Button",classes:"fluentcrm_editor_btn",onclick:function(){e.showInsertButtonModal(t)}})),console.log(t)},content_style:e.extra_style},quicktags:!0}),jQuery("#"+this.editor_id).on("change",(function(t){e.changeContentEvent()}))}},showInsertButtonModal:function(t){this.currentEditor=t,this.showButtonDesigner=!0},insertHtml:function(t){this.currentEditor.insertContent(t)},changeContentEvent:function(){var t=this.editor.getContent(this.editor_id);this.$emit("input",t),this.$emit("change",t)},handleCommand:function(t){if(this.hasWpEditor)window.tinymce.activeEditor.insertContent(t);else{var e=this.plain_content.slice(0,this.cursorPos),i=this.plain_content.slice(this.cursorPos,this.plain_content.length);this.plain_content=e+t+i,this.cursorPos+=t.length}},updateCursorPos:function(){var t=jQuery(".wp_vue_editor_plain").prop("selectionStart");this.$set(this,"cursorPos",t)}},mounted:function(){this.initEditor(),this.app_ready=!0}},R=(i(245),Object(a.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wp_vue_editor_wrapper"},[t.editorShortcodes&&t.editorShortcodes.length?i("popover",{staticClass:"popover-wrapper",class:{"popover-wrapper-plaintext":!t.hasWpEditor},attrs:{data:t.editorShortcodes},on:{command:t.handleCommand}}):t._e(),t._v(" "),t.hasWpEditor?i("textarea",{staticClass:"wp_vue_editor",attrs:{id:t.editor_id}},[t._v(t._s(t.value))]):i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.plain_content,expression:"plain_content"}],staticClass:"wp_vue_editor wp_vue_editor_plain",domProps:{value:t.plain_content},on:{click:t.updateCursorPos,input:function(e){e.target.composing||(t.plain_content=e.target.value)}}}),t._v(" "),t.showButtonDesigner?i("button-designer",{attrs:{visibility:t.showButtonDesigner},on:{close:function(){t.showButtonDesigner=!1},insert:t.insertHtml}}):t._e()],1)}),[],!1,null,null,null).exports),B={name:"FCBlockEditor",props:["value","design_template"],components:{WpEditor:R},data:function(){return{content:this.value||"\x3c!-- wp:paragraph --\x3e<p>Start Writing Here</p>\x3c!-- /wp:paragraph --\x3e",has_block_editor:!!window.fluentCrmBootEmailEditor,editorShortcodes:window.fcAdmin.globalSmartCodes}},methods:{init:function(){this.has_block_editor&&window.fluentCrmBootEmailEditor(this.content,this.handleChange)},handleChange:function(t){this.$emit("input",t)}},mounted:function(){this.init(),jQuery(".block-editor-block-inspector__no-blocks").html('<div class="text-align-left"><b>Tips:</b><ul><li>Type <code>/</code> to see all the available blocks</li><li>Type <code>@</code> to insert dynamic tags</li></ul></div>')}},V=Object(a.a)(B,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.has_block_editor?i("div",{staticClass:"fc_block_editor",class:"fc_skin_"+t.design_template,attrs:{id:"fluentcrm_block_editor_x"}},[t._v("\n    "+t._s(t.$t("Loading Editor..."))+"\n")]):i("div",{staticClass:"fc_classic_editor_fallback",staticStyle:{"max-width":"800px",margin:"50px auto"}},[i("wp-editor",{attrs:{editorShortcodes:t.editorShortcodes},on:{change:t.handleChange},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),i("p",[t._v("Looks like you are using Old version of WordPress. Use atleast version 5.4 to use Smart Email Editor powered by Block Editor")])],1)}),[],!1,null,null,null).exports,U={name:"InputRadioImage",props:["field","value","boxWidth","boxHeight","tooltip_prefix"],data:function(){return{model:this.value,width:this.boxWidth||120,height:this.boxHeight||120}},watch:{model:function(t){this.$emit("input",t),this.$emit("change",t)}}},H=Object(a.a)(U,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-radio-group",{staticClass:"fc_image_radio_tooltips",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e,n){return i("el-radio",{key:n,attrs:{label:e.id}},[i("el-tooltip",{attrs:{content:t.tooltip_prefix+e.label,placement:"top"}},[i("div",{staticClass:"fc_image_box",class:t.model==e.id?"fc_image_active":"",style:{backgroundImage:"url("+e.image+")",width:t.width+"px",height:t.height+"px"}})])],1)})),1)}),[],!1,null,null,null).exports,G={name:"withLabelField",props:["field"]},W=Object(a.a)(G,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{class:t.field.wrapper_class},[t.field.label?i("div",{attrs:{slot:"label"},slot:"label"},[t._v("\n    "+t._s(t.field.label)+"\n        "),t.field.help?i("el-tooltip",{attrs:{"popper-class":"sidebar-popper",effect:"dark",placement:"top"}},[i("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.field.help)},slot:"content"}),t._v(" "),i("i",{staticClass:"tooltip-icon el-icon-info"})]):t._e()],1):t._e(),t._v(" "),t._t("default"),t._v(" "),t.field.inline_help?i("p",{staticClass:"fc_inline_help",domProps:{innerHTML:t._s(t.field.inline_help)}}):t._e()],2)}),[],!1,null,null,null).exports,J={name:"InputText",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},Y=Object(a.a)(J,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",{attrs:{type:t.field.data_type,placeholder:t.field.placeholder},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports,K=i(22),Q={name:"WPEditorField",props:{value:{type:String,default:function(){return""}},field:{type:Object,default:function(){return{}}},extra_style:{default:function(){return""}},height:{type:Number,default:function(){return 250}}},components:{WpBaseEditor:R},data:function(){return{model:this.value,smartcodes:window.fcAdmin.globalSmartCodes}},watch:{model:function(t){this.$emit("input",t)}}},Z=Object(a.a)(Q,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("wp-base-editor",{attrs:{height:t.height,extra_style:t.extra_style,editorShortcodes:t.smartcodes},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports,X={name:"InputTextPopper",props:["field","value"],components:{InputPopover:k},data:function(){return{model:this.value,smartcodes:window.fcAdmin.globalSmartCodes}},watch:{model:function(t){this.$emit("input",t)}}},tt=Object(a.a)(X,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("input-popover",{attrs:{"field-type":t.field.field_type,placeholder:t.field.placeholder,popper_class:t.field.popper_class,data:t.smartcodes},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports,et={name:"InputRadioImage",props:["field","value","size"],data:function(){return{model:this.value,boxSize:this.size||120}},watch:{model:function(t){this.$emit("input",t)}}},it=Object(a.a)(et,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-radio-group",{staticClass:"fc_image_radios",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e,n){return i("el-radio",{key:n,attrs:{label:e.id}},[i("div",{staticClass:"fc_image_box",class:t.model==e.id?"fc_image_active":"",style:{backgroundImage:"url("+e.image+")",width:t.boxSize+"px",height:t.boxSize+"px"}},[i("span",[t._v(t._s(e.label))])])])})),1)}),[],!1,null,null,null).exports,nt={name:"InputRadio",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},st=Object(a.a)(nt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-radio-group",{class:t.field.wrapper_class,model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e,n){return i("el-radio",{key:n,attrs:{label:e.id}},[t._v("\n        "+t._s(e.label)+"\n    ")])})),1)}),[],!1,null,null,null).exports,at={name:"InputOption",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},ot=Object(a.a)(at,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",{class:t.field.wrapper_class,attrs:{clearable:"",filterable:"",multiple:t.field.multiple},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.label}})})),1)}),[],!1,null,null,null).exports,rt={name:"InputColor",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},lt=Object(a.a)(rt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-color-picker",{attrs:{"color-format":t.field.colorFormat,"show-alpha":t.field.showAlpha},on:{"active-change":function(e){t.model=e}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports,ct={name:"InputNumber",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},ut=Object(a.a)(ct,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input-number",{attrs:{min:t.field.min,step:t.field.step},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports;function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _t={name:"OptionSelector",props:["value","field"],data:function(){return{options:{},model:this.value,element_ready:!1,new_item:"",creating:!1,create_pop_status:!1}},watch:{model:function(t){this.$emit("input",t)}},methods:{getOptions:function(){var t=this;this.app_ready=!1;var e={fields:"tags,lists,editable_statuses,"+this.field.option_key};this.$get("reports/options",e).then((function(e){window.fc_options_cache=e.options,t.options=e.options,t.element_ready=!0})).catch((function(e){t.handleError(e)})).finally((function(){}))},createNewItem:function(){var t=this;this.creating=!0,this.$post(this.field.option_key+"/bulk",{items:[{title:this.new_item}]}).then((function(e){t.create_pop_status=!1,t.$notify.success(e.message),t.getOptions(),t.new_item=""})).fail((function(e){t.handleError(e)})).finally((function(){t.creating=!1}))}},mounted:function(){window.fc_options_cache&&window.fc_options_cache[this.field.option_key]?(this.options=window.fc_options_cache,this.field.is_multiple&&"object"!==dt(this.value)&&this.$set(this,"model",[]),this.element_ready=!0):this.getOptions()}},pt=(i(247),Object(a.a)(_t,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_options_selector",class:t.field.creatable?"fc_option_creatable":""},[i("el-select",{directives:[{name:"loading",rawName:"v-loading",value:!t.element_ready,expression:"!element_ready"}],attrs:{multiple:t.field.is_multiple,placeholder:t.field.placeholder,clearable:"",filterable:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.options[t.field.option_key],(function(e){return t.element_ready?i("el-option",{key:e.id,attrs:{value:e.id,label:e.title}},[i("span",{domProps:{innerHTML:t._s(e.title)}})]):t._e()})),1),t._v(" "),t.field.creatable?i("el-popover",{attrs:{placement:"left",width:"400",trigger:"manual"},model:{value:t.create_pop_status,callback:function(e){t.create_pop_status=e},expression:"create_pop_status"}},[i("div",[i("el-input",{attrs:{placeholder:"Provide Name"},model:{value:t.new_item,callback:function(e){t.new_item=e},expression:"new_item"}},[i("template",{slot:"append"},[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.createNewItem()}}},[t._v("Add")])],1)],2)],1),t._v(" "),i("el-button",{staticClass:"fc_with_select",attrs:{slot:"reference",type:"info"},on:{click:function(e){t.create_pop_status=!t.create_pop_status}},slot:"reference"},[t._v("+\n        ")])],1):t._e()],1)}),[],!1,null,null,null).exports),mt={name:"InlineCheckbox",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},ft=Object(a.a)(mt,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-checkbox",{attrs:{"true-label":t.field.true_label,"false-label":t.field.false_label},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t._v(t._s(t.field.checkbox_label))])}),[],!1,null,null,null).exports,ht={name:"CheckboxGroup",props:["field","value"],data:function(){return{model:this.value,isIndeterminate:!1,checkAll:!1}},watch:{model:function(t){this.$emit("input",t)}},computed:{optionKeys:function(){if(!this.field.has_all_selector)return[];var t=[];return this.each(this.field.options,(function(e){t.push(e.id)})),t}},methods:{checked:function(t){var e=this.optionKeys.length;this.checkAll=e===this.model.length,this.isIndeterminate=e>0&&e<this.model.length},all:function(t){this.checkAll?this.model=this.optionKeys:this.model=[],this.isIndeterminate=!1}}},gt=Object(a.a)(ht,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_checkbox_group"},[t.field.has_all_selector?[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.all},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("\n            "+t._s(t.field.all_selector_label)+"\n        ")]),t._v(" "),i("div",{staticStyle:{margin:"15px 0"}})]:t._e(),t._v(" "),i("el-checkbox-group",{class:t.field.input_class,on:{change:t.checked},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n            "+t._s(e.label)+"\n        ")])})),1)],2)}),[],!1,null,null,null).exports,vt={name:"InputText",props:["field","value"],components:{OptionSelector:pt},data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},bt=Object(a.a)(vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_tag_list_wrapper",class:t.field.wrapper_class},[i("el-form-item",{attrs:{label:t.field.tag_label}},[i("option-selector",{attrs:{field:{is_multiple:!0,option_key:"tags"}},model:{value:t.model.tags,callback:function(e){t.$set(t.model,"tags",e)},expression:"model.tags"}}),t._v(" "),t.field.tag_help?i("p",{staticClass:"fc_inline_help",domProps:{innerHTML:t._s(t.field.tag_help)}}):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:t.field.list_label}},[i("option-selector",{attrs:{field:{is_multiple:!0,option_key:"lists"}},model:{value:t.model.lists,callback:function(e){t.$set(t.model,"lists",e)},expression:"model.lists"}}),t._v(" "),t.field.list_help?i("p",{staticClass:"fc_inline_help",domProps:{innerHTML:t._s(t.field.list_help)}}):t._e()],1)],1)}),[],!1,null,null,null).exports,yt={name:"HtmlViewer",props:["field"]},wt=Object(a.a)(yt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_html"},[t.field.heading?i("h3",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.field.heading))]):t._e(),t._v(" "),i("div",{domProps:{innerHTML:t._s(t.field.info)}})])}),[],!1,null,null,null).exports,kt={name:"TagAddRemoveElement",props:["field","value"],components:{OptionSelector:pt},data:function(){return{model:this.value,tags_ready:!1}},watch:{model:function(t){this.$emit("input",t)}},mounted:function(){var t=this;this.renewOptionCache("tags",(function(){t.tags_ready=!0}))}},xt=Object(a.a)(kt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.tags_ready,expression:"!tags_ready"}],staticClass:"fc_tag_mappings"},[t.tags_ready?i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.field.selector_label))]),t._v(" "),i("th",[t._v(t._s(t.field.add_tag_label))]),t._v(" "),i("th",[t._v(t._s(t.field.remove_tag_label))])])]),t._v(" "),i("tbody",t._l(t.field.selector_options,(function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.title))]),t._v(" "),i("td",[i("option-selector",{attrs:{field:{option_key:"tags",creatable:!0,is_multiple:!0}},model:{value:t.model[e.id].add_tags,callback:function(i){t.$set(t.model[e.id],"add_tags",i)},expression:"model[option.id].add_tags"}})],1),t._v(" "),i("td",[i("option-selector",{attrs:{field:{option_key:"tags",creatable:!0,is_multiple:!0}},model:{value:t.model[e.id].remove_tags,callback:function(i){t.$set(t.model[e.id],"remove_tags",i)},expression:"model[option.id].remove_tags"}})],1)])})),0)]):t._e()])}),[],!1,null,null,null).exports,$t={name:"FormManyDropdownMapper",props:["field","value"],methods:{addMore:function(){this.value.push({field_key:"",field_value:""})},deleteItem:function(t){this.value.splice(t,1)}}},Ct=Object(a.a)($t,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.field.local_label))]),t._v(" "),i("th",[t._v(t._s(t.field.remote_label))]),t._v(" "),i("th",{attrs:{width:"40px"}})])]),t._v(" "),i("tbody",[t._l(t.value,(function(e,n){return i("tr",{key:n},[i("td",[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.field.local_placeholder},model:{value:e.field_key,callback:function(i){t.$set(e,"field_key",i)},expression:"item.field_key"}},t._l(t.field.fields,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t.label}})})),1)],1),t._v(" "),i("td",[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.field.remote_placeholder},model:{value:e.field_value,callback:function(i){t.$set(e,"field_value",i)},expression:"item.field_value"}},t._l(t.field.value_options,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})),1)],1),t._v(" "),i("td",[i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{disabled:1==t.value.length,type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(e){return t.deleteItem(n)}}})],1)])])})),t._v(" "),i("tr",[i("td"),t._v(" "),i("td"),t._v(" "),i("td",[i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(e){return t.addMore()}}},[t._v("Add More")])],1)])])],2)])}),[],!1,null,null,null).exports,St={name:"global_form_builder",components:{WithLabel:W,InputText:Y,PhotoWidget:K.a,InputTextPopper:tt,WpEditor:Z,ImageRadio:it,InputRadio:st,InputOption:ot,InputColor:lt,InputNumber:ut,OptionSelector:pt,InlineCheckbox:ft,CheckboxGroup:gt,VerifiedEmailInput:S,InputTagList:bt,HtmlViewer:wt,TagAddRemoveMapping:xt,"form-many-drop-down-mapper":Ct},props:{formData:{type:Object,required:!1,default:function(){return{}}},label_position:{required:!1,type:String,default:function(){return"top"}},fields:{required:!0,type:Object}},methods:{nativeSave:function(){this.$emit("nativeSave",this.formData)},compare:function(t,e,i){switch(e){case"=":return t===i;case"!=":return t!==i}},dependancyPass:function(t){if(t.dependency){var e=t.dependency.depends_on.split("/").reduce((function(t,e){return t[e]}),this.formData);return!!this.compare(t.dependency.value,t.dependency.operator,e)}return!0}}},Et=Object(a.a)(St,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_global_form_builder"},[i("el-form",{attrs:{data:t.formData,"label-position":t.label_position},nativeOn:{submit:function(e){return e.preventDefault(),t.nativeSave.apply(null,arguments)}}},t._l(t.fields,(function(e,n){return t.dependancyPass(e)?i("with-label",{key:n,attrs:{field:e}},[i(e.type,{tag:"component",attrs:{field:e},model:{value:t.formData[n],callback:function(e){t.$set(t.formData,n,e)},expression:"formData[fieldIndex]"}})],1):t._e()})),1)],1)}),[],!1,null,null,null).exports,Ot=i(20),jt={name:"EmailStyleEditor",props:["template_config"],components:{FormBuilder:Et},data:function(){return{showBodyConfig:!1,email_font_families:M.b}},watch:{template_config:{deep:!0,handler:function(){this.generateStyles()}}},computed:{settingsFields:function(){if(Ot(this.template_config))return{};var t=[];this.each(this.email_font_families,(function(e,i){t.push({id:e,label:i})}));var e={body_bg_color:{label:this.$t("Body Background Color"),type:"input-color",colorFormat:"hex",showAlpha:!1},content_width:{label:this.$t("Content Max Width (PX)"),inline_help:"Suggesting value: Between 600 to 800",type:"input-number",min:400,step:10},content_bg_color:{label:this.$t("Content Background Color"),type:"input-color",colorFormat:"hex",showAlpha:!1},text_color:{label:this.$t("Default Content Color"),type:"input-color",colorFormat:"hex",showAlpha:!1},heading_color:{label:this.$t("Default Headings Color"),type:"input-color",colorFormat:"hex",showAlpha:!1},footer_text_color:{label:this.$t("Footer Text Color"),type:"input-color",colorFormat:"hex",showAlpha:!1},link_color:{label:this.$t("Default Link Color"),type:"input-color",colorFormat:"hex",showAlpha:!1},content_font_family:{label:this.$t("Content Font Family"),type:"input-option",options:t},headings_font_family:{label:this.$t("Headings Font Family"),type:"input-option",options:t},disable_footer:{type:"inline-checkbox",true_label:"yes",false_label:"no",checkbox_label:"Disable Default Email Footer",inline_help:"If you check this email will be sent without footer contents including unsubscribe link. Please use smartcode to include unsubscribe link"}},i=Object.keys(this.template_config),n={};return this.each(e,(function(t,e){-1!=i.indexOf(e)&&(n[e]=t)})),n}},methods:{triggerUpdate:function(){this.$emit("save"),this.showBodyConfig=!1},generateStyles:function(){var t="",e=this.template_config;if(Ot(e))jQuery("#fc_mail_config_style").html("");else{var i=".fluentcrm_visual_editor .fc_visual_body .fce-block-editor ";t+="".concat(i," .block-editor-writing-flow { background-color: ").concat(e.body_bg_color,"; }"),t+="".concat(i," .fc_editor_body { background-color: ").concat(e.content_bg_color,"; color: ").concat(e.text_color,"; max-width: ").concat(e.content_width,"px; font-family: ").concat(e.content_font_family,"; }"),t+="".concat(i," .fc_editor_body p,\n            ").concat(i," .fc_editor_body li, ol { color: inherit; }"),t+="".concat(i," .fc_editor_body h1,\n            ").concat(i," .fc_editor_body h2,\n            ").concat(i," .fc_editor_body h3,\n            ").concat(i," .fc_editor_body h4 { color: ").concat(e.headings_color,"; font-family: ").concat(e.headings_font_family,"; }\n            ").concat(i," .fc_editor_body a { color: ").concat(e.link_color," };"),jQuery("#fc_mail_config_style").html('<style type="text/css">'+t+"</style>")}},isEmpty:Ot},mounted:function(){this.generateStyles()}},Tt={name:"EmailPreview",props:["campaign"],data:function(){return{showing_view:!1,preview_html:"",loading_preview:!1}},methods:{fetchHtml:function(){var t=this;this.loading_preview=!0,this.showing_view=!0,this.$post("campaigns/email-preview-html",{campaign:this.campaign}).then((function(e){var i=t.$refs.ifr;(i.contentDocument||i.contentWindow.document).body.innerHTML=e.preview_html})).catch((function(e){t.handleError(e)})).finally((function(){t.loading_preview=!1}))}}},Pt={name:"BlockComposer",props:["campaign","enable_templates","disable_fixed","body_key"],components:{ImageRadioToolTip:H,RawEditor:I,EmailStyleEditor:Object(a.a)(jt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"fc_style_editor",staticStyle:{display:"inline-block"}},[t.isEmpty(t.template_config)?t._e():i("el-button",{attrs:{size:"mini",icon:"el-icon-setting",type:"info"},on:{click:function(e){t.showBodyConfig=!0}}}),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Email Styling Settings"),visible:t.showBodyConfig,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.showBodyConfig=e}}},[i("div",{staticClass:"fc_2col_form_wrapper"},[t.showBodyConfig?i("form-builder",{attrs:{formData:t.template_config,fields:t.settingsFields}}):t._e()],1),t._v(" "),i("span",{staticClass:"dialog-footer text-align-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.triggerUpdate()}}},[t._v("Update Settings")])],1)]),t._v(" "),i("div",{attrs:{id:"fc_mail_config_style"}})],1)}),[],!1,null,null,null).exports,BlockEditor:V,EmailPreview:Object(a.a)(Tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"fc_email_preview",staticStyle:{display:"inline-block"}},[i("el-button",{attrs:{size:"mini",icon:"el-icon-view",type:"info"},on:{click:function(e){return t.fetchHtml()}}}),t._v(" "),i("el-dialog",{attrs:{title:"Email Preview (for better view, please send test email)",visible:t.showing_view,"append-to-body":!0,width:"800px"},on:{"update:visible":function(e){t.showing_view=e}}},[t.loading_preview?i("h3",[t._v("Loading Preview. Please wait...")]):t._e(),t._v(" "),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.loading_preview,expression:"!loading_preview"}],ref:"ifr",staticStyle:{width:"100%",height:"500px"},attrs:{frameborder:"0",allowFullScreen:"",mozallowfullscreen:"",webkitallowfullscreen:""}})])],1)}),[],!1,null,null,null).exports,WpEditor:Z},data:function(){return{loadingTemplates:!1,templates:[],fetchingTemplate:!1,loading:!1,editor_status:!0,email_template_designs:window.fcAdmin.email_template_designs,templates_modal:!1,email_body_key:this.body_key||"email_body"}},watch:{"campaign.design_template":function(t,e){if(this.editor_status&&this.email_template_designs[t]){var i=this.campaign.settings.template_config,n=this.email_template_designs[t].config;n&&i||(this.campaign.settings.template_config=n),this.each(n,(function(t,e){i[e]&&(n[e]=i[e])})),this.campaign.settings.template_config=n}}},computed:{selectedDesign:function(){var t=this.email_template_designs[this.campaign.design_template];return t||this.email_template_designs.simple},classic_styles:function(){var t=this.campaign.settings.template_config.content_font_family;return t||(t="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"),"body {font-family: "+t+";line-height: 150%;padding: 0px 20px 20px;} body p, ul, li, ol { font-size: 16px; }"}},methods:{triggerSave:function(){this.$emit("save")},fetchTemplates:function(){var t=this;this.loading=!0,this.loadingTemplates=!0,this.$get("templates",{per_page:1e3}).then((function(e){t.templates=e.templates.data})).catch((function(t){console.log(t)})).finally((function(){t.loadingTemplates=!1,t.loading=!1,t.editor_status=!0}))},InsertChange:function(t){var e=this;t&&(this.editor_status=!1,this.fetchingTemplate=!0,this.$get("templates/".concat(t)).then((function(i){e.campaign.template_id=t,e.campaign[e.email_body_key]=i.template.post_content,e.campaign.email_subject=i.template.email_subject,e.campaign.email_pre_header=i.template.post_excerpt,e.campaign.design_template=i.template.design_template,e.campaign.settings.template_config=i.template.settings.template_config,e.$emit("template_inserted",i.template)})).catch((function(t){e.handleError(t)})).finally((function(){e.fetchingTemplate=!1,e.editor_status=!0,e.templates_modal=!1})))},handleFixed:function(){this.disable_fixed||window.addEventListener("scroll",(function(t){var e=document.querySelector(".fluentcrm_visual_editor");e&&(e.getBoundingClientRect().top<32?(e.classList.add("fc_element_fixed"),document.querySelector(".fc_visual_header").style.width=e.offsetWidth+"px"):e.classList.remove("fc_element_fixed"))}))},showInserter:function(){jQuery(".fce_inserter button.block-editor-inserter__toggle").trigger("click")}},mounted:function(){this.handleFixed(),this.enable_templates&&this.fetchTemplates()}},Ft=Object(a.a)(Pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_visual_editor"},[i("div",{staticClass:"fluentcrm_header fc_visual_header"},[i("div",{staticClass:"fluentcrm_header_title"},[t.selectedDesign.use_gutenberg?i("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:function(e){return t.showInserter()}}}):t._e(),t._v(" "),i("h3",[i("el-popover",{attrs:{placement:"top-start",title:"Tips",width:"200",trigger:"hover"}},[i("div",{staticClass:"text-align-left"},[i("ul",[i("li",[t._v("Type "),i("code",[t._v("@")]),t._v(" to see smart tags")]),t._v(" "),i("li",[t._v("Type "),i("code",[t._v("/")]),t._v(" to see All Available Blocks")])])]),t._v(" "),i("span",{staticClass:"el-icon el-icon-help",attrs:{slot:"reference"},slot:"reference"})]),t._v("\n                "+t._s(t.$t("Email Body"))+"\n                "),t.campaign.settings?i("email-style-editor",{attrs:{template_config:t.campaign.settings.template_config},on:{save:function(e){return t.triggerSave()}}}):t._e(),t._v(" "),i("email-preview",{attrs:{campaign:t.campaign}})],1),t._v(" "),i("image-radio-tool-tip",{staticStyle:{margin:"-10px 0px !important"},attrs:{boxWidth:53,boxHeight:45,field:{options:t.email_template_designs},tooltip_prefix:"Template - "},model:{value:t.campaign.design_template,callback:function(e){t.$set(t.campaign,"design_template",e)},expression:"campaign.design_template"}})],1),t._v(" "),i("div",{staticClass:"fluentcrm-actions"},[t.enable_templates?i("el-button",{attrs:{title:"Use Email Template",type:"info",size:"small",icon:"el-icon-folder-opened"},on:{click:function(e){t.templates_modal=!0}}},[t.campaign.template_id?t._e():i("span",[t._v(t._s(t.$t("Use Email Template")))])]):t._e(),t._v(" "),t._t("fc_editor_actions")],2)]),t._v(" "),t.editor_status?i("div",{staticClass:"fc_visual_body"},[t.selectedDesign.use_gutenberg?[i("block-editor",{attrs:{design_template:t.campaign.design_template},model:{value:t.campaign[t.email_body_key],callback:function(e){t.$set(t.campaign,t.email_body_key,e)},expression:"campaign[email_body_key]"}})]:[i("div",{staticClass:"fc_normal_editor_wrapper"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:19}},["classic_editor"==t.selectedDesign.template_type?i("div",{staticClass:"fc_composer_classic"},[i("wp-editor",{attrs:{height:350,extra_style:t.classic_styles},model:{value:t.campaign[t.email_body_key],callback:function(e){t.$set(t.campaign,t.email_body_key,e)},expression:"campaign[email_body_key]"}})],1):i("div",{staticClass:"fc_composer_raw_hrml"},[i("raw-editor",{model:{value:t.campaign[t.email_body_key],callback:function(e){t.$set(t.campaign,t.email_body_key,e)},expression:"campaign[email_body_key]"}})],1)]),t._v(" "),i("el-col",{attrs:{span:5}},[i("div",{staticClass:"fc_template_info"},[i("div",{domProps:{innerHTML:t._s(t.selectedDesign.template_info)}})])])],1)],1)],t._v(" "),t.campaign.settings.template_config&&"yes"==t.campaign.settings.template_config.disable_footer?i("div",{staticClass:"fc_complience_suggest"},[t._m(0),t._v(" "),i("div",[i("b",[t._v("Suggested text to include:")]),t._v(" "),i("p",{domProps:{innerHTML:t._s("{{crm.unsubscribe_html|Unsubscribe}} | {{crm.manage_subscription_html|Manage Preference}}")}})])]):t._e()],2):t._e(),t._v(" "),t.enable_templates?i("el-dialog",{attrs:{title:t.$t("Select Template"),visible:t.templates_modal,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.templates_modal=e}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.fetchingTemplate,expression:"fetchingTemplate"}],staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Available"),data:t.templates,border:""}},[i("el-table-column",{attrs:{prop:"post_title",label:"Template Title"}}),t._v(" "),i("el-table-column",{attrs:{width:"180",label:t.$t("Action")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(i){return t.InsertChange(e.row.ID)}}},[t._v("Import")])]}}],null,!1,2155887244)})],1)],1):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"fc_editor_warnning"},[this._v("Default footer has been disabled. Please include "),e("code",[this._v("##crm.unsubscribe_url##")]),this._v(" or "),e("code",[this._v("##crm.manage_subscription_url##")]),this._v(" in your email body for compliance")])}],!1,null,null,null).exports;function Dt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function qt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(i),!0).forEach((function(e){At(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Dt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function At(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var It={name:"CampaignBodyTemplate",props:["campaign"],components:{EmailBlockComposer:Ft},data:function(){return{loading:!1}},methods:{nextStep:function(){var t=this;if(!this.campaign.email_body)return this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peb"),offset:19});this.updateCampaign((function(e){t.$emit("next")}))},updateCampaign:function(t){var e=this;this.loading=!0;var i=JSON.parse(JSON.stringify(this.campaign));delete i.template,this.$put("campaigns/".concat(i.id),qt(qt({},i),{},{update_subjects:!0,next_step:1,check_compliance:!!t})).then((function(i){t?t(i):e.$notify.success({message:e.$t("Cam_Email_bsu")})})).catch((function(t){e.handleError(t)})).finally((function(){e.loading=!1}))}}},Nt=Object(a.a)(It,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"template"},[i("email-block-composer",{attrs:{enable_templates:!0,campaign:t.campaign}},[i("template",{slot:"fc_editor_actions"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.updateCampaign()}}},[t._v(t._s(t.$t("Save")))]),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"small",type:"success",icon:"el-icon-right"},on:{click:function(e){return t.nextStep()}}},[t._v(t._s(t.$t("Cam_Continue_S")))])],1)],2)],1)}),[],!1,null,null,null).exports,Lt={name:"DynamicSegmentCampaignPromo"},Mt={name:"recipientTagger",props:["value"],components:{DynamicSegmentCampaignPromo:Object(a.a)(Lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_promo_body"},[i("div",{staticClass:"promo_block"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("h2",[t._v("Use your dynamic segments to broadcast Email Campaigns")]),t._v(" "),i("p",[t._v("\n                    You can create as many dynamic segment as you want and send email campaign only a selected segment. It will let you target specific audiences and increase your conversion rate.\n                ")]),t._v(" "),i("div",{},[i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])]),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("div",{staticClass:"promo_content"},[i("img",{staticClass:"promo_image",attrs:{src:t.appVars.images_url+"promo/segment_campaign.png"}})])])],1)],1)])}),[],!1,null,null,null).exports},data:function(){return{settings:this.value,fetchingData:!1,settings_mock:{subscribers:[{list:null,tag:null}],excludedSubscribers:[{list:null,tag:null}],sending_filter:"list_tag",dynamic_segment:{id:"",slug:""}},lists:[],tags:[],segments:[],estimated_count:0,estimating:!1}},computed:{all_tag_groups:function(){return{all:{title:"",options:[{title:this.$t("Rec_All_coSLs"),slug:"all",id:"all"}]},tags:{title:this.$t("Tags"),options:this.tags}}}},watch:{settings:{handler:function(t,e){this.$emit("input",t),this.fetchEstimatedCount()},deep:!0}},methods:{fetch:function(){var t=this;this.fetchingData=!0,this.$get("reports/options",{fields:"lists,tags,segments",with_count:["lists"]}).then((function(e){t.lists=e.options.lists,t.tags=e.options.tags,t.segments=e.options.segments})).catch((function(e){t.handleError(e)})).finally((function(){t.fetchingData=!1}))},add:function(t,e){this.settings[t].splice(e+1,0,{list:"subscribers"==t?"all":null,tag:"all"})},remove:function(t,e){this.settings[t].length>1&&this.settings[t].splice(e,1)},fetchEstimatedCount:function(){var t=this,e=this.settings,i=e.subscribers.filter((function(t){return t.list&&t.tag})),n=e.excludedSubscribers.filter((function(t){return t.list&&t.tag}));if("list_tag"===e.sending_filter){if(i.length!==e.subscribers.length||n.length&&n.length!==e.excludedSubscribers.length)return}else if(!e.dynamic_segment.uid)return;this.estimating=!0;var s={subscribers:i,excludedSubscribers:n,sending_filter:e.sending_filter,dynamic_segment:e.dynamic_segment,page:this.inserting_page};this.$post("campaigns/estimated-contacts",s).then((function(e){t.estimated_count=e.count})).catch((function(e){t.handleError(e)})).finally((function(){t.estimating=!1}))}},mounted:function(){this.fetch(),this.fetchEstimatedCount()},created:function(){var t=JSON.parse(JSON.stringify(this.settings_mock));this.settings?(this.settings.subscribers||(this.settings.subscribers=t.subscribers),this.settings.excludedSubscribers||(this.settings.excludedSubscribers=t.excludedSubscribers),this.settings.dynamic_segment||(this.settings.dynamic_segment=t.dynamic_segment),this.settings.sending_filter||(this.settings.sending_filter=t.sending_filter)):this.settings=t}},zt=Object(a.a)(Mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_recipient_tagger"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.fetchingData,expression:"fetchingData"}]},[i("div",{staticClass:"text-align-center",staticStyle:{"margin-bottom":"20px"}},[i("el-radio-group",{model:{value:t.settings.sending_filter,callback:function(e){t.$set(t.settings,"sending_filter",e)},expression:"settings.sending_filter"}},[i("el-radio-button",{attrs:{label:"list_tag"}},[t._v(t._s(t.$t("By List & Tag")))]),t._v(" "),i("el-radio-button",{attrs:{label:"dynamic_segment"}},[t._v(t._s(t.$t("By Dynamic Segment")))])],1)],1),t._v(" "),"list_tag"==t.settings.sending_filter?[i("div",{staticClass:"fc_narrow_box fc_white_inverse"},[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(t.$t("Included Contacts")))]),t._v(" "),i("p",[t._v("\n                        "+t._s(t.$t("Rec_Select_LaTtywtse"))+"\n                    ")])]),t._v(" "),i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("Select A List")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Select Tag")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Actions")))])])]),t._v(" "),i("tbody",t._l(t.settings.subscribers,(function(e,n){return i("tr",{key:n},[i("td",[i("el-select",{attrs:{size:"small",placeholder:t.$t("Choose a List"),"popper-class":"list"},model:{value:e.list,callback:function(i){t.$set(e,"list",i)},expression:"formItem.list"}},[i("el-option",{attrs:{label:t.$t("All Lists"),value:"all"}},[i("span",[t._v("\n                                        "+t._s(t.$t("All available subscribers"))+"\n                                    ")]),t._v(" "),i("span",{staticClass:"list-metrics"},[t._v("\n                                        "+t._s(t.$t("Rec_This_wfaac"))+"\n                                    ")])]),t._v(" "),t._l(t.lists,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}},[i("span",[t._v("\n                                        "+t._s(e.title)+"\n                                    ")]),t._v(" "),i("span",{staticClass:"list-metrics"},[t._v("\n                                        "+t._s(e.subscribersCount)+" "+t._s(t.$t("subscribed contacts"))+"\n                                    ")])])}))],2)],1),t._v(" "),i("td",[i("el-select",{attrs:{placeholder:t.$t("Select Tag"),size:"small"},model:{value:e.tag,callback:function(i){t.$set(e,"tag",i)},expression:"formItem.tag"}},t._l(t.all_tag_groups,(function(e,n){return i("el-option-group",{key:n,attrs:{label:e.title}},t._l(e.options,(function(e,n){return i("el-option",{key:n,attrs:{label:e.title,value:e.id}},[i("span",[t._v(t._s(e.title))])])})),1)})),1)],1),t._v(" "),i("td",[i("el-button-group",[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.add("subscribers",n)}}},[t._v("+")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.remove("subscribers",n)}}},[t._v("-")])],1)],1)])})),0)]),t._v(" "),i("p",[t._v(t._s(t.$t("Rec_Select_Loasfatst")))])]),t._v(" "),i("div",{staticClass:"fc_narrow_box fc_white_inverse"},[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(t.$t("Excluded Contacts")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Rec_Select_LaTtywtef")))])]),t._v(" "),i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("Select A List")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Select Tag")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Actions")))])])]),t._v(" "),i("tbody",t._l(t.settings.excludedSubscribers,(function(e,n){return i("tr",{key:n},[i("td",[i("el-select",{attrs:{size:"small",placeholder:t.$t("Choose a List"),"popper-class":"list"},model:{value:e.list,callback:function(i){t.$set(e,"list",i)},expression:"formItem.list"}},[i("el-option",{attrs:{label:t.$t("All Lists"),value:"all"}},[i("span",[t._v("\n                                        "+t._s(t.$t("All available contacts"))+"\n                                    ")]),t._v(" "),i("span",{staticClass:"list-metrics"},[t._v("\n                                        "+t._s(t.$t("Rec_This_wfaac"))+"\n                                    ")])]),t._v(" "),t._l(t.lists,(function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}},[i("span",[t._v("\n                                        "+t._s(e.title)+"\n                                    ")]),t._v(" "),i("span",{staticClass:"list-metrics"},[t._v("\n                                        "+t._s(e.subscribersCount)+" "+t._s(t.$t("subscribed contacts"))+"\n                                    ")])])}))],2)],1),t._v(" "),i("td",[i("el-select",{attrs:{placeholder:t.$t("Select"),size:"small"},model:{value:e.tag,callback:function(i){t.$set(e,"tag",i)},expression:"formItem.tag"}},t._l(t.all_tag_groups,(function(e,n){return i("el-option-group",{key:n,attrs:{label:e.title}},t._l(e.options,(function(e,n){return i("el-option",{key:n,attrs:{label:e.title,value:e.id}},[i("span",[t._v(t._s(e.title))])])})),1)})),1)],1),t._v(" "),i("td",[i("el-button-group",[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.add("excludedSubscribers",n)}}},[t._v("+")]),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.remove("excludedSubscribers",n)}}},[t._v("-")])],1)],1)])})),0)])])]:"dynamic_segment"==t.settings.sending_filter?[i("div",{staticClass:"fc_narrow_box fc_white_inverse"},[t.has_campaign_pro?[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(t.$t("Select Dynamic Segment")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Rec_Please_stwdsywts")))])]),t._v(" "),i("el-select",{attrs:{placeholder:t.$t("Select"),"value-key":"uid"},model:{value:t.settings.dynamic_segment,callback:function(e){t.$set(t.settings,"dynamic_segment",e)},expression:"settings.dynamic_segment"}},t._l(t.segments,(function(t){return i("el-option",{key:t.slug+"_"+t.id,attrs:{value:{uid:t.slug+"_"+t.id,slug:t.slug,id:t.id},label:t.title}})})),1)]:i("dynamic-segment-campaign-promo")],2)]:t._e(),t._v(" "),i("h3",{directives:[{name:"loading",rawName:"v-loading",value:t.estimating,expression:"estimating"}],staticClass:"text-align-center fc_counting_heading",staticStyle:{"margin-bottom":"40px"}},[i("span",[t._v(t._s(t.estimated_count))]),t._v(" "+t._s(t.$t("Rec_contacts_fboys")))])],2),t._v(" "),t._t("fc_tagger_bottom")],2)}),[],!1,null,null,null).exports,Rt={name:"Recipients",components:{RecipientTaggerForm:zt},props:["campaign"],data:function(){return{btnDeleting:!1,btnSubscribing:!1,inserting_page:1,inserting_total_page:0,total_contacts:0,inserted_total:0,inserting_now:!1,processingError:!1}},computed:{progressPercent:function(){return this.total_contacts?parseInt(this.inserted_total/this.total_contacts*100):1}},methods:{validateLists:function(){var t=this,e=this.campaign.settings,i=e.subscribers.filter((function(t){return t.list&&t.tag})),n=e.excludedSubscribers.filter((function(t){return t.list&&t.tag}));if("list_tag"===e.sending_filter){if(i.length!==e.subscribers.length||n.length&&n.length!==e.excludedSubscribers.length)return void this.$notify.error({title:"Oops!",message:"Invalid selection of lists and tags in contacts included.",offset:19})}else if(!e.dynamic_segment.uid)return void this.$notify.error({title:"Oops!",message:"Please select the segment",offset:19});var s={subscribers:i,excludedSubscribers:n,sending_filter:e.sending_filter,dynamic_segment:e.dynamic_segment,page:this.inserting_page};this.btnSubscribing=!0,this.inserting_now=!0,this.$post("campaigns/".concat(this.campaign.id,"/subscribe"),s).then((function(e){e.has_more?(t.inserting_page=e.next_page,t.inserted_total=e.count,t.$nextTick((function(){t.validateLists()}))):(t.campaign.recipients_count=e.count,t.$notify.success({title:"Great!",message:"Contacts has been attached with this campaign",offset:19}),t.$emit("next",1),t.btnSubscribing=!1,t.inserting_now=!1,t.inserting_page=1)})).catch((function(e){t.handleError(e),e&&e.message||(t.processingError=!0)})).finally((function(){}))},startOver:function(){this.processingError=!1,this.btnSubscribing=!1,this.inserting_now=!1},retryProcess:function(){this.processingError=!1,this.validateLists()},goToPrev:function(){this.$emit("prev",1)},fetchEstimated:function(){var t=this,e=this.campaign.settings,i=e.subscribers.filter((function(t){return t.list&&t.tag})),n=e.excludedSubscribers.filter((function(t){return t.list&&t.tag}));if("list_tag"===e.sending_filter){if(i.length!==e.subscribers.length||n.length&&n.length!==e.excludedSubscribers.length)return}else if(!e.dynamic_segment.uid)return;var s={subscribers:i,excludedSubscribers:n,sending_filter:e.sending_filter,dynamic_segment:e.dynamic_segment};this.$post("campaigns/estimated-contacts",s).then((function(e){t.total_contacts=e.count})).catch((function(e){t.handleError(e)}))},start_process:function(){this.validateLists(),this.fetchEstimated()}}},Bt=(i(257),Object(a.a)(Rt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recipients"},[t.inserting_now?i("div",{staticClass:"text-align-center"},[i("h3",[t._v(t._s(t.$t("Processing now...")))]),t._v(" "),i("h4",[t._v(t._s(t.$t("Rec_Please_dnctw")))]),t._v(" "),t.total_contacts?[i("h2",[t._v(t._s(t.inserted_total)+"/"+t._s(t.total_contacts))]),t._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:t.progressPercent,status:"success"}})]:t._e(),t._v(" "),t.processingError?i("div",[i("h3",[t._v(t._s(t.$t("Rec_Processing_EhMit")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.retryProcess()}}},[t._v(t._s(t.$t("Resume")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.startOver()}}},[t._v(t._s(t.$t("StartOver")))])],1):t._e()],2):i("el-form",[i("recipient-tagger-form",{model:{value:t.campaign.settings,callback:function(e){t.$set(t.campaign,"settings",e)},expression:"campaign.settings"}}),t._v(" "),i("el-row",{staticStyle:{"max-width":"860px",margin:"0 auto"},attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){return t.goToPrev()}}},[t._v(" "+t._s(t.$t("Back"))+"\n                ")])],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-button",{staticClass:"pull-right",attrs:{size:"small",type:"success",loading:t.btnSubscribing},on:{click:function(e){return t.start_process()}}},[t._v("\n                    "+t._s(t.$t("Rec_Continue_TNS_aS"))+"\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports),Vt={name:"EmailPreview",props:["preview"],data:function(){return{email:null,info:{},loading:!1}},methods:{fetch:function(){var t=this;this.email=null,this.loading=!0,this.$get("campaigns/emails/".concat(this.preview.id,"/preview")).then((function(e){t.email=e.email,t.info=e.info})).finally((function(){t.loading=!1}))},onOpen:function(){this.fetch()},onClosed:function(){this.preview.isVisible=!1}}},Ut=Object(a.a)(Vt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{width:"60%",title:t.$t("Email Preview"),"append-to-body":!0,visible:t.preview.isVisible},on:{open:t.onOpen,"update:visible":function(e){return t.$set(t.preview,"isVisible",e)}}},[t.email?t._e():i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]}),t._v(" "),t.email?i("div",{staticStyle:{"min-height":"300px"}},[i("ul",{staticClass:"email-header"},[i("li",[t._v(t._s(t.$t("Status"))+": "+t._s(t.info.status))]),t._v(" "),i("li",[t._v(t._s(t.$t("Campaign"))+": "+t._s(t.info.campaign?t.info.campaign.title:"n/a"))]),t._v(" "),i("li",[t._v(t._s(t.$t("Subject"))+": "+t._s(t.email.subject?t.email.subject:""))]),t._v(" "),i("li",[t._v(t._s(t.$t("To"))+": "+t._s(t.email.to.name)+" <"+t._s(t.email.to.email)+">")]),t._v(" "),i("li",[t._v(t._s(t.$t("Date"))+": "+t._s(t._f("nsDateFormat")(t.info.scheduled_at)))]),t._v(" "),i("li",{staticClass:"stats_badges"},[i("span",{attrs:{title:"Open Count"}},[i("i",{staticClass:"el-icon el-icon-folder-opened"}),t._v(" "),i("span",[t._v(t._s(t.info.is_open||0))])]),t._v(" "),i("span",{attrs:{title:"Click"}},[i("i",{staticClass:"el-icon el-icon-position"}),t._v(" "),i("span",[t._v(t._s(t.info.click_counter||0))])])]),t._v(" "),t.info.note?i("li",[t._v(t._s(t.$t("Note"))+": "+t._s(t.info.note))]):t._e()]),t._v(" "),t.email.clicks&&t.email.clicks.length?i("div",{staticClass:"fc_email_clicks"},[i("h4",[t._v(t._s(t.$t("Email Clicks")))]),t._v(" "),i("ul",t._l(t.email.clicks,(function(e){return i("li",{key:e.id},[t._v(t._s(e.url)+" ("+t._s(e.counter)+")")])})),0)]):t._e(),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"email-body"},[i("div",{staticStyle:{clear:"both"},domProps:{innerHTML:t._s(t.email.body)}}),t._v(" "),i("div",{staticStyle:{width:"0px",height:"0px",clear:"both"}})])]):t._e(),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.preview.isVisible=!1}}},[t._v(t._s(t.$t("Close")))])],1)])],1)}),[],!1,null,null,null).exports,Ht={name:"GenericPromo"},Gt=Object(a.a)(Ht,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_promo_body"},[i("div",{staticClass:"promo_block",staticStyle:{background:"white",padding:"10px","text-align":"center",display:"block",overflow:"hidden"}},[i("h2",[t._v("This is a pro feature")]),t._v(" "),i("p",[t._v("\n            "+t._s(t.$t("Lin_This_iapfPdtFPta"))+"\n        ")]),t._v(" "),i("div",{},[i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])])])}),[],!1,null,null,null).exports,Wt={name:"CampaignEmails",components:{Pagination:g,EmailPreview:Ut,GenericPromo:Gt},props:["campaign_id","manage_mode"],data:function(){return{loading:!1,emails:[],pagination:{total:0,per_page:20,current_page:1},preview:{id:null,isVisible:!1},filter_type:"all",selections:[],search:"",deleting:!1,failed_counts:0,retrying:!1,resending:!1}},methods:{fetch:function(){var t=this;this.loading=!0;var e={viewCampaign:null,per_page:this.pagination.per_page,page:this.pagination.current_page,filter_type:this.filter_type,search:this.search};this.$get("campaigns/".concat(this.campaign_id,"/emails"),e).then((function(e){t.emails=e.emails.data,t.pagination.total=e.emails.total,t.failed_counts=parseInt(e.failed_counts)})).catch((function(e){t.handleError(e)})).finally((function(e){t.loading=!1}))},changeFilter:function(){this.pagination.current_page=1,this.fetch()},previewEmail:function(t){this.preview.id=t,this.preview.isVisible=!0},deleteSelected:function(){var t=this;this.deleting=!0;var e=this.selections.map((function(t){return t.id}));this.$del("campaigns/".concat(this.campaign_id,"/emails"),{email_ids:e}).then((function(e){t.selections=[],t.$notify.success(e.message),t.$emit("updateCount",e.recipients_count),t.fetch()})).catch((function(e){t.handleError(e)})).finally((function(){t.deleting=!1}))},handleSelectionChange:function(t){this.selections=t},retrySending:function(){var t=this;this.retrying=!0,this.$post("campaigns-pro/".concat(this.campaign_id,"/resend-failed-emails")).then((function(e){t.$notify.success(e.message),t.fetch(),t.$emit("fetchCampaign")})).catch((function(e){t.handleError(e)})).finally((function(){t.retrying=!1}))},resendEmail:function(t){var e=this;if(!this.has_campaign_pro)return this.$notify.error(this.$t("_Ca_Please_utptutf")),!1;this.resending=!0,this.$post("campaigns-pro/".concat(t.campaign_id,"/resend-emails"),{email_ids:[t.id]}).then((function(t){e.$notify.success(t.message),e.fetch()})).catch((function(t){e.handleError(t)})).finally((function(){e.resending=!1}))}},mounted:function(){this.fetch()}},Jt=Object(a.a)(Wt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_campaign_emails"},[i("div",{staticClass:"fluentcrm_inner_header"},[i("h3",{staticClass:"fluentcrm_inner_title"},[t._v(t._s(t.$t("Recipients")))]),t._v(" "),i("div",{staticClass:"fluentcrm_inner_actions"},[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:t.$t("Search")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetch.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.fetch()}},slot:"append"})],1),t._v(" "),i("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.changeFilter()}},model:{value:t.filter_type,callback:function(e){t.filter_type=e},expression:"filter_type"}},[i("el-radio-button",{attrs:{label:"all"}},[t._v(t._s(t.$t("All")))]),t._v(" "),i("el-radio-button",{attrs:{label:"click"}},[i("i",{staticClass:"el-icon el-icon-position"})]),t._v(" "),i("el-radio-button",{attrs:{label:"view"}},[i("i",{staticClass:"el-icon el-icon-folder-opened"})])],1),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:t.fetch}},[i("i",{staticClass:"el-icon el-icon-refresh"})])],1)]),t._v(" "),t.failed_counts?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.retrying,expression:"retrying"}],staticClass:"fc_highlight_gray fc_m_30 text-align-center"},[i("h3",[t._v(t._s(t.failed_counts)+" "+t._s(t.$t("_Ca_failed_tstrTR")))]),t._v(" "),t.has_campaign_pro?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.retrySending()}}},[t._v(t._s(t.$t("Retry Sending")))]):i("generic-promo")],1):t._e(),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading||t.resending,expression:"loading || resending"}],staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:t.emails},on:{"selection-change":t.handleSelectionChange}},[t.manage_mode?i("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Name"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticClass:"fc_contact_photo",staticStyle:{display:"inline-block","margin-bottom":"-6px"},attrs:{title:"Contact ID: "+e.row.subscriber.id,src:e.row.subscriber.photo}}),t._v(" "),i("span",[t._v(t._s(e.row.subscriber.full_name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Email")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.subscriber_id}}}},[t._v("\n                    "+t._s(e.row.email_address)+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"190",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"ns_counter",attrs:{title:"Total Clicks"}},[i("i",{staticClass:"el-icon el-icon-position"}),t._v(" "+t._s(e.row.click_counter||0))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.row.click_counter||1==e.row.is_open,expression:"scope.row.click_counter || scope.row.is_open == 1"}],staticClass:"ns_counter",attrs:{title:"Email opened"}},[i("i",{staticClass:"el-icon el-icon-folder-opened"})]),t._v(" "),"subscribed"!=e.row.subscriber.status?i("span",{staticClass:"ns_counter",staticStyle:{display:"block","margin-top":"5px"}},[t._v(t._s(t._f("ucFirst")(e.row.subscriber.status)))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"scheduled_at",width:"190",label:t.$t("Date")}}),t._v(" "),i("el-table-column",{attrs:{width:"120",label:t.$t("Status"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{class:"status-"+e.row.status},[t._v("\n                    "+t._s(t._f("ucFirst")(e.row.status))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Preview"),width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-view"},on:{click:function(i){return t.previewEmail(e.row.id)}}}),t._v(" "),"sent"!=e.row.status&&"failed"!=e.row.status||!t.hasPermission("fcrm_manage_emails")||"subscribed"!=e.row.subscriber.status?t._e():i("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-refresh-right"},on:{click:function(i){return t.resendEmail(e.row)}}},[t._v(t._s(t.$t("Resend"))+"\n                ")])]}}])})],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"margin-top":"10px"}},[t.selections.length?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.deleting,expression:"deleting"}],attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(e){return t.deleteSelected()}}},[t._v("\n                    "+t._s(t.$t("Delete Selected"))+" ("+t._s(t.selections.length)+")\n                ")]):t._e()],1)]),t._v(" "),i("el-col",{attrs:{span:12}},[i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)],1),t._v(" "),i("email-preview",{attrs:{preview:t.preview}})],1)}),[],!1,null,null,null).exports,Yt={name:"CampaignReview",props:["campaign"],components:{CampaignEmails:Jt},data:function(){return{btnSending:!1,sendingTestEmail:!1,sending_type:"send_now",schedule_date_time:"",subscribers_modal:!1,pickerOptions:{disabledDate:function(t){return t.getTime()<=Date.now()-864e5},shortcuts:[{text:"After 1 Hour",onClick:function(t){var e=new Date;e.setTime(e.getTime()+36e5),t.$emit("pick",e)}},{text:"Tomorrow",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"After 2 Days",onClick:function(t){var e=new Date;e.setTime(e.getTime()+1728e5),t.$emit("pick",e)}},{text:"After 1 Week",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}}]},test_email:"",send_test_pop:!1}},methods:{sendEmails:function(){var t=this;this.btnSending=!0;var e={};"schedule"===this.sending_type&&(e.scheduled_at=this.schedule_date_time),this.$post("campaigns/".concat(this.campaign.id,"/schedule"),e).then((function(e){t.$notify.success({title:"Great!",message:e.message,offset:19}),t.$router.push({name:"campaign-view",params:{id:t.campaign.id}})})).catch((function(e){t.$notify.error(e.message)})).finally((function(){t.btnSending=!1}))},goToStep:function(t){this.$emit("goToStep",t)},sendTestEmail:function(){var t=this;this.sendingTestEmail=!0,this.$post("campaigns/send-test-email",{campaign_id:this.campaign.id,email:this.test_email}).then((function(e){t.$notify.success({title:"Great!",message:e.message,offset:19})})).catch((function(e){t.handleError(e),console.log(e)})).finally((function(){t.sendingTestEmail=!1,t.send_test_pop=!1}))},saveThisStep:function(){this.$post("campaigns/".concat(this.campaign.id,"/step"),{next_step:3})}},mounted:function(){this.saveThisStep()}},Kt={name:"Campaign",components:{CampaignTemplate:F,Recipients:Bt,CampaignReview:Object(a.a)(Yt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"camapign_review_wrapper"},[i("div",{staticClass:"campaign_review_items"},[i("div",{staticClass:"camapign_review_item"},[i("el-row",[i("el-col",{attrs:{span:20}},[i("h3",[t._v(t._s(t.$t("Recipients")))]),t._v("\n                    Total: "),i("b",[t._v(t._s(t.campaign.recipients_count)+" "+t._s(t.$t("Recipients")))])]),t._v(" "),i("el-col",{staticClass:"text-align-right",attrs:{span:4}},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.subscribers_modal=!0}}},[t._v(t._s(t.$t("Edit Recipients")))])],1)],1)],1),t._v(" "),i("div",{staticClass:"camapign_review_item"},[i("el-row",[i("el-col",{attrs:{span:20}},[i("h3",[t._v(t._s(t.$t("Subject")))]),t._v(" "),i("p",[t._v(t._s(t.campaign.email_subject))]),t._v(" "),i("p",{staticStyle:{color:"gray"}},[t._v(t._s(t.$t("Preview Text:"))+" "+t._s(t.campaign.email_pre_header))])]),t._v(" "),i("el-col",{staticClass:"text-align-right",attrs:{span:4}},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.goToStep(1)}}},[t._v(t._s(t.$t("Edit Subject")))])],1)],1)],1),t._v(" "),i("div",{staticClass:"camapign_review_item"},[i("el-row",[i("el-col",{attrs:{span:20}},[i("h3",[t._v(t._s(t.$t("Email Body")))]),t._v(" "),i("div",{staticClass:"fluentcrm_email_body_preview",domProps:{innerHTML:t._s(t.campaign.email_body)}}),t._v(" "),i("br"),t._v(" "),i("el-popover",{attrs:{placement:"right",width:"400",trigger:"manual"},model:{value:t.send_test_pop,callback:function(e){t.send_test_pop=e},expression:"send_test_pop"}},[i("div",[i("p",[t._v(t._s(t.$t("Cam_Type_cetstolbtsc")))]),t._v(" "),i("el-input",{attrs:{placeholder:t.$t("Email Address")},model:{value:t.test_email,callback:function(e){t.test_email=e},expression:"test_email"}},[i("template",{slot:"append"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.sendingTestEmail,expression:"sendingTestEmail"}],attrs:{type:"success"},on:{click:function(e){return t.sendTestEmail()}}},[t._v("\n                                        "+t._s(t.$t("Send"))+"\n                                    ")])],1)],2)],1),t._v(" "),i("el-button",{attrs:{slot:"reference",size:"small"},on:{click:function(e){t.send_test_pop=!t.send_test_pop}},slot:"reference"},[t._v("\n                            "+t._s(t.$t("Send a test email"))+"\n                        ")])],1)],1),t._v(" "),i("el-col",{staticClass:"text-align-right",attrs:{span:4}},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.goToStep(0)}}},[t._v("\n                        "+t._s(t.$t("Edit Email Body"))+"\n                    ")])],1)],1)],1),t._v(" "),i("div",{staticClass:"camapign_review_item"},[i("h3",[t._v(t._s(t.$t("Cam_Broadcast_Schedu")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Cam_If_yteiaYcbten")))]),t._v(" "),i("hr"),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("h4",[t._v(t._s(t.$t("When you send the emails?")))]),t._v(" "),i("el-radio-group",{staticClass:"fluentcrm_line_items",model:{value:t.sending_type,callback:function(e){t.sending_type=e},expression:"sending_type"}},[i("el-radio",{attrs:{label:"send_now"}},[t._v(t._s(t.$t("Send the emails right now")))]),t._v(" "),i("el-radio",{attrs:{label:"schedule"}},[t._v(t._s(t.$t("Schedule the emails")))])],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},["schedule"==t.sending_type?[i("h4",[t._v(t._s(t.$t("Please set date and time")))]),t._v(" "),i("div",{staticClass:"block"},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","picker-options":t.pickerOptions,placeholder:t.$t("Select date and time")},model:{value:t.schedule_date_time,callback:function(e){t.schedule_date_time=e},expression:"schedule_date_time"}})],1),t._v(" "),i("p",[t._v(t._s(t.$t("Cam_Current_ST_oySS"))+": "),i("code",[t._v(t._s(t.campaign.server_time))])]),t._v(" "),i("br"),i("br")]:t._e()],2)],1),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.btnSending,expression:"btnSending"}],attrs:{type:"success",size:"big"},on:{click:function(e){return t.sendEmails()}}},["send_now"==t.sending_type?i("span",[t._v("\n                    "+t._s(t.$t("Send Emails Now"))+"\n                ")]):i("span",[t._v(t._s(t.$t("Schedule this campaign")))])])],1)]),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Campaign Recipients"),"append-to-body":!0,visible:t.subscribers_modal,width:"70%"},on:{"update:visible":function(e){t.subscribers_modal=e}}},[i("campaign-emails",{attrs:{manage_mode:!0,campaign_id:t.campaign.id},on:{updateCount:function(e){t.campaign.recipients_count=e}}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.subscribers_modal=!1}}},[t._v("\n                "+t._s(t.$t("Cancel"))+"\n            ")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.subscribers_modal=!1}}},[t._v("\n                "+t._s(t.$t("Confirm"))+"\n            ")])],1)],1)],1)}),[],!1,null,null,null).exports,CampaignBodyComposer:Nt},data:function(){return{activeStep:parseInt(this.$route.query.step)||0,campaign_id:this.$route.params.id,campaign:null,dialogVisible:!1,dialogTitle:this.$t("Edit Campaign"),loading:!1,steps:[{title:this.$t("Compose"),description:this.$t("Compose Your Email Body")},{title:this.$t("Subject & Settings"),description:this.$t("Email Subject & Details")},{title:this.$t("Recipients"),description:this.$t("Select Email Recipients")},{title:this.$t("Review & Send"),description:this.$t("Cam_Send_osce")}],show_campaign_config:!1,updating:!1}},methods:{next:function(){this.activeStep<3&&this.activeStep++,this.$router.push({name:"campaign",query:{step:this.activeStep}})},prev:function(){this.activeStep>0&&this.activeStep--,this.$router.push({name:"campaign",query:{step:this.activeStep}})},stepChange:function(t){this.activeStep=t,this.$router.push({name:"campaign",query:{step:this.activeStep}})},backToCampaigns:function(){this.activeStep=0,this.$router.push({name:"campaigns",query:{t:(new Date).getTime()}})},fetch:function(){var t=this;this.$get("campaigns/".concat(this.campaign_id),{with:["subjects","template"]}).then((function(e){t.campaign=e.campaign,t.changeTitle(t.campaign.title+" - Campaign")})).catch((function(e){t.redirectToCampaignsWithWarning(e.message)}))},redirectToCampaignsWithWarning:function(t){var e=this;"campaign"===this.$route.name&&this.$message(t,"Oops!",{center:!0,type:"warning",confirmButtonText:this.$t("View Report"),dangerouslyUseHTMLString:!0,callback:function(t){e.$router.push({name:"campaign-view",params:{id:e.campaign_id},query:{t:(new Date).getTime()}})}})},updateCampaignSettings:function(){var t=this;this.updating=!0,this.$put("campaigns/".concat(this.campaign_id,"/title"),{title:this.campaign.title}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.updating=!1,t.show_campaign_config=!1}))}},mounted:function(){this.fetch(),this.changeTitle("Campaign")}},Qt=(i(259),Object(a.a)(Kt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.campaign?i("div",{staticClass:"fluentcrm-campaign fluentcrm-view-wrapper"},[i("h3",[t._v(t._s(t.campaign.title)+" "),i("i",{staticClass:"el-icon el-icon-edit",staticStyle:{cursor:"pointer"},on:{click:function(e){t.show_campaign_config=!0}}})]),t._v(" "),i("el-steps",{attrs:{active:t.activeStep,simple:"","finish-status":"success"}},t._l(t.steps,(function(t,e){return i("el-step",{key:e,attrs:{title:t.title,description:t.description}})})),1),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body fluentcrm_body_boxed"},[0==t.activeStep?i("div",{staticClass:"step-container",staticStyle:{margin:"-20px -20px 0"}},[i("campaign-body-composer",{attrs:{campaign:t.campaign},on:{next:function(e){return t.next()}}})],1):t._e(),t._v(" "),1==t.activeStep?i("div",{staticClass:"step-container"},[i("campaign-template",{attrs:{campaign:t.campaign},on:{next:function(e){return t.next()},prev:function(e){return t.prev()}}})],1):t._e(),t._v(" "),2==t.activeStep?i("div",{staticClass:"step-container"},[i("Recipients",{attrs:{campaign:t.campaign},on:{prev:function(e){return t.prev()},next:function(e){return t.next()}}})],1):t._e(),t._v(" "),3==t.activeStep?i("div",{staticClass:"step-container"},[i("campaign-review",{attrs:{campaign:t.campaign},on:{goToStep:t.stepChange}})],1):t._e()]),t._v(" "),t.campaign.id?i("el-dialog",{attrs:{title:t.$t("Campaign Settings"),"append-to-body":!0,"close-on-click-modal":!1,visible:t.show_campaign_config,width:"60%"},on:{"update:visible":function(e){t.show_campaign_config=e}}},[i("el-form",{attrs:{"label-position":"top",data:t.campaign}},[i("el-form-item",{attrs:{label:t.$t("Campaign Title")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Campaign Title")},model:{value:t.campaign.title,callback:function(e){t.$set(t.campaign,"title",e)},expression:"campaign.title"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.updating,expression:"updating"}],attrs:{type:"primary"},on:{click:function(e){return t.updateCampaignSettings()}}},[t._v("\n                "+t._s(t.$t("Save"))+"\n            ")])],1)],1):t._e()],1):t._e()}),[],!1,null,null,null).exports),Zt={name:"CampaignLinkMetrics",props:["campaign_id","hide_title"],data:function(){return{loading:!1,links:[]}},methods:{fetchReport:function(){var t=this;this.loading=!0,this.$get("campaigns/".concat(this.campaign_id,"/link-report")).then((function(e){t.links=e.links})).catch((function(e){t.handleError(e)})).finally((function(e){t.loading=!1}))}},mounted:function(){this.fetchReport()}},Xt=Object(a.a)(Zt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_link_metrics"},[t.hide_title?t._e():i("div",{staticClass:"fluentcrm_inner_header"},[i("h3",{staticClass:"fluentcrm_inner_title"},[t._v(t._s(t.$t("Campaign Link Clicks")))]),t._v(" "),i("div",{staticClass:"fluentcrm_inner_actions"},[i("el-button",{attrs:{size:"mini"},on:{click:t.fetchReport}},[i("i",{staticClass:"el-icon el-icon-refresh"})])],1)]),t._v(" "),t.links.length?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Found"),stripe:"",border:"",data:t.links}},[i("el-table-column",{attrs:{label:t.$t("URL")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{attrs:{href:e.row.url,target:"_blank",rel:"noopener"}},[t._v(t._s(e.row.url))])]}}],null,!1,1550400355)}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:t.$t("Unique Clicks"),prop:"total"}})],1):i("el-empty",{attrs:{"image-size":135,description:"No link activity recorded yet"}})],1)}),[],!1,null,null,null).exports,te={name:"CampaignSubjectAnalytics",props:["metrics","campaign"]},ee=Object(a.a)(te,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_subject_metrics"},[i("div",{staticClass:"fluentcrm_inner_header"},[i("h3",{staticClass:"fluentcrm_inner_title"},[t._v(t._s(t.$t("Subject Analytics")))]),t._v(" "),i("div",{staticClass:"fluentcrm_inner_actions"})]),t._v(" "),i("el-table",{staticClass:"fc_el_border_table",attrs:{"empty-text":t.$t("No Data Found"),stripe:"",data:t.metrics.subjects}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"fc_list"},t._l(e.row.metric.clicks,(function(e,n){return i("li",{key:n},[i("a",{attrs:{target:"_blank",rel:"noopener",href:e.url}},[t._v(t._s(e.url))]),t._v(" - "),i("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.total))])],1)})),0)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Subject")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.value))]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"140",label:t.$t("Email Sent %")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.percent(e.row.total,t.campaign.recipients_count))+" ("+t._s(e.row.total)+")\n            ")]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"140",label:t.$t("Open Rate")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.percent(e.row.metric.total_opens,e.row.total))+"\n                "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.row.metric.total_opens,expression:"scope.row.metric.total_opens"}]},[t._v("("+t._s(e.row.metric.total_opens)+")")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"140",label:t.$t("Click Rate")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.percent(e.row.metric.total_clicks,e.row.total))+"\n                "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.row.metric.total_clicks,expression:"scope.row.metric.total_clicks"}]},[t._v("("+t._s(e.row.metric.total_clicks)+")")])]}}])})],1)],1)}),[],!1,null,null,null).exports,ie={name:"RevenueReport",props:["campaign"],components:{Pagination:g},data:function(){return{orders:[],labels:[],pagination:{per_page:10,current_page:1,total:0},loading:!1}},methods:{fetchOrders:function(){var t=this;this.loading=!0,this.$get("campaigns/".concat(this.campaign.id,"/revenues"),{per_page:this.pagination.per_page,page:this.pagination.current_page}).then((function(e){t.orders=e.orders,t.labels=e.labels,t.pagination.total=e.total})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}},mounted:function(){this.fetchOrders()}},ne=Object(a.a)(ie,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_revenue_report"},[i("h3",[t._v("Revenue from this email campaign")]),t._v(" "),t.loading?i("el-skeleton"):[i("el-table",{attrs:{data:t.orders,border:"",stripe:""}},t._l(t.labels,(function(e,n){return i("el-table-column",{key:n,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{domProps:{innerHTML:t._s(e.row[n])}})]}}],null,!0)})})),1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetchOrders}})]],2)}),[],!1,null,null,null).exports;function se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ae(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var oe={name:"CampaignActions",props:["campaign"],components:{GenericPromo:Gt},data:function(){return{action_details:{action_type:"add_tags",tags:[],activity_type:"email_open",link_ids:[]},activity_types:{email_open:this.$t("Cam_Select_Swote"),email_not_open:this.$t("Cam_Select_Swdnoe"),email_clicked:this.$t("Cam_Select_Swcsl")},available_tags:window.fcAdmin.available_tags,clicked_links:[],processing:!1,processing_page:1,total_count:"calculating...",errors:null,total_processed:0,is_completed:!1}},methods:{getClickedLinks:function(){var t=this;this.$get("campaigns/".concat(this.campaign.id,"/link-report")).then((function(e){t.clicked_links=e.links}))},process:function(){var t=this;return this.action_details.tags.length?"email_clicked"!==this.action_details.activity_type||this.action_details.link_ids.length?(this.errors=null,this.processing=!0,void this.$post("campaigns-pro/".concat(this.campaign.id,"/tag-actions"),function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?se(Object(i),!0).forEach((function(e){ae(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({processing_page:this.processing_page},this.action_details)).then((function(e){e.total_count&&(t.total_count=e.total_count),t.total_processed+=e.processed_contacts,e.has_more?(t.processing_page=t.processing_page+1,t.$nextTick((function(){t.process()}))):t.is_completed=!0})).catch((function(e){t.errors=e,t.handleError(e)}))):(this.$notify.error("Please Select Clicked URLS"),!1):(this.$notify.error("Please Select Tags first"),!1)},resetAction:function(){this.action_details={action_type:"add_tags",tags:[],activity_type:"email_open",link_ids:[]},this.is_completed=!1,this.total_processed=0,this.processing_page=1,this.processing=!1}},mounted:function(){this.getClickedLinks()}},re={name:"Unsbscribers",props:["campaign_id"],components:{Pagination:g},data:function(){return{loading:!0,unsubscribes:[],pagination:{total:0,per_page:20,current_page:1}}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("campaigns/".concat(this.campaign_id,"/unsubscribers"),{page:this.pagination.current_page,per_page:this.pagination.per_page}).then((function(e){t.unsubscribes=e.unsubscribes.data,t.pagination.total=e.unsubscribes.total})).catch((function(e){t.handleError(e)})).finally((function(e){t.loading=!1}))}},mounted:function(){this.fetch()}},le={name:"ViewCampaign",components:{CampaignEmails:Jt,LinkMetrics:Xt,SubjectMetrics:ee,CampaignActions:Object(a.a)(oe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_link_metrics"},[i("div",{staticClass:"fluentcrm_inner_header"},[i("h3",[t._v(t._s(t.$t("Campaign Actions")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Cam_Add_Remove_ToyCb")))])]),t._v(" "),i("hr"),t._v(" "),t.has_campaign_pro?i("div",{staticClass:"fc_campaign_action_wrapper"},[t.processing?i("div",[t.is_completed?i("div",{staticClass:"text-align-center"},[i("h3",[t._v(t._s(t.$t("All Done")))]),t._v(" "),i("p",[t._v(t._s(t.total_processed)+" "+t._s(t.$t("Cam_contacts_hbp")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){return t.resetAction()}}},[t._v(t._s(t.$t("Do another Action")))])],1):i("div",{staticClass:"text-align-center"},[i("h3",{directives:[{name:"loading",rawName:"v-loading",value:t.processing,expression:"processing"}]},[t._v(t._s(t.$t("Processing now...")))]),t._v(" "),i("h4",[t._v(t._s(t.$t("Rec_Please_dnctw")))]),t._v(" "),i("h2",[t._v(t._s(t.total_processed)+"/"+t._s(t.total_count))]),t._v(" "),t.total_processed?i("p",[t._v(t._s(t.total_processed)+" "+t._s(t.$t("Cam_Contacts_psf")))]):t._e()]),t._v(" "),t.errors?i("div",[i("h3",[t._v(t._s(t.$t("Errors Found"))+":")]),t._v(" "),i("pre",[t._v(t._s(t.errors))])]):t._e()]):i("el-form",{attrs:{"label-position":"top",data:t.action_details}},[i("el-form-item",{attrs:{label:t.$t("Action Type")}},[i("el-radio-group",{model:{value:t.action_details.action_type,callback:function(e){t.$set(t.action_details,"action_type",e)},expression:"action_details.action_type"}},[i("el-radio",{attrs:{label:"add_tags"}},[t._v(t._s(t.$t("Add Tags")))]),t._v(" "),i("el-radio",{attrs:{label:"remove_tags"}},[t._v(t._s(t.$t("Remove Tags")))])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Select Tags")}},[i("el-checkbox-group",{model:{value:t.action_details.tags,callback:function(e){t.$set(t.action_details,"tags",e)},expression:"action_details.tags"}},t._l(t.available_tags,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.title)+"\n                    ")])})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Filter Subscribers")}},[i("el-radio-group",{model:{value:t.action_details.activity_type,callback:function(e){t.$set(t.action_details,"activity_type",e)},expression:"action_details.activity_type"}},t._l(t.activity_types,(function(e,n){return i("el-radio",{key:n,attrs:{label:n}},[t._v(t._s(e)+"\n                    ")])})),1)],1),t._v(" "),"email_clicked"==t.action_details.activity_type?i("el-form-item",{attrs:{label:t.$t("Cam_Select_Utwc_MfaS")}},[t.clicked_links.length?i("el-checkbox-group",{staticClass:"fc_new_line_items",model:{value:t.action_details.link_ids,callback:function(e){t.$set(t.action_details,"link_ids",e)},expression:"action_details.link_ids"}},t._l(t.clicked_links,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.url)+" -\n                        ("+t._s(e.total)+")\n                    ")])})),1):i("p",{staticStyle:{color:"red"}},[t._v(t._s(t.$t("Cam_Sorry_nlftcc")))])],1):t._e(),t._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.process()}}},["add_tags"==t.action_details.action_type?i("span",[t._v(t._s(t.$t("Add Tags to Subscribers")))]):i("span",[t._v(t._s(t.$t("Cam_Remove_TFS")))])])],1)],1)],1):i("div",[i("generic-promo")],1)])}),[],!1,null,null,null).exports,CampaignChart:{extends:window.VueChartJs.Pie,mixins:[window.VueChartJs.mixins.reactiveProp],props:["stats"],data:function(){return{options:{responsive:!0,legend:{display:!1,position:"right"},plugins:{legend:{position:"right",display:!1},title:{display:!1,text:""}},layout:{padding:20}}}},methods:{},mounted:function(){this.renderChart(this.chartData,this.options)}},RevenueReport:ne,Unsubscribers:Object(a.a)(re,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fc_unsubscribers_table"},[t.pagination.total||t.loading?i("div",[i("el-table",{attrs:{stripe:"",data:t.unsubscribes}},[i("el-table-column",{attrs:{label:t.$t("Name"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticClass:"fc_contact_photo",staticStyle:{display:"inline-block","margin-bottom":"-6px"},attrs:{title:"Contact ID: "+e.row.subscriber.id,src:e.row.subscriber.photo}}),t._v(" "),i("span",[t._v(t._s(e.row.subscriber.full_name))])]}}],null,!1,3862468360)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Email")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.subscriber_id}}}},[t._v("\n                        "+t._s(e.row.subscriber.email)+"\n                    ")])]}}],null,!1,4034091633)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Reason")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.subscriber.reason)+"\n                ")]}}],null,!1,2365124013)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Date")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v(t._s(t._f("nsHumanDiffTime")(e.row.created_at)))])]}}],null,!1,2525433801)})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1):i("el-empty",{attrs:{"image-size":135,description:"Awesome! No one unsubscribed from this campaign"}})],1)}),[],!1,null,null,null).exports},data:function(){return{activeTab:"campaign_details",loading:!0,campaign:null,emails:[],dialogVisible:!1,sent_count:0,repeatingCall:!1,stat:[],analytics:{},request_counter:1,subject_analytics:{},campaign_id:this.$route.params.id,show_campaign_config:!1,fetch_status:!0,pickerOptions:{disabledDate:function(t){return t.getTime()<=Date.now()-864e5},shortcuts:[{text:"After 1 Hour",onClick:function(t){var e=new Date;e.setTime(e.getTime()+36e5),t.$emit("pick",e)}},{text:"Tomorrow",onClick:function(t){var e=new Date;e.setTime(e.getTime()+864e5),t.$emit("pick",e)}},{text:"After 2 Days",onClick:function(t){var e=new Date;e.setTime(e.getTime()+1728e5),t.$emit("pick",e)}},{text:"After 1 Week",onClick:function(t){var e=new Date;e.setTime(e.getTime()+6048e5),t.$emit("pick",e)}}]},updating:!1}},computed:{chartData:function(){var t,e,i;Object.keys(this.analytics).length;var n=[this.sent_count,parseInt((null===(t=this.analytics.open)||void 0===t?void 0:t.total)||0),parseInt((null===(e=this.analytics.click)||void 0===e?void 0:e.total)||0),parseInt((null===(i=this.analytics.unsubscribe)||void 0===i?void 0:i.total)||0)];return{labels:["Email Sent","Opens","Clicks","Unsubscribe"],datasets:[{label:"Emails",data:JSON.parse(JSON.stringify(n)),backgroundColor:["#8154ce","#a45892","#6dcc3e","#ff5b5b"]}]}}},methods:{backToCampaigns:function(){this.$router.push({name:"campaigns",query:{t:(new Date).getTime()}})},getCampaignStatus:function(){var t=this;this.loading=!0,this.$get("campaigns/".concat(this.campaign_id,"/status"),{request_counter:this.request_counter}).then((function(e){t.campaign=e.campaign,t.stat=e.stat,t.sent_count=e.sent_count,t.analytics=e.analytics,t.subject_analytics=e.subject_analytics,"working"===e.campaign.status&&t.fetchStatAgain(),t.changeTitle(t.campaign.title+" - Campaign")})).finally((function(){t.loading=!1}))},fetchStatAgain:function(){var t=this;setTimeout((function(){t.request_counter+=1,t.getCampaignStatus()}),4e3)},scheduledAt:function(t){return null===t?"Not Scheduled":this.nsDateFormat(t,"MMMM Do, YYYY [at] h:mm A")},getCampaignPercent:function(){return parseInt(this.sent_count/this.campaign.recipients_count*100)},getPercent:function(t){return parseFloat(t/this.sent_count*100).toFixed(2)+"%"},updateCampaignSettings:function(){var t=this;this.updating=!0,this.$put("campaigns/".concat(this.campaign_id,"/title"),{title:this.campaign.title,scheduled_at:this.campaign.scheduled_at}).then((function(e){t.campaign=e.campaign,t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.updating=!1,t.show_campaign_config=!1,t.getCampaignStatus()}))},pauseSending:function(){var t=this;this.updating=!0,this.$post("campaigns/".concat(this.campaign_id,"/pause")).then((function(e){t.campaign=e.campaign,t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.updating=!1,t.show_campaign_config=!1}))},resumeSending:function(){var t=this;this.updating=!0,this.$post("campaigns/".concat(this.campaign_id,"/resume")).then((function(e){t.campaign=e.campaign,t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.updating=!1,t.getCampaignStatus()}))}},mounted:function(){this.getCampaignStatus(),this.changeTitle("Campaign")}},ce=Object(a.a)(le,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[t.campaign?i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"campaigns"}}},[t._v("\n                    "+t._s(t.$t("Campaigns"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.campaign.title)+"\n                    "),i("span",{staticClass:"status"},[t._v(" - "+t._s(t.campaign.status))])])],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.backToCampaigns()}}},[t._v(t._s(t.$t("Back To Campaigns")))]),t._v(" "),i("el-button",{attrs:{icon:"el-icon-setting",size:"small"},on:{click:function(e){t.show_campaign_config=!0}}}),t._v(" "),"working"!=t.campaign.status?i("el-button",{attrs:{size:"mini"},on:{click:t.getCampaignStatus}},[i("i",{staticClass:"el-icon el-icon-refresh"})]):t._e()],1)]):t._e(),t._v(" "),t.campaign?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body fluentcrm_body_boxed"},["paused"==t.campaign.status?i("div",{staticClass:"fc_highlight_gray text-align-center"},[i("h3",[t._v(t._s(t.$t("Vie_This_cino_sNEwbs")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.resumeSending()}}},[t._v("Resume Sending")])],1):"working"==t.campaign.status?[i("h3",[t._v(" "+t._s(t.$t("Vie_Your_easrn"))+"\n                "),i("span",{directives:[{name:"loading",rawName:"v-loading",value:"working"==t.campaign.status,expression:"campaign.status == 'working'"}]},[t._v("Sending")])]),t._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":36,percentage:t.getCampaignPercent(),status:"success"}})]:"scheduled"==t.campaign.status?[i("h3",[t._v(t._s(t.$t("Vie_This_chbs")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Vie_The_ewbsboysdat")))]),t._v(" "),i("pre",[t._v(t._s(t.campaign.scheduled_at)+" ("+t._s(t._f("nsHumanDiffTime")(t.campaign.scheduled_at))+")")])]:t._e(),t._v(" "),"archived"==t.campaign.status?i("el-row",{staticClass:"fc_campaign_archived_wrapper",attrs:{gutter:30}},[i("el-col",{attrs:{md:8,sm:12,xs:24}},[i("div",{staticClass:"fc_campaign_report"},[i("h3",[t._v("Campaign Performance")]),t._v(" "),i("ul",[t._l(t.stat,(function(e){return i("li",{key:e.status},[i("i",{staticClass:"el-icon el-icon-message"}),t._v(" "),i("span",{staticClass:"fc_report_title"},[t._v(t._s(t._f("ucFirst")(e.status))+" "+t._s(t.$t("Emails")))]),t._v(" "),i("span",{staticClass:"fc_report_value"},[t._v("\n                                "+t._s(e.total)+"\n                            ")])])})),t._v(" "),t._l(t.analytics,(function(e){return i("li",{key:e.type,class:"fc_camp_data_"+e.type},[i("i",{class:e.icon_class}),t._v(" "),i("span",{staticClass:"fc_report_title"},[t._v(t._s(e.label))]),t._v(" "),e.is_percent?i("span",{staticClass:"fc_report_value"},[t._v("\n                        "+t._s(t.getPercent(e.total))+"\n                    ")]):i("span",{staticClass:"fc_report_value"},[t._v("\n                        "+t._s(e.total)+"\n                    ")])])}))],2)])]),t._v(" "),i("el-col",{attrs:{md:8,sm:12,xs:24}},[i("div",{staticClass:"fc_campaign_report"},[i("h3",[t._v("Emails Stats")]),t._v(" "),i("div",{staticStyle:{"max-width":"270px",margin:"0 auto"}},[t.chartData&&!t.loading?i("campaign-chart",{attrs:{"chart-data":t.chartData}}):t._e()],1)])]),t._v(" "),i("el-col",{attrs:{md:8,sm:12,xs:24}},[i("div",{staticClass:"fc_campaign_report"},[i("h3",[t._v("Link activity")]),t._v(" "),i("div",{},[t.loading?t._e():i("link-metrics",{attrs:{hide_title:!0,campaign_id:t.campaign.id}})],1)])])],1):i("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_stat_cards",staticStyle:{"min-height":"100px"}},[t._l(t.stat,(function(e){return i("li",{key:e.status},[i("div",{staticClass:"fluentcrm_cart_counter"},[t._v(t._s(e.total))]),t._v(" "),i("h4",[t._v(t._s(t._f("ucFirst")(e.status))+" "+t._s(t.$t("Emails")))])])})),t._v(" "),i("li",[i("div",{staticClass:"fluentcrm_cart_counter"},[t._v(t._s(t.campaign.recipients_count))]),t._v(" "),i("h4",[t._v(t._s(t.$t("Total Emails")))])]),t._v(" "),t._l(t.analytics,(function(e){return i("li",{key:e.type,class:"fc_camp_data_"+e.type},[i("div",{staticClass:"fluentcrm_cart_counter"},[e.is_percent?i("span",[t._v("\n                        "+t._s(t.getPercent(e.total))+"\n                    ")]):i("span",[t._v("\n                        "+t._s(e.total)+"\n                    ")])]),t._v(" "),i("h4",[t._v(t._s(e.label))])])}))],2),t._v(" "),i("el-tabs",{staticStyle:{"min-height":"200px"},attrs:{type:"border-card","tab-position":"top"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[i("el-tab-pane",{attrs:{name:"campaign_details",label:t.$t("Campaign Details")}},[i("div",{staticClass:"line"},[i("el-row",{attrs:{gutter:40}},[i("el-col",{attrs:{span:4}},[i("strong",[t._v(t._s(t.$t("Title")))])]),t._v(" "),i("el-col",{attrs:{span:20}},[t._v(": "+t._s(t.campaign.title))])],1)],1),t._v(" "),i("div",{staticClass:"line"},[i("el-row",{attrs:{gutter:40}},[i("el-col",{attrs:{span:4}},[i("strong",[t._v(t._s(t.$t("Scheduled At")))])]),t._v(" "),i("el-col",{attrs:{span:20}},[t._v(": "+t._s(t.scheduledAt(t.campaign.scheduled_at)))])],1)],1),t._v(" "),i("div",{staticClass:"line"},[i("el-row",{attrs:{gutter:40}},[i("el-col",{attrs:{span:4}},[i("strong",[t._v(t._s(t.$t("Subject")))])]),t._v(" "),i("el-col",{attrs:{span:20}},[t._v("\n                            : "+t._s(t.campaign.email_subject)+"\n                        ")])],1)],1),t._v(" "),i("div",{staticClass:"line"},[i("el-row",{attrs:{gutter:40}},[i("el-col",{attrs:{span:4}},[i("strong",[t._v(t._s(t.$t("Total Recipients")))])]),t._v(" "),i("el-col",{attrs:{span:20}},[t._v(": "+t._s(t.campaign.recipients_count))])],1)],1),t._v(" "),i("div",{staticClass:"template-preview",staticStyle:{"margin-top":"30px"}},[i("div",{staticClass:"fluentcrm_email_body_preview",domProps:{innerHTML:t._s(t.campaign.email_body)}})])]),t._v(" "),i("el-tab-pane",{attrs:{lazy:!0,name:"campaign_subscribers",label:t.$t("Emails")}},[i("campaign-emails",{attrs:{campaign_id:t.campaign.id},on:{fetchCampaign:function(e){return t.getCampaignStatus()}}})],1),t._v(" "),t.analytics.unsubscribe?i("el-tab-pane",{attrs:{lazy:!0,name:"campaign_unsubscribers",label:t.$t("Unsubscribers")}},[i("unsubscribers",{attrs:{campaign_id:t.campaign.id}})],1):t._e(),t._v(" "),t.subject_analytics.subjects?i("el-tab-pane",{attrs:{name:"campaign_subject_analytics",label:t.$t("A/B Testing Result")}},[i("subject-metrics",{attrs:{campaign:t.campaign,metrics:t.subject_analytics}})],1):t._e(),t._v(" "),t.analytics.revenue?i("el-tab-pane",{attrs:{name:"campaign_revenue",label:t.$t("Revenue Report")}},["campaign_revenue"==t.activeTab?i("revenue-report",{attrs:{campaign:t.campaign}}):t._e()],1):t._e(),t._v(" "),i("el-tab-pane",{attrs:{lazy:!0,name:"campaign_actions",label:t.$t("Actions")}},[i("campaign-actions",{attrs:{campaign:t.campaign}})],1)],1)],2):i("div",{staticClass:"text-align-center"},[i("h3",[t._v(t._s(t.$t("Loading Campaign Data...")))])]),t._v(" "),t.campaign?i("el-dialog",{attrs:{title:t.$t("Campaign Settings"),"append-to-body":!0,"close-on-click-modal":!1,visible:t.show_campaign_config,width:"60%"},on:{"update:visible":function(e){t.show_campaign_config=e}}},[i("el-form",{attrs:{"label-position":"top",data:t.campaign}},[i("el-form-item",{attrs:{label:t.$t("Campaign Title")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Campaign Title")},model:{value:t.campaign.title,callback:function(e){t.$set(t.campaign,"title",e)},expression:"campaign.title"}})],1),t._v(" "),"scheduled"==t.campaign.status?i("div",{staticClass:"fc_highlight_gray text-align-center"},[i("h3",[t._v("Your campaign is currently on "),i("b",[t._v("scheduled")]),t._v(" state")]),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Schedule Time")}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","picker-options":t.pickerOptions,placeholder:t.$t("Select date and time")},model:{value:t.campaign.scheduled_at,callback:function(e){t.$set(t.campaign,"scheduled_at",e)},expression:"campaign.scheduled_at"}})],1)],1):"working"==t.campaign.status?i("div",{staticClass:"fc_highlight_gray text-align-center"},[i("h3",[t._v(t._s(t.$t("Vie_Emails_asatm")))]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.pauseSending()}}},[t._v(t._s(t.$t("Pause Sending")))])],1):t._e()],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.updating,expression:"updating"}],attrs:{type:"primary"},on:{click:function(e){return t.updateCampaignSettings()}}},[t._v(t._s(t.$t("Save")))])],1)],1):t._e()],1)}),[],!1,null,null,null).exports,ue={name:"Templates",components:{Confirm:f,Pagination:g},data:function(){return{loading:!1,templates:[],pagination:{current_page:1,per_page:20,total:0},url:"",title:"",dialogVisible:!1,order:"desc",orderBy:"ID"}},methods:{getStyleOfPostStatus:function(t){return{fontWeight:500,color:"publish"===t?"green":"gray"}},fetch:function(){var t=this;this.loading=!0;var e={order:this.order,orderBy:this.orderBy,per_page:this.pagination.per_page,page:this.pagination.current_page,types:["publish","draft"]};this.$get("templates",e).then((function(e){t.templates=e.templates.data,t.pagination.total=e.templates.total,t.loading=!1}))},create:function(){this.$router.push({name:"edit_template",params:{template_id:0}})},edit:function(t){this.$router.push({name:"edit_template",params:{template_id:t.ID}})},remove:function(t){var e=this;this.$del("templates/".concat(t.ID)).then((function(t){e.fetch(),e.$notify.success({title:"Great!",message:t.message,offset:19})}))},syncVisibility:function(){this.dialogVisible=!1},onDialogClose:function(){this.fetch(),this.url=""},sortCampaigns:function(t){this.order=t.order,this.orderBy=t.prop,this.fetch()}},mounted:function(){this.fetch(),this.changeTitle("Email Templates")}},de=Object(a.a)(ue,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-templates fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Email Templates")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[t.hasPermission("fcrm_manage_email_templates")?i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.create}},[t._v("\n                "+t._s(t.$t("Create New Template"))+"\n            ")]):t._e()],1)]),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("div",{staticClass:"templates-table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.templates,stripe:""},on:{"sort-change":t.sortCampaigns}},[i("el-table-column",{attrs:{label:t.$t("ID"),width:"100",prop:"ID",sortable:"custom"}}),t._v(" "),i("el-table-column",{attrs:{prop:"post_title",label:t.$t("Title"),sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"edit_template",params:{template_id:e.row.ID}}}},[t._v("\n                            "+t._s(e.row.post_title)+"\n                        ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"220",label:t.$t("Created At"),prop:"post_date",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.post_date}},[t._v("\n                            "+t._s(t._f("nsHumanDiffTime")(e.row.post_date))+"\n                        ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"140",label:t.$t("Actions"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.edit(e.row)}}}),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e.row)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)]}}])})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)])])}),[],!1,null,null,null).exports,_e={name:"edit_template",props:["template_id"],components:{InputPopover:k,EmailBlockComposer:Ft},data:function(){return{email_template:{post_title:"",post_content:" ",post_excerpt:"",email_subject:"",edit_type:"html",design_template:"simple",settings:{template_config:{}}},email_template_designs:window.fcAdmin.email_template_designs,sending_test:!1,smart_codes:[],loading:!0,app_ready:!1,codes_ready:!1,send_test_pop:!1,test_email:""}},methods:{fetchSmartCodes:function(){var t=this;this.codes_ready=!1,this.$get("templates/smartcodes",{}).then((function(e){t.smart_codes=e.smartcodes})).catch((function(t){console.log(t)})).finally((function(){t.codes_ready=!0}))},fetchTemplate:function(){var t=this;this.loading=!0,this.$get("templates/".concat(this.template_id)).then((function(e){t.email_template=e.template,t.$nextTick((function(){t.app_ready=!0}))})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},saveTemplate:function(){var t=this;this.loading=!0;(parseInt(this.template_id)?this.$put("templates/".concat(this.template_id),{template:this.email_template}):this.$post("templates",{template:this.email_template})).then((function(e){t.$notify.success(e.message),parseInt(t.template_id)||t.$router.push({name:"edit_template",params:{template_id:e.template_id}})})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},sendTestEmail:function(){var t=this;return this.email_template.post_content?this.email_template.email_subject?(this.sending_test=!0,void this.$post("campaigns/send-test-email",{campaign:{email_subject:this.email_template.email_subject,email_pre_header:this.email_template.post_excerpt,email_body:this.email_template.post_content,design_template:this.email_template.design_template,settings:this.email_template.settings},email:this.test_email,test_campaign:"yes"}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.$notify.error(e.message)})).finally((function(){t.sending_test=!1,t.send_test_pop=!1}))):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peS"),offset:19}):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peb"),offset:19})}},mounted:function(){this.fetchSmartCodes(),this.fetchTemplate(),this.changeTitle("Edit Template")}},pe=Object(a.a)(_e,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-templates fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[0==t.template_id?i("h3",[t._v(t._s(t.$t("Create Email Template")))]):i("div",[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"templates"}}},[t._v("\n                        "+t._s(t.$t("Email Templates"))+"\n                    ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                        "+t._s(t.email_template.post_title)+"\n                    ")])],1)],1)]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[0==t.template_id?i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.saveTemplate}},[t._v("\n                "+t._s(t.$t("Create Template"))+"\n            ")]):[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveTemplate}},[t._v("\n                    "+t._s(t.$t("Save Template"))+"\n                ")]),t._v(" "),i("el-popover",{attrs:{placement:"left",width:"400",trigger:"manual"},model:{value:t.send_test_pop,callback:function(e){t.send_test_pop=e},expression:"send_test_pop"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.sending_test,expression:"sending_test"}]},[i("p",[t._v(t._s(t.$t("testEmail.instruction")))]),t._v(" "),i("el-input",{attrs:{placeholder:t.$t("Email Address")},model:{value:t.test_email,callback:function(e){t.test_email=e},expression:"test_email"}},[i("template",{slot:"append"},[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.sendTestEmail()}}},[t._v("Send")])],1)],2)],1),t._v(" "),i("el-button",{staticClass:"fc_with_select",attrs:{slot:"reference",size:"small",type:"danger"},on:{click:function(e){t.send_test_pop=!t.send_test_pop}},slot:"reference"},[t._v("\n                        "+t._s(t.$t("Send a test email"))+"\n                    ")])],1)]],2)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body fluentcrm_body_boxed"},[t.app_ready?i("div",[i("el-form",{attrs:{"label-position":"top","label-width":"120px",model:t.email_template}},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Template Title")}},[i("el-input",{attrs:{placeholder:t.$t("Template Title")},model:{value:t.email_template.post_title,callback:function(e){t.$set(t.email_template,"post_title",e)},expression:"email_template.post_title"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Email Subject")}},[i("input-popover",{attrs:{popper_extra:"fc_with_c_fields",placeholder:t.$t("Email Subject"),data:t.smart_codes},model:{value:t.email_template.email_subject,callback:function(e){t.$set(t.email_template,"email_subject",e)},expression:"email_template.email_subject"}})],1)],1),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Email Pre-Header")}},[i("el-input",{staticClass:"min_textarea_40",attrs:{type:"textarea",placeholder:t.$t("Email Pre-Header"),rows:1},model:{value:t.email_template.post_excerpt,callback:function(e){t.$set(t.email_template,"post_excerpt",e)},expression:"email_template.post_excerpt"}})],1)],1)],1)],1)],1):t._e(),t._v(" "),t.app_ready&&t.codes_ready?i("div",{staticStyle:{margin:"0 -20px"}},[i("email-block-composer",{attrs:{body_key:"post_content",campaign:t.email_template}})],1):t._e()])])}),[],!1,null,null,null).exports,me={name:"AllEmails",components:{Pagination:g,EmailPreview:Ut},data:function(){return{emails:[],pagination:{total:0,per_page:10,current_page:1},loading:!1,preview:{id:null,isVisible:!1},resending:!1,selections:[],deleting:!1}},methods:{fetchEmails:function(){var t=this;this.loading=!0;var e={per_page:this.pagination.per_page,page:this.pagination.current_page};this.$get("reports/emails",e).then((function(e){t.emails=e.emails.data,t.pagination.total=e.emails.total})).catch((function(e){t.handleError(e)})).finally((function(e){t.loading=!1}))},resendEmail:function(t){var e=this;if(!this.has_campaign_pro)return this.$notify.error("_Ca_Please_utptutf"),!1;this.resending=!0,this.$post("campaigns-pro/".concat(t.campaign_id,"/resend-emails"),{email_ids:[t.id]}).then((function(t){e.$notify.success(t.message),e.fetchEmails()})).catch((function(t){e.handleError(t)})).finally((function(){e.resending=!1}))},previewEmail:function(t){this.preview.id=t,this.preview.isVisible=!0},deleteSelected:function(){var t=this;this.deleting=!0;var e=this.selections.map((function(t){return t.id}));this.$del("reports/emails",{email_ids:e}).then((function(e){t.selections=[],t.$notify.success(e.message),t.fetchEmails()})).catch((function(e){t.handleError(e)})).finally((function(){t.deleting=!1}))},handleSelectionChange:function(t){this.selections=t}},mounted:function(){this.fetchEmails(),this.changeTitle("All Emails")}},fe=Object(a.a)(me,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("All Email Activities")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"})]),t._v(" "),i("div",{staticClass:"fluentcrm_body fluentcrm_pad_b_30"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading||t.resending,expression:"loading || resending"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:t.emails},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{width:"64",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.subscriber?i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.subscriber_id}}}},[i("img",{staticClass:"fc_contact_photo",attrs:{title:"Contact ID: "+e.row.subscriber_id,src:e.row.subscriber.photo}})]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Contact"),width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.subscriber?i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.subscriber_id}}}},[t._v("\n                        "+t._s(e.row.subscriber.full_name)+"\n                    ")]):i("span",[t._v(t._s(e.row.email_address))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Subject")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.email_subject))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Source")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.campaign?i("span",[t._v(t._s(e.row.campaign.title))]):i("span",[t._v("n/a")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"120",label:t.$t("Status")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.status)+"\n                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"140",label:t.$t("Date")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v("\n                    "+t._s(t._f("nsHumanDiffTime")(e.row.created_at))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Preview"),width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.subscriber?[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-view"},on:{click:function(i){return t.previewEmail(e.row.id)}}}),t._v(" "),"sent"!=e.row.status&&"failed"!=e.row.status||!e.row.campaign_id?t._e():i("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-refresh-right"},on:{click:function(i){return t.resendEmail(e.row)}}},[t._v(t._s(t.$t("Resend"))+"\n                        ")])]:t._e()]}}])})],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:12,sm:24}},[t.selections.length?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.deleting,expression:"deleting"}],staticStyle:{"margin-top":"10px"},attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(e){return t.deleteSelected()}}},[t._v("Delete Selected\n                ")]):t._e(),t._v("\n                \n            ")],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetchEmails}})],1)],1)],1),t._v(" "),i("email-preview",{attrs:{preview:t.preview}})],1)}),[],!1,null,null,null).exports,he={name:"Error",props:["error"]},ge=Object(a.a)(he,(function(){var t=this.$createElement,e=this._self._c||t;return this.error?e("span",{staticClass:"el-form-item__error"},[this._v("\n    "+this._s(this.error)+"\n")]):this._e()}),[],!1,null,null,null).exports,ve=i(107),be=i.n(ve),ye={name:"ProfileCustomFields",props:["subscriber","custom_fields"],data:function(){return{app_ready:!1}},computed:{fields:function(){var t=this,e={};return this.each(this.custom_fields,(function(i){be()(t.subscriber.custom_values,i.slug)&&(i.is_disabled=!0),e[i.slug]=i})),e}},methods:{},mounted:function(){var t=this;this.each(this.custom_fields,(function(e){var i="";-1!==["select-multi","checkbox"].indexOf(e.type)&&(i=[]),be()(t.subscriber.custom_values,e.slug)||t.$set(t.subscriber.custom_values,e.slug,i)})),this.app_ready=!0}},we=(i(284),Object(a.a)(ye,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.custom_fields.length?i("div",{staticClass:"fluentcrm_custom_fields"},[i("h3",[t._v(t._s(t.$t("Custom Profile Data")))]),t._v(" "),t.app_ready?i("el-form",{attrs:{data:t.subscriber.custom_values,"label-position":"top"}},[i("div",{staticClass:"fluentcrm_layout"},t._l(t.fields,(function(e,n){return i("el-form-item",{key:n,staticClass:"fluentcrm_layout_half",attrs:{label:e.label}},["text"==e.type||"number"==e.type||"textarea"==e.type?i("el-input",{attrs:{placeholder:e.label,type:e.type},model:{value:t.subscriber.custom_values[n],callback:function(e){t.$set(t.subscriber.custom_values,n,e)},expression:"subscriber.custom_values[fieldKey]"}}):"radio"==e.type?[i("el-radio-group",{model:{value:t.subscriber.custom_values[n],callback:function(e){t.$set(t.subscriber.custom_values,n,e)},expression:"subscriber.custom_values[fieldKey]"}},t._l(e.options,(function(t){return i("el-radio",{key:t,attrs:{value:t,label:t}})})),1)]:"select-one"==e.type||"select-multi"==e.type?[i("el-select",{attrs:{placeholder:"Select "+e.label,clearable:"",filterable:"",multiple:"select-multi"==e.type},model:{value:t.subscriber.custom_values[n],callback:function(e){t.$set(t.subscriber.custom_values,n,e)},expression:"subscriber.custom_values[fieldKey]"}},t._l(e.options,(function(t){return i("el-option",{key:t,attrs:{value:t,label:t}})})),1)]:"checkbox"==e.type?[i("el-checkbox-group",{model:{value:t.subscriber.custom_values[n],callback:function(e){t.$set(t.subscriber.custom_values,n,e)},expression:"subscriber.custom_values[fieldKey]"}},t._l(e.options,(function(t){return i("el-checkbox",{key:t,attrs:{value:t,label:t}})})),1)]:"date"==e.type?[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"Pick a date"},model:{value:t.subscriber.custom_values[n],callback:function(e){t.$set(t.subscriber.custom_values,n,e)},expression:"subscriber.custom_values[fieldKey]"}})]:"date_time"==e.type?[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"Pick a date and time"},model:{value:t.subscriber.custom_values[n],callback:function(e){t.$set(t.subscriber.custom_values,n,e)},expression:"subscriber.custom_values[fieldKey]"}})]:[t._v("\n                    "+t._s(e)+"\n                ")]],2)})),1)]):t._e()],1):t._e()}),[],!1,null,null,null).exports),ke={name:"Form",components:{Error:ge,CustomFields:we},props:{subscriber:{required:!0,type:Object},errors:{required:!0,type:Object},options:{required:!0,type:Object},listId:{default:null},tagId:{default:null}},data:function(){return{show_address:!1,show_custom_data:!1,countries:window.fcAdmin.countries,name_prefixes:window.fcAdmin.contact_prefixes,pickerOptions:{disabledDate:function(t){return t.getTime()>=Date.now()}}}}},xe=Object(a.a)(ke,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[i("h3",[t._v(t._s(t.$t("Basic Info")))]),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:4,md:4,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Prefix")}},[i("el-select",{model:{value:t.subscriber.prefix,callback:function(e){t.$set(t.subscriber,"prefix",e)},expression:"subscriber.prefix"}},t._l(t.name_prefixes,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),i("el-col",{attrs:{lg:10,md:10,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("First Name")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.first_name,callback:function(e){t.$set(t.subscriber,"first_name",e)},expression:"subscriber.first_name"}}),t._v(" "),i("error",{attrs:{error:t.errors.get("first_name")}})],1)],1),t._v(" "),i("el-col",{attrs:{lg:10,md:10,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Last Name")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.last_name,callback:function(e){t.$set(t.subscriber,"last_name",e)},expression:"subscriber.last_name"}}),t._v(" "),i("error",{attrs:{error:t.errors.get("last_name")}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:14,md:14,sm:24,xs:24}},[i("el-form-item",{staticClass:"is-required",attrs:{label:t.$t("Email")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.email,callback:function(e){t.$set(t.subscriber,"email",e)},expression:"subscriber.email"}}),t._v(" "),i("error",{attrs:{error:t.errors.get("email")}})],1)],1),t._v(" "),i("el-col",{attrs:{lg:10,md:10,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Phone")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.phone,callback:function(e){t.$set(t.subscriber,"phone",e)},expression:"subscriber.phone"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:10,md:10,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Date of Birth")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions,placeholder:t.$t("Pick a date")},model:{value:t.subscriber.date_of_birth,callback:function(e){t.$set(t.subscriber,"date_of_birth",e)},expression:"subscriber.date_of_birth"}})],1)],1)],1),t._v(" "),i("el-form-item",[i("el-checkbox",{model:{value:t.show_address,callback:function(e){t.show_address=e},expression:"show_address"}},[t._v(t._s(t.$t("Add Address Info")))])],1),t._v(" "),t.show_address?[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:t.$t("Address Line 1")}},[i("el-input",{attrs:{placeholder:t.$t("Address Line 1"),autocomplete:"new-password"},model:{value:t.subscriber.address_line_1,callback:function(e){t.$set(t.subscriber,"address_line_1",e)},expression:"subscriber.address_line_1"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:t.$t("Address Line 2")}},[i("el-input",{attrs:{placeholder:t.$t("Address Line 2"),autocomplete:"new-password"},model:{value:t.subscriber.address_line_2,callback:function(e){t.$set(t.subscriber,"address_line_2",e)},expression:"subscriber.address_line_2"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:t.$t("City")}},[i("el-input",{attrs:{placeholder:t.$t("City"),autocomplete:"new-password"},model:{value:t.subscriber.city,callback:function(e){t.$set(t.subscriber,"city",e)},expression:"subscriber.city"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:t.$t("State")}},[i("el-input",{attrs:{placeholder:t.$t("State"),autocomplete:"new-password"},model:{value:t.subscriber.state,callback:function(e){t.$set(t.subscriber,"state",e)},expression:"subscriber.state"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:t.$t("Postal Code")}},[i("el-input",{attrs:{placeholder:t.$t("Postal Code"),autocomplete:"new-password"},model:{value:t.subscriber.postal_code,callback:function(e){t.$set(t.subscriber,"postal_code",e)},expression:"subscriber.postal_code"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{attrs:{label:t.$t("Country")}},[i("el-select",{staticClass:"el-select-multiple",attrs:{clearable:"",filterable:"",autocomplete:"off",placeholder:t.$t("Select country")},model:{value:t.subscriber.country,callback:function(e){t.$set(t.subscriber,"country",e)},expression:"subscriber.country"}},t._l(t.countries,(function(e){return i("el-option",{key:e.code,attrs:{value:e.code,label:e.title}},[t._v("\n                            "+t._s(e.title)+"\n                        ")])})),1)],1)],1)],1)]:t._e(),t._v(" "),t.options.custom_fields.length?i("el-form-item",[i("el-checkbox",{model:{value:t.show_custom_data,callback:function(e){t.show_custom_data=e},expression:"show_custom_data"}},[t._v(t._s(t.$t("Add Custom Data")))])],1):t._e(),t._v(" "),t.show_custom_data?[i("custom-fields",{attrs:{subscriber:t.subscriber,custom_fields:t.options.custom_fields}})]:t._e(),t._v(" "),i("h3",[t._v(t._s(t.$t("Identifiers")))]),t._v(" "),i("el-row",{attrs:{type:"flex",gutter:20}},[t.listId?t._e():i("el-col",[i("el-form-item",{staticClass:"no-margin-bottom",attrs:{label:t.$t("Lists")}},[i("el-select",{staticClass:"el-select-multiple",attrs:{multiple:"",clearable:"",placeholder:t.$t("Select lists")},model:{value:t.subscriber.lists,callback:function(e){t.$set(t.subscriber,"lists",e)},expression:"subscriber.lists"}},t._l(t.options.lists,(function(e){return i("el-option",{key:e.id,attrs:{value:e.id,label:e.title}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})),1)],1)],1),t._v(" "),t.tagId?t._e():i("el-col",[i("el-form-item",{attrs:{label:t.$t("Tags")}},[i("el-select",{staticClass:"el-select-multiple",attrs:{multiple:"",clearable:"",placeholder:t.$t("Select tags")},model:{value:t.subscriber.tags,callback:function(e){t.$set(t.subscriber,"tags",e)},expression:"subscriber.tags"}},t._l(t.options.tags,(function(e){return i("el-option",{key:e.id,attrs:{value:e.id,label:e.title}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})),1)],1)],1),t._v(" "),i("el-col",[i("el-form-item",{staticClass:"is-required",attrs:{label:t.$t("Status")}},[i("el-select",{attrs:{placeholder:t.$t("Select")},model:{value:t.subscriber.status,callback:function(e){t.$set(t.subscriber,"status",e)},expression:"subscriber.status"}},t._l(t.options.statuses,(function(e){return i("el-option",{key:e.id,attrs:{label:t._f("ucFirst")(e.title),value:e.id}})})),1),t._v(" "),i("error",{attrs:{error:t.errors.get("status")}})],1)],1)],1)],2)}),[],!1,null,null,null).exports;function $e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,i,n;return e=t,(i=[{key:"get",value:function(t){if(this.errors[t])return Object.values(this.errors[t])[0]}},{key:"has",value:function(t){return!!this.errors[t]}},{key:"record",value:function(t){this.errors=t}},{key:"clear",value:function(){this.errors={}}}])&&$e(e.prototype,i),n&&$e(e,n),t}();function Se(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ee(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Oe={name:"Adder",components:{Forma:xe},props:["visible","options","listId","tagId"],data:function(){return{exist:!1,errors:new Ce,subscriber:this.fresh()}},methods:{fresh:function(){return{first_name:null,last_name:null,email:null,phone:"",date_of_birth:"",status:"subscribed",address_line_1:"",address_line_2:"",city:"",state:"",postal_code:"",country:"",tags:[],lists:[],custom_values:{}}},reset:function(){this.errors.clear(),this.exist=!1,this.subscriber=this.fresh()},hide:function(){this.reset(),this.$emit("close")},view:function(t){this.hide(),this.$router.push({name:"subscriber",params:{id:t}})},save:function(){var t=this;this.errors.clear();var e=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(i),!0).forEach((function(e){Ee(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Se(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},this.subscriber);this.listId&&(e.lists=[this.listId]),this.tagId&&(e.tags=[this.tagId]),this.$post("subscribers",e).then((function(e){t.$notify.success({title:"Great!",message:e.message,offset:19}),t.$emit("fetch",t.subscriber),t.hide()})).catch((function(e){t.errors.record(e),e.subscriber&&(t.exist=e.subscriber)}))}}},je=Object(a.a)(Oe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"fluentcrm-subscribers-dialog",attrs:{title:t.$t("Add New Contact"),"close-on-click-modal":!1,visible:t.visible,"append-to-body":!0},on:{close:function(e){return t.hide()}}},[i("forma",{attrs:{"list-id":t.listId,"tag-id":t.tagId,options:t.options,errors:t.errors,subscriber:t.subscriber}}),t._v(" "),i("div",{staticClass:"dialog-footer",class:{exist:t.exist},attrs:{slot:"footer"},slot:"footer"},[t.exist?i("p",{staticClass:"text-danger"},[t._v("\n            "+t._s(t.$t("Add_The_siapitd"))+"\n        ")]):t._e(),t._v(" "),i("div",[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.hide()}}},[t._v("\n                "+t._s(t.$t("Cancel"))+"\n            ")]),t._v(" "),t.exist?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.view(t.exist.id)}}},[t._v("\n                "+t._s(t.$t("View"))+"\n            ")]):i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.save()}}},[t._v("\n                "+t._s(t.$t("Confirm"))+"\n            ")])],1)])],1)}),[],!1,null,"f73da77e",null).exports,Te={name:"ImportSourceSelector",props:["value"],data:function(){return{loading:!1,option:this.value,import_sources:!1}},computed:{buttonDisabled:function(){return!(this.value&&this.import_sources&&this.import_sources[this.value]&&!this.import_sources[this.value].disabled)},disabledText:function(){return this.value&&this.import_sources&&this.import_sources[this.value]&&this.import_sources[this.value].disabled?this.import_sources[this.value].disabled_message:""}},watch:{option:function(){return this.$emit("input",this.option)}},methods:{next:function(){this.$emit("next")},getSources:function(){var t=this;this.loading=!0,this.$get("import/drivers").then((function(e){t.import_sources=e.drivers})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}},mounted:function(){this.getSources()}},Pe=Object(a.a)(Te,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("h4",[t._v("\n        "+t._s(t.$t("SourceSelector.title"))+"\n    ")]),t._v(" "),t.import_sources?i("el-radio-group",{staticClass:"sources fc_inline_image_radio",model:{value:t.option,callback:function(e){t.option=e},expression:"option"}},t._l(t.import_sources,(function(e,n){return i("el-radio",{key:n,staticClass:"option",attrs:{label:n}},[i("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.logo}}),t._v(" "),i("span",{staticClass:"fc_text_label"},[t._v(t._s(e.label))]),t._v(" "),e.disabled?i("span",{staticClass:"fc_import_pro"},[t._v("Pro")]):t._e()])})),1):t._e(),t._v(" "),t.disabledText&&t.buttonDisabled?i("div",{staticClass:"fc_narrow_box fluentcrm_databox text-align-center"},[i("p",{domProps:{innerHTML:t._s(t.disabledText)}}),t._v(" "),i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])]):t._e(),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{disabled:t.buttonDisabled,size:"small",type:"primary"},on:{click:t.next}},[t._v("\n            "+t._s(t.$t("Next"))+"\n        ")])],1)],1)}),[],!1,null,null,null).exports,Fe={name:"Csv",components:{Error:ge},props:["options"],data:function(){return{errors:new Ce,delimiter_options:{comma:this.$t("Comma Separated (,)"),semicolon:this.$t("Semicolon Separated (;)")}}},computed:{url:function(){return window.FLUENTCRM.appVars.rest.url+"/import/csv-upload?_wpnonce="+window.FLUENTCRM.appVars.rest.nonce+"&delimiter="+this.options.delimiter}},methods:{success:function(t){this.errors.clear(),t.map||(t.map=t.headers.map((function(t){return{csv:t,table:null}}))),this.$emit("success",t)},remove:function(){this.errors.clear()},exceed:function(){this.errors.record({file:{exceed:"You cannot upload more than one file."}})},error:function(t){var e=JSON.parse(t.message);this.handleError(e),this.errors.record({file:{invalid:e.message||"unknow error. Please check your csv first"}})},sample:function(){location.href=this.options.sampleCsv},clear:function(){this.$refs.uploader.clearFiles()},next:function(){this.$notify.error("Please Upload a CSV first")}}},De=Object(a.a)(Fe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"csv-uploader"},[i("div",{staticClass:"csv_upload_container",staticStyle:{"min-height":"300px"}},[i("label",{staticStyle:{margin:"10px 0px",display:"block"}},[t._v(t._s(t.$t("Select Your CSV Delimiter")))]),t._v(" "),i("el-select",{model:{value:t.options.delimiter,callback:function(e){t.$set(t.options,"delimiter",e)},expression:"options.delimiter"}},t._l(t.delimiter_options,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t}})})),1),t._v(" "),t.options.delimiter?[i("h3",[t._v(t._s(t.$t("Upload CSV")))]),t._v(" "),i("el-upload",{ref:"uploader",class:{"is-error":t.errors.has("file")},attrs:{drag:"",limit:1,action:t.url,multiple:!1,"on-error":t.error,"on-remove":t.remove,"on-exceed":t.exceed,"on-success":t.success}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("\n                    Drop file here or "),i("em",[t._v("click to upload")])])]),t._v(" "),i("error",{attrs:{error:t.errors.get("file")}}),t._v(" "),i("div",{staticClass:"sample"},[i("a",{on:{click:t.sample}},[t._v(t._s(t.$t("Download sample file")))])]),t._v(" "),i("p",[t._v(t._s(t.$t("csv.download_desc")))])]:t._e()],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.next}},[t._v("\n            "+t._s(t.$t("Next [Map Columns]"))+"\n        ")])],1)])}),[],!1,null,null,null).exports;function qe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ae(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(i),!0).forEach((function(e){Ie(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ie(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ne={name:"ReviewConfigurator",components:{OptionSelector:pt},props:["config","import_info","driver","labels"],data:function(){return{general_config:{tags:[],lists:[],update:!0,new_status:"",import_silently:"no",double_optin_email:"no"},importing:!1,importing_page:1,import_page_total:0,done:!1,done_message:"Import has been completed, You may close this modal now"}},methods:{importData:function(){var t=this;this.importing=!0,this.$post("import/drivers/"+this.driver,{config:Ae(Ae({},this.config),this.general_config),importing_page:this.importing_page}).then((function(e){e.has_more?(t.import_page_total=e.page_total,t.importing_page=t.importing_page+1,t.$nextTick((function(){t.importData()}))):(t.done=!0,e.message&&(t.done_message=e.message,t.$notify.success(e.message)),t.$emit("fetch"))})).catch((function(e){t.handleError(e)})).finally((function(){}))}}},Le={name:"ImportConfiguration",props:["option","options"],components:{FormBuilder:Et,ReviewConfigurator:Object(a.a)(Ne,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_review_configurator"},[t.done?i("div",[i("h3",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.done_message))])]):[t.importing?i("div",{staticClass:"text-align-center"},[i("h3",[t._v(t._s(t.$t("Importing now...")))]),t._v(" "),i("h4",[t._v(t._s(t.$t("Use_Please_dnctm")))]),t._v(" "),t.import_page_total?[t.import_page_total?i("h2",[t._v(t._s(t.importing_page)+"/"+t._s(t.import_page_total))]):t._e(),t._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:parseInt(t.importing_page/t.import_page_total*100),status:"success"}})]:t._e()],2):i("el-form",{staticClass:"manager",attrs:{"label-position":"top"}},[t.import_info.subscribers?[i("el-form-item",{attrs:{label:t.$t("Use_Some_otumyc")}}),t._v(" "),i("el-table",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{border:"",stripe:"",data:t.import_info.subscribers}},[i("el-table-column",{attrs:{prop:"name",label:"Name"}}),t._v(" "),i("el-table-column",{attrs:{prop:"email",label:"Email"}})],1),t._v(" "),t.import_info.total?i("p",[t._v(t._s(t.$t("Total Found Result:"))+" "+t._s(t.import_info.total))]):t._e()]:t._e(),t._v(" "),i("el-row",{attrs:{gutter:20}},[t.import_info.has_list_config?i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{attrs:{label:"Apply Lists"}},[i("option-selector",{attrs:{field:{is_multiple:!0,creatable:!0,option_key:"lists"}},model:{value:t.general_config.lists,callback:function(e){t.$set(t.general_config,"lists",e)},expression:"general_config.lists"}})],1)],1):t._e(),t._v(" "),t.import_info.has_tag_config?i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{attrs:{label:"Apply Tags"}},[i("option-selector",{attrs:{field:{is_multiple:!0,creatable:!0,option_key:"tags"}},model:{value:t.general_config.tags,callback:function(e){t.$set(t.general_config,"tags",e)},expression:"general_config.tags"}})],1)],1):t._e()],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[t.import_info.has_update_config?i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{staticClass:"no-margin-bottom"},[i("template",{slot:"label"},[t._v("\n                            "+t._s(t.$t("Update Subscribers"))+"\n                            "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("h3",[t._v(t._s(t.$t("Update Subscribers")))]),t._v(" "),i("p",[t._v("\n                                        Do you want to update the subscribers data "),i("br"),t._v("\n                                        if it's already exist?\n                                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1),t._v(" "),i("el-radio-group",{model:{value:t.general_config.update,callback:function(e){t.$set(t.general_config,"update",e)},expression:"general_config.update"}},[i("el-radio",{attrs:{label:!0}},[t._v(t._s(t.$t("Yes")))]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v(t._s(t.$t("No")))])],1)],2)],1):t._e(),t._v(" "),t.import_info.has_status_config?i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{staticClass:"no-margin-bottom"},[i("template",{slot:"label"},[t._v("\n                            "+t._s(t.$t("New Subscriber Status"))+"\n                            "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    "+t._s(t.$t("New Subscriber Status"))+"\n\n                                    "),i("p",[t._v("\n                                        "+t._s(t.$t("Map_Status_ftns"))+"\n                                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1),t._v(" "),i("option-selector",{attrs:{field:{is_multiple:!1,option_key:"editable_statuses"}},model:{value:t.general_config.status,callback:function(e){t.$set(t.general_config,"status",e)},expression:"general_config.status"}}),t._v(" "),"pending"==t.general_config.status?i("el-checkbox",{attrs:{"true-label":"yes"},model:{value:t.general_config.double_optin_email,callback:function(e){t.$set(t.general_config,"double_optin_email",e)},expression:"general_config.double_optin_email"}},[t._v("\n                            "+t._s(t.$t("Send Double Optin Email for new contacts"))+"\n                        ")]):t._e()],2)],1):t._e()],1),t._v(" "),t.import_info.has_silent_config?i("el-checkbox",{staticStyle:{"margin-top":"20px"},attrs:{"true-label":"yes","false-label":"no"},model:{value:t.general_config.import_silently,callback:function(e){t.$set(t.general_config,"import_silently",e)},expression:"general_config.import_silently"}},[t._v("Do Not Trigger Automations (Tag &\n                List related Events)\n            ")]):t._e()],2),t._v(" "),t.importing?t._e():i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.importData()}}},[t.labels.step_3?i("span",[t._v(t._s(t.labels.step_3))]):i("span",[t._v(t._s(t.$t("Import Now")))])])],1)]],2)}),[],!1,null,null,null).exports},data:function(){return{fields:{},config:!1,labels:{},loading:!1,step:"config",import_info:!1,general_settings:{tags:[],lists:[],status:"",update_if_exist:"no",disable_triggers:"no"}}},methods:{fetchDriver:function(){var t=this;this.loading=!0,this.$get("import/drivers/"+this.option).then((function(e){t.fields=e.fields,t.config=e.config,t.labels=e.labels})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},validateConfig:function(){var t=this;this.loading=!0,this.$get("import/drivers/"+this.option,{config:this.config,summary:"yes"}).then((function(e){t.import_info=e.import_info,t.step="general_config"})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},emitFetch:function(){this.$emit("fetch")}},mounted:function(){this.fetchDriver()}};function Me(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ze(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Re={name:"ImportSourceConfiguration",components:{Csv:De,ImportConfiguration:Object(a.a)(Le,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fc_import_configuration",staticStyle:{"min-height":"300px"}},["config"==t.step?[t.config?i("form-builder",{attrs:{formData:t.config,fields:t.fields}}):t._e(),t._v(" "),t.config?i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.validateConfig()}}},[t._v("\n                "+t._s(t.labels.step_2||"Next")+"\n            ")])],1):t._e()]:"general_config"==t.step?[i("review-configurator",{attrs:{labels:t.labels,config:t.config,import_info:t.import_info,driver:t.option},on:{fetch:function(e){return t.emitFetch()}}})]:t._e()],2)}),[],!1,null,null,null).exports},props:{option:{required:!0},options:Object},computed:{isCsv:function(){return"csv"===this.option}},methods:{success:function(t){var e;e=this.isCsv?function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(i),!0).forEach((function(e){ze(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Me(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({type:"csv"},t):{type:"users",roles:t},this.$emit("success",e)},next:function(){this.$emit("next")},emitFetch:function(){this.$emit("fetch")}}},Be=Object(a.a)(Re,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isCsv?i("div",[i("csv",{attrs:{options:t.options},on:{success:t.success}})],1):i("div",[i("import-configuration",{attrs:{option:t.option,options:t.options},on:{fetch:function(e){return t.emitFetch()}}})],1)}),[],!1,null,null,null).exports,Ve={name:"TagListSelect",props:{label:{required:!0},placeholder:{default:function(){return"Select "+this.label}},option:{required:!0,type:Array},value:{type:Array}},data:function(){return{model:this.value}},watch:{model:function(){return this.$emit("input",this.model)}}},Ue=Object(a.a)(Ve,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",{attrs:{label:t.label}},[i("el-select",{staticClass:"el-select-multiple",attrs:{multiple:"",clearable:"",placeholder:t.placeholder},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.option,(function(e){return i("el-option",{key:e.id,attrs:{value:e.id,label:e.title}},[t._v("\n            "+t._s(e.title)+"\n        ")])})),1)],1)}),[],!1,null,null,null).exports;function He(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ge(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?He(Object(i),!0).forEach((function(e){We(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):He(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function We(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Je={name:"Mapper",components:{TlSelect:Ue},props:["map","headers","columns","options","csv","listId","tagId"],data:function(){return{form:{map:this.map,tags:[],lists:[],update:!1,new_status:"",custom_values:{},delimiter:this.options.delimiter,import_silently:"no"},importing_page:1,total_page:1,importing:!1,import_status:{},skipped:0,invalid_email_counts:0,inserted:0,updated:0,errors:"",skipped_contacts:[],invalid_contacts:[],showing_contacts:""}},computed:{completed_percent:function(){return this.import_status.total?parseInt(this.import_status.completed/this.import_status.total*100):0}},watch:{map:function(){this.form.map=this.map}},methods:{save:function(){var t=this;this.form.map.filter((function(t){return t.table})).length?(this.listId&&this.form.lists.push(this.listId),this.tagId&&this.form.tags.push(this.tagId),this.importing=!0,this.$post("import/csv-import",Ge(Ge({},this.form),{},{file:this.csv,importing_page:this.importing_page})).then((function(e){t.import_status=e,t.skipped+=e.skipped,t.invalid_email_counts+=e.invalid_email_counts,t.inserted+=e.inserted,t.updated+=e.updated,e.invalid_contacts&&e.invalid_contacts.length&&t.invalid_contacts.push(e.invalid_contacts),e.skipped_contacts&&e.skipped_contacts.length&&t.skipped_contacts.push(e.skipped_contacts),e.has_more?(t.importing_page++,t.save()):(t.$notify({title:"Success",type:"success",offset:20,message:t.$t("Map_Subscribers_is")}),t.$emit("fetch"))})).catch((function(e){t.errors=e;var i=Object.keys(e.data);t.$notify({title:"Error",type:"error",offset:20,message:e.data[i[0]]}),t.importing=!1})).finally((function(){}))):this.$notify({title:this.$t("Warning"),type:"warning",offset:20,message:this.$t("No mapping found.")})}}};function Ye(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ke(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(i),!0).forEach((function(e){Qe(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ye(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Qe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ze={name:"UserImportManager",components:{TlSelect:Ue},props:["roles","options","listId","tagId"],data:function(){return{users:[],form:{tags:[],lists:[],update:!1,new_status:"",import_silently:"no"},import_page:1,importing:!1,import_page_total:1,total_count:0}},watch:{roles:function(){this.fetch()}},methods:{fetch:function(){var t=this;this.$get("import/users",{roles:this.roles}).then((function(e){t.users=e.users,t.total_count=e.total}))},save:function(){var t=this;this.importing=!0;for(var e={},i=0,n=this.roles.length;i<n;i++){var s=this.roles[i];e[s]=s}this.listId&&this.form.lists.push(this.listId),this.tagId&&this.form.tags.push(this.tagId),this.$post("import/users",Ke(Ke({},this.form),{},{roles:e,page:this.import_page})).then((function(e){e.has_more?(t.import_page=e.next_page,t.import_page_total=e.page_total,t.$nextTick((function(){t.save()}))):(t.$notify.success(e.record_total+" users have been successfully imported as CRM contacts"),t.$emit("fetch"),t.$emit("close"))})).catch((function(t){console.log(t)}))},listeners:function(){var t=this;this.addAction("import","fluentcrm",(function(e){"users"===e&&t.save()}))}},mounted:function(){this.fetch(),this.listeners()}},Xe={name:"ImportReviewer",components:{Mapper:Object(a.a)(Je,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dc_csv_mapper"},[t.importing?i("div",{staticClass:"importing_stats"},[!t.import_status.total||t.import_status.has_more?i("div",{staticClass:"text-align-center"},[i("h4",[t._v(t._s(t.$t("Map_Importing_CfyCPD")))]),t._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":40,percentage:t.completed_percent,status:"success"}}),t._v(" "),i("h3",[t._v(t._s(t.import_status.completed)+" / "+t._s(t.import_status.total))])],1):t._e(),t._v(" "),t.import_status.total&&!t.import_status.has_more?i("div",[i("h2",[t._v(t._s(t.$t("Map_Completed_Ycctmn")))])]):t._e(),t._v(" "),i("div",{staticClass:"wfc_well"},[i("ul",[i("li",[t._v(t._s(t.$t("Total Inserted:"))+" "+t._s(t.inserted))]),t._v(" "),i("li",[t._v(t._s(t.$t("Total Updated:"))+" "+t._s(t.updated))]),t._v(" "),i("li",[t._v(t._s(t.$t("Invalid Emails:"))+" "+t._s(t.invalid_email_counts))]),t._v(" "),i("li",[t._v(t._s(t.$t("Map_Total_S_I"))+" "+t._s(t.skipped))])])]),t._v(" "),t.invalid_contacts.length||t.skipped_contacts.length?i("div",{staticClass:"fc_log_wrapper",staticStyle:{"margin-top":"20px"}},[i("el-button-group",[t.invalid_contacts.length?i("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){t.showing_contacts="invalid_contacts"}}},[t._v("Show Invalid Contacts")]):t._e(),t._v(" "),t.skipped_contacts.length?i("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){t.showing_contacts="skipped_contacts"}}},[t._v("Show Skipped Contacts")]):t._e(),t._v(" "),t.errors?i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.showing_contacts="errors"}}},[t._v("Show Errors")]):t._e()],1),t._v(" "),"invalid_contacts"==t.showing_contacts?i("div",[i("h3",[t._v(t._s(t.$t("Contacts that are invalid")))]),t._v(" "),i("pre",[t._v(t._s(t.invalid_contacts))]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.showing_contacts=""}}},[t._v(t._s(t.$t("Close Log")))])],1):"skipped_contacts"==t.showing_contacts?i("div",[i("h3",[t._v(t._s(t.$t("Map_Contacts_tad")))]),t._v(" "),i("pre",[t._v(t._s(t.skipped_contacts))]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.showing_contacts=""}}},[t._v(t._s(t.$t("Close Log")))])],1):"errors"==t.showing_contacts?i("div",{staticClass:"errors"},[i("p",[t._v(t._s(t.$t("Errors")))]),t._v(" "),i("pre",[t._v(t._s(t.errors))]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.showing_contacts=""}}},[t._v(t._s(t.$t("Close Log")))])],1):t._e()],1):t._e()]):i("el-form",{attrs:{"label-width":"100px","label-position":"top"}},[i("el-form-item",[i("template",{slot:"label"},[t._v("\n                "+t._s(t.$t("Mapper.title"))+"\n                "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                            "+t._s(t.$t("Mapper.title_desc"))+"\n                        ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1)],2),t._v(" "),i("el-form-item",[i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("CSV Headers")))]),t._v(" "),i("th",[t._v(t._s(t.$t("Subscriber Fields")))])])]),t._v(" "),i("tbody",t._l(t.headers,(function(e,n){return i("tr",{key:n},[i("td",[i("el-input",{attrs:{value:e,disabled:""}})],1),t._v(" "),i("td",[i("el-select",{attrs:{clearable:""},model:{value:t.form.map[n].table,callback:function(e){t.$set(t.form.map[n],"table",e)},expression:"form.map[index].table"}},[i("el-option-group",{attrs:{label:t.$t("Main Contact Properties")}},t._l(t.columns,(function(e,n){return i("el-option",{key:n,attrs:{label:e,value:n}},[t._v("\n                                    "+t._s(e)+"\n                                ")])})),1),t._v(" "),i("el-option-group",{attrs:{label:t.$t("Custom Contact Properties")}},t._l(t.options.custom_fields,(function(e){return i("el-option",{key:e.slug,attrs:{label:e.label,value:e.slug}},[t._v("\n                                    "+t._s(e.label)+"\n                                ")])})),1)],1)],1)])})),0)])]),t._v(" "),i("el-row",{attrs:{gutter:20}},[t.listId?t._e():i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("tl-select",{attrs:{label:t.$t("Lists"),option:t.options.lists},model:{value:t.form.lists,callback:function(e){t.$set(t.form,"lists",e)},expression:"form.lists"}})],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("tl-select",{attrs:{label:t.$t("Tags"),option:t.options.tags},model:{value:t.form.tags,callback:function(e){t.$set(t.form,"tags",e)},expression:"form.tags"}})],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{staticClass:"no-margin-bottom"},[i("template",{slot:"label"},[t._v("\n                        "+t._s(t.$t("Update Subscribers"))+"\n                        "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("h3",[t._v(t._s(t.$t("Update Subscribers")))]),t._v(" "),i("p",[t._v("\n                                    Do you want to update the subscribers data "),i("br"),t._v("\n                                    if it's already exist?\n                                ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1),t._v(" "),i("el-radio-group",{model:{value:t.form.update,callback:function(e){t.$set(t.form,"update",e)},expression:"form.update"}},[i("el-radio",{attrs:{label:!0}},[t._v(t._s(t.$t("Yes")))]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v(t._s(t.$t("No")))])],1)],2)],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{staticClass:"no-margin-bottom"},[i("template",{slot:"label"},[t._v("\n                        "+t._s(t.$t("New Subscriber Status"))+"\n                        "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                "+t._s(t.$t("New Subscriber Status"))+"\n                                "),i("p",[t._v("\n                                    "+t._s(t.$t("Map_Status_ftns"))+"\n                                ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1),t._v(" "),i("el-select",{attrs:{placeholder:t.$t("Status")},model:{value:t.form.new_status,callback:function(e){t.$set(t.form,"new_status",e)},expression:"form.new_status"}},t._l(t.options.statuses,(function(t){return i("el-option",{key:t.slug,attrs:{label:t.title,value:t.slug}})})),1),t._v(" "),"pending"==t.form.new_status?i("el-checkbox",{attrs:{"true-label":"yes"},model:{value:t.form.double_optin_email,callback:function(e){t.$set(t.form,"double_optin_email",e)},expression:"form.double_optin_email"}},[t._v(t._s(t.$t("Send Double Optin Email for new contacts")))]):t._e()],2)],1)],1),t._v(" "),i("el-checkbox",{staticStyle:{"margin-top":"20px"},attrs:{"true-label":"yes","false-label":"no"},model:{value:t.form.import_silently,callback:function(e){t.$set(t.form,"import_silently",e)},expression:"form.import_silently"}},[t._v("Do Not Trigger Automations (Tag & List related Events)")]),t._v(" "),t.form.update?i("el-checkbox",{staticStyle:{"margin-top":"20px"},attrs:{"true-label":"yes"},model:{value:t.form.force_update_status,callback:function(e){t.$set(t.form,"force_update_status",e)},expression:"form.force_update_status"}},[t._v("Force update contact status. This will update all imported contact status regardless their previous status")]):t._e()],1),t._v(" "),t.importing?t._e():i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n            "+t._s(t.$t("Confirm Import"))+"\n        ")])],1)],1)}),[],!1,null,null,null).exports,Manager:Object(a.a)(Ze,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.importing?i("div",{staticClass:"text-align-center"},[i("h3",[t._v(t._s(t.$t("Importing now...")))]),t._v(" "),i("h4",[t._v(t._s(t.$t("Use_Please_dnctm")))]),t._v(" "),t.import_page_total?i("h2",[t._v(t._s(t.import_page)+"/"+t._s(t.import_page_total))]):t._e(),t._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:parseInt(t.import_page/t.import_page_total*100),status:"success"}})],1):i("el-form",{staticClass:"manager",attrs:{"label-position":"top"}},[i("el-form-item",{attrs:{label:t.$t("Use_Some_otumyc")}}),t._v(" "),i("el-table",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{border:"",stripe:"",data:t.users}},[i("el-table-column",{attrs:{prop:"display_name",label:"Name"}}),t._v(" "),i("el-table-column",{attrs:{prop:"user_email",label:"Email"}})],1),t._v(" "),t.total_count?i("p",[t._v(t._s(t.$t("Total Found Result:"))+" "+t._s(t.total_count))]):t._e(),t._v(" "),i("el-row",{attrs:{gutter:20}},[t.listId?t._e():i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("tl-select",{attrs:{label:t.$t("Lists"),option:t.options.lists},model:{value:t.form.lists,callback:function(e){t.$set(t.form,"lists",e)},expression:"form.lists"}})],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("tl-select",{attrs:{label:t.$t("Tags"),option:t.options.tags},model:{value:t.form.tags,callback:function(e){t.$set(t.form,"tags",e)},expression:"form.tags"}})],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{staticClass:"no-margin-bottom"},[i("template",{slot:"label"},[t._v("\n                        "+t._s(t.$t("Update Subscribers"))+"\n                        "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("h3",[t._v(t._s(t.$t("Update Subscribers")))]),t._v(" "),i("p",[t._v("\n                                    Do you want to update the subscribers data "),i("br"),t._v("\n                                    if it's already exist?\n                                ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1),t._v(" "),i("el-radio-group",{model:{value:t.form.update,callback:function(e){t.$set(t.form,"update",e)},expression:"form.update"}},[i("el-radio",{attrs:{label:!0}},[t._v(t._s(t.$t("Yes")))]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v(t._s(t.$t("No")))])],1)],2)],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:12,xs:12}},[i("el-form-item",{staticClass:"no-margin-bottom"},[i("template",{slot:"label"},[t._v("\n                        "+t._s(t.$t("New Subscriber Status"))+"\n                        "),i("el-tooltip",{staticClass:"item",attrs:{placement:"bottom-start",effect:"light"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                "+t._s(t.$t("New Subscriber Status"))+"\n\n                                "),i("p",[t._v("\n                                    "+t._s(t.$t("Map_Status_ftns"))+"\n                                ")])]),t._v(" "),i("i",{staticClass:"el-icon-info text-info"})])],1),t._v(" "),i("el-select",{model:{value:t.form.new_status,callback:function(e){t.$set(t.form,"new_status",e)},expression:"form.new_status"}},t._l(t.options.statuses,(function(t){return i("el-option",{key:t.slug,attrs:{value:t.slug,label:t.title}})})),1),t._v(" "),"pending"==t.form.new_status?i("el-checkbox",{attrs:{"true-label":"yes"},model:{value:t.form.double_optin_email,callback:function(e){t.$set(t.form,"double_optin_email",e)},expression:"form.double_optin_email"}},[t._v(t._s(t.$t("Send Double Optin Email for new contacts")))]):t._e()],2)],1)],1),t._v(" "),i("el-checkbox",{staticStyle:{"margin-top":"20px"},attrs:{"true-label":"yes","false-label":"no"},model:{value:t.form.import_silently,callback:function(e){t.$set(t.form,"import_silently",e)},expression:"form.import_silently"}},[t._v("Do Not Trigger Automations (Tag & List related Events)")])],1),t._v(" "),t.importing?t._e():i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n            "+t._s(t.$t("Import Users Now"))+"\n        ")])],1)],1)}),[],!1,null,null,null).exports},props:{csv:{},map:{type:Array},headers:{type:Array},columns:{type:Object},roles:{type:Array},options:Object,option:String,listId:{default:null},tagId:{default:null}},data:function(){return{}},computed:{isCsv:function(){return"csv"===this.option}},methods:{fetch:function(){this.$emit("fetch")},close:function(){this.$emit("close")}}},ti={name:"Importer",components:{SourceSelector:Pe,SourceConfiguration:Be,ReviewAndImport:Object(a.a)(Xe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isCsv?i("mapper",{attrs:{csv:t.csv,map:t.map,"list-id":t.listId,"tag-id":t.tagId,headers:t.headers,columns:t.columns,options:t.options},on:{fetch:t.fetch,close:t.close}}):i("manager",{attrs:{roles:t.roles,"list-id":t.listId,"tag-id":t.tagId,options:t.options},on:{fetch:t.fetch,close:t.close}})}),[],!1,null,null,null).exports},props:["visible","options","listId","tagId"],data:function(){return{map:[],tags:[],active:0,csv:null,lists:[],roles:[],headers:[],columns:{},statuses:[],option:"csv",countries:[],store:!1,button_loading:!1}},methods:{hide:function(){this.reset(),this.$emit("close"),this.doAction("cancel","importer")},next:function(){this.active++>2&&(this.active=0)},stop:function(){return 1===this.active&&("csv"===this.option?!this.csv:!this.roles.length)},prev:function(){0!==this.active&&this.active--},success:function(t){"csv"===t.type?(this.map=t.map,this.csv=t.file,this.headers=t.headers,this.columns=t.fields,this.next()):this.roles=t.roles},confirm:function(){this.doAction("import",this.option)},fetch:function(){this.$emit("fetch")},close:function(){this.hide(),this.reset()},reset:function(){this.active=0,this.removeAllActions("import")}}};function ei(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ii(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(i),!0).forEach((function(e){ni(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ei(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ni(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var si={name:"ExportSubscriber",props:["visible","search_query"],components:{GenericPromo:Gt},data:function(){return{columns:["first_name","last_name","email"],available_columns:M.c,custom_fields:[],limit:"",offset:"",exporting:!1}},methods:{hide:function(){this.$emit("close")},exportContacts:function(){location.href=window.ajaxurl+"?"+jQuery.param(ii(ii({action:"fluentcrm_export_contacts"},this.search_query),{},{columns:this.columns,custom_fields:this.custom_fields,limit:this.limit,offset:this.offset,format:"csv"}))}}},ai={name:"ActionMenu",components:{Adder:je,Importer:Object(a.a)(ti,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"fluentcrm-importer",attrs:{title:t.$t("Import Subscribers"),visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,width:"900px"},on:{close:function(e){return t.hide()}}},[t.visible?i("div",[0===t.active?[i("SourceSelector",{staticClass:"step",on:{fetch:function(e){return t.fetch()},next:function(e){return t.next()}},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}})]:1===t.active?[i("source-configuration",{staticClass:"step",attrs:{option:t.option,options:t.options},on:{next:function(e){return t.next()},fetch:function(e){return t.fetch()},success:t.success}})]:2===t.active?[i("review-and-import",{staticClass:"step",attrs:{csv:t.csv,map:t.map,roles:t.roles,option:t.option,headers:t.headers,columns:t.columns,options:t.options,"list-id":t.listId,"tag-id":t.tagId},on:{close:t.close,fetch:t.fetch}})]:t._e()],2):t._e()])}),[],!1,null,null,null).exports,Exporter:Object(a.a)(si,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"fluentcrm-subscribers-export-dialog",attrs:{title:t.$t("Export Subscriber"),visible:t.visible,width:"50%","append-to-body":!0},on:{close:function(e){return t.hide()}}},[i("div",[i("div",{staticClass:"fc_form_item"},[i("h3",[t._v(t._s(t.$t("Exp_Please_sctywte")))]),t._v(" "),i("el-checkbox-group",{staticClass:"fc_2_col_items",model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}},[i("el-checkbox",{attrs:{label:"id"}},[t._v(t._s(t.$t("ID")))]),t._v(" "),i("el-checkbox",{attrs:{label:"user_id"}},[t._v(t._s(t.$t("User ID")))]),t._v(" "),i("el-checkbox",{attrs:{label:"first_name",disabled:""}},[t._v(t._s(t.$t("First Name")))]),t._v(" "),i("el-checkbox",{attrs:{label:"last_name",disabled:""}},[t._v(t._s(t.$t("Last Name")))]),t._v(" "),i("el-checkbox",{attrs:{label:"email",disabled:""}},[t._v(t._s(t.$t("Email")))]),t._v(" "),i("el-checkbox",{attrs:{label:"status"}},[t._v(t._s(t.$t("Status")))]),t._v(" "),i("el-checkbox",{attrs:{label:"address_line_1"}},[t._v(t._s(t.$t("Address Line 1")))]),t._v(" "),i("el-checkbox",{attrs:{label:"address_line_2"}},[t._v(t._s(t.$t("Address Line 2")))]),t._v(" "),i("el-checkbox",{attrs:{label:"postal_code"}},[t._v(t._s(t.$t("Postal Code")))]),t._v(" "),i("el-checkbox",{attrs:{label:"city"}},[t._v(t._s(t.$t("City")))]),t._v(" "),i("el-checkbox",{attrs:{label:"state"}},[t._v(t._s(t.$t("State")))]),t._v(" "),i("el-checkbox",{attrs:{label:"ip"}},[t._v(t._s(t.$t("IP Address")))]),t._v(" "),i("el-checkbox",{attrs:{label:"date_of_birth"}},[t._v(t._s(t.$t("Date of Birth")))]),t._v(" "),t._l(t.available_columns,(function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])}))],2),t._v(" "),t.appVars.contact_custom_fields.length?[i("h3",[t._v(t._s(t.$t("Custom Contact Fields")))]),t._v(" "),i("el-checkbox-group",{staticClass:"fc_2_col_items",model:{value:t.custom_fields,callback:function(e){t.custom_fields=e},expression:"custom_fields"}},t._l(t.appVars.contact_custom_fields,(function(e){return i("el-checkbox",{key:e.slug,attrs:{label:e.slug}},[t._v(t._s(e.label))])})),1)]:t._e()],2),t._v(" "),i("div",{staticClass:"fc_form_item fc_t_30 wfc_well"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[i("label",{staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(t.$t("Contact Export Limit")))]),t._v(" "),i("el-input",{attrs:{type:"number"},model:{value:t.limit,callback:function(e){t.limit=e},expression:"limit"}})],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("label",{staticStyle:{"margin-bottom":"10px"}},[t._v(t._s(t.$t("Contact Export Offset")))]),t._v(" "),i("el-input",{attrs:{type:"number"},model:{value:t.offset,callback:function(e){t.offset=e},expression:"offset"}})],1)],1),t._v(" "),i("p",[t._v(t._s(t.$t("Exp_Leave_tbfnloo")))])],1),t._v(" "),t.exporting?i("p",[t._v(t._s(t.$t("Exporting... Please wait")))]):t._e()]),t._v(" "),t.has_campaign_pro?i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:t.hide}},[t._v("\n            "+t._s(t.$t("Cancel"))+"\n        ")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.exportContacts()}}},[t._v("\n            "+t._s(t.$t("Export Contacts"))+"\n        ")])],1):i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("generic-promo")],1)])}),[],!1,null,null,null).exports},props:["options","listId","tagId","search_query"],data:function(){return{adder:!1,importer:!1,exporter:!1}},methods:{toggle:function(t){this[t]=!this[t]},close:function(t){this[t]=!1},fetch:function(t){this.$emit("fetch",t)}}},oi=Object(a.a)(ai,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("el-button-group",[i("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"info"},on:{click:function(e){return t.toggle("adder")}}},[t._v("\n            "+t._s(t.$t("Add"))+"\n        ")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-document-add"},on:{click:function(e){return t.toggle("importer")}}},[t._v("\n            "+t._s(t.$t("Import"))+"\n        ")]),t._v(" "),i("el-button",{attrs:{size:"small",icon:"el-icon-download"},on:{click:function(e){return t.toggle("exporter")}}},[t._v("\n            "+t._s(t.$t("Export"))+"\n        ")])],1),t._v(" "),i("adder",{attrs:{visible:t.adder,listId:t.listId,tagId:t.tagId,options:t.options},on:{fetch:t.fetch,close:function(e){return t.close("adder")}}}),t._v(" "),t.importer?i("importer",{attrs:{"list-id":t.listId,"tag-id":t.tagId,visible:t.importer,options:t.options},on:{fetch:t.fetch,close:function(e){return t.close("importer")}}}):t._e(),t._v(" "),i("exporter",{attrs:{search_query:t.search_query,visible:t.exporter},on:{close:function(e){return t.close("exporter")}}})],1)}),[],!1,null,null,null).exports,ri={name:"Filterer",props:{placement:{default:"bottom-start"},filter_type:{default:"filterer"}}},li=Object(a.a)(ri,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dropdown",{staticClass:"fluentcrm-filter",attrs:{placement:t.placement,"hide-on-click":!1,trigger:"click"}},[t._t("header",(function(){return[i("el-button",{attrs:{plain:"",size:"small"}},[t._t("label",(function(){return[t._v("\n                "+t._s(t.$t("Columns"))+"\n            ")]})),t._v(" "),t._t("icon",(function(){return[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]}))],2)]})),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._t("items"),t._v(" "),t._t("footer")],2)],2)}),[],!1,null,null,null).exports,ci={name:"Editor",components:{Filterer:li},props:{type:{required:!0},options:{required:!0,type:Array},noMatch:{required:!0,type:Boolean},matched:{required:!0},selectionCount:{required:!0,type:Number},placement:{default:"bottom-start"}},watch:{matched:function(){this.init()}},data:function(){return{query:null,selection:[],checkList:[]}},methods:{init:function(){for(var t in this.selection=[],this.matched)this.selection.includes(t)||this.selection.push(t)},search:function(){this.$emit("search",this.query&&this.query.toLowerCase())},isIndeterminate:function(t){return this.matched[t.slug]&&this.matched[t.slug]!==this.selectionCount},save:function(t){var e=Object.keys(this.matched),i=t.filter((function(t){return!e.includes(t)})),n=e.filter((function(e){return!t.includes(e)}));this.$emit("subscribe",{attach:i,detach:n})}},mounted:function(){this.init()}},ui=Object(a.a)(ci,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("filterer",{attrs:{placement:t.placement}},[t._t("header",(function(){return[i("el-button",{attrs:{plain:"",size:"mini"}},[t._v("\n            "+t._s(t.$t("Add or Remove"))+" "+t._s(t._f("ucFirst")(t.trans(t.type)))+"\n            "),t._t("icon",(function(){return[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]}))],2)]}),{slot:"header"}),t._v(" "),i("el-dropdown-item",{staticClass:"fluentcrm-filter-option no-hover",attrs:{slot:"items"},slot:"items"},[i("el-input",{attrs:{size:"mini",placeholder:t.$t("Search...")},nativeOn:{keyup:function(e){return t.search.apply(null,arguments)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),i("el-dropdown-item",{staticClass:"fluentcrm-filter-option no-hover",attrs:{slot:"items"},slot:"items"},[t._v("\n        "+t._s(t.$t("Choose an option:"))+"\n    ")]),t._v(" "),i("el-checkbox-group",{staticClass:"fluentcrm-filter-options",attrs:{slot:"items"},on:{change:t.save},slot:"items",model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}},t._l(t.options,(function(e){return i("el-checkbox",{key:e.id,staticClass:"el-dropdown-menu__item",attrs:{label:e.slug,indeterminate:t.isIndeterminate(e)}},[t._v("\n            "+t._s(t.trans(e.title))+"\n        ")])})),1),t._v(" "),t.noMatch?i("el-dropdown-item",{staticClass:"fluentcrm-filter-option",attrs:{slot:"items"},slot:"items"},[i("p",[t._v(t._s(t.$t("No items found")))])]):t._e()],2)}),[],!1,null,null,null).exports,di={name:"Filters",components:{Filterer:li},props:{type:{required:!0},options:{required:!0,type:Array},selected:{required:!0},count:{required:!0,type:Number},noMatch:{required:!0,type:Boolean}},data:function(){return{query:null,placement:"bottom-start"}},computed:{selection:{get:function(){return this.selected},set:function(t){this.$emit("filter",t)}}},methods:{search:function(){this.$emit("search",this.query&&this.query.toLowerCase())},deselect:function(t){this.selection.splice(this.selection.indexOf(t),1),this.$emit("filter",this.selection)}},mounted:function(){this.appVars.is_rtl&&(this.placement="bottom-end")}},_i={data:function(){return{noMatch:!1}},computed:{choices:function(){return this.options.filter((function(t){return!1!==t.status}))}},methods:{search:function(t){var e=!0,i=this.options.map((function(i){return i.title.toLowerCase().includes(t)?(e=!1,i.status=!0):i.status=t&&!1,i}));this.$emit("search",this.type,i),this.noMatch=!(!t||!e)},subscribe:function(t){this.$emit("subscribe",this.payload(t))},payload:function(t){return{type:this.type,payload:t}}}},pi={name:"Manager",props:["type","matched","options","selected","selection","subscribers","selectionCount","total_match"],data:function(){return{placement:"bottom-start"}},components:{Editor:ui,Filters:Object(a.a)(di,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-filterer"},[i("filterer",{class:{"fluentcrm-filtered":t.selection.length},attrs:{placement:t.placement,filter_type:t.type}},[i("template",{slot:"label"},[(t.selection.length,[t._v("\n                "+t._s(t.$t("Filtered by"))+" "+t._s(t._f("ucFirst")(t.trans(t.type)))+"\n            ")])],2),t._v(" "),i("el-dropdown-item",{staticClass:"fluentcrm-filter-option no-hover",attrs:{slot:"items"},slot:"items"},[i("el-input",{attrs:{size:"small",placeholder:t.$t("Search...")},nativeOn:{keyup:function(e){return t.search.apply(null,arguments)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),i("el-dropdown-item",{staticClass:"fluentcrm-filter-option no-hover",attrs:{slot:"items"},slot:"items"},[t._v("\n            "+t._s(t.$t("Choose an option:"))+"\n        ")]),t._v(" "),i("el-checkbox-group",{staticClass:"fluentcrm-filter-options",attrs:{slot:"items"},slot:"items",model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}},t._l(t.options,(function(e){return i("el-checkbox",{key:e.id,staticClass:"el-dropdown-menu__item",attrs:{label:e.id}},[t._v("\n                "+t._s(e.title)+"\n            ")])})),1),t._v(" "),t.noMatch?i("el-dropdown-item",{staticClass:"fluentcrm-filter-option",attrs:{slot:"items"},slot:"items"},[i("p",[t._v(t._s(t.$t("No items found")))])]):t._e()],2),t._v(" "),t.selection.length?i("div",{staticClass:"fluentcrm-meta"},t._l(t.options,(function(e){return-1!==t.selected.indexOf(e.id)?i("el-tag",{key:e.id,attrs:{closable:""},on:{close:function(i){return t.deselect(e)}}},[t._v("\n            "+t._s(e.title)+"\n        ")]):t._e()})),1):t._e()],1)}),[],!1,null,null,null).exports},mixins:[_i],methods:{filter:function(t){this.$emit("filter",this.payload(t))}},mounted:function(){this.appVars.is_rtl&&(this.placement="bottom-end")}},mi=Object(a.a)(pi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-filter-manager"},[t.selection?[i("editor",{attrs:{type:t.type,options:t.choices,noMatch:t.noMatch,matched:t.matched,selectionCount:t.selectionCount,placement:t.placement},on:{search:t.search,subscribe:t.subscribe}})]:[i("filters",{attrs:{type:t.type,options:t.choices,noMatch:t.noMatch,selected:t.selected,count:t.total_match},on:{search:t.search,filter:t.filter}})]],2)}),[],!1,null,null,null).exports,fi={name:"ColumnToggler",components:{Filterer:li},data:function(){return{selection:[]}},computed:{columns:function(){var t=JSON.parse(JSON.stringify(M.c)),e=this.appVars.contact_custom_fields;return this.each(e,(function(e,i){t.push({label:e.label,value:e.slug,position:i+10})})),t}},methods:{init:function(){var t=this.storage.get("columns");t?(this.selection=t,this.fire()):(this.selection=["tags","lists"],this.save())},filter:function(){var t=this;return this.columns.filter((function(e){return t.selection.includes(e.value)}))},save:function(){this.storage.set("columns",this.selection),this.fire()},fire:function(){var t=this;this.$emit("input",this.selection),setTimeout((function(){t.$emit("dataChanged",t.selection)}),400)}},mounted:function(){this.init()}},hi={name:"Searcher",data:function(){return{model:null,timeout:null}},methods:{fire:function(){this.model&&(this.doAction("loading",!0),this.doAction("search-subscribers",this.model))}},watch:{model:function(t,e){t=jQuery.trim(t),(e=jQuery.trim(e))&&!t&&(this.doAction("loading",!0),this.doAction("search-subscribers",this.model))}}},gi={name:"BlukActionMenu"},vi={name:"PropertyChanger",components:{Filterer:li},props:["options","label","prop_key","selectedSubscribers"],data:function(){return{selected_item:""}},methods:{save:function(){this.changeSubscribersProperty({type:this.prop_key,value:this.selected_item})},changeSubscribersProperty:function(t){var e=this,i=t.type,n=t.value;n?(this.loading=!0,this.$put("subscribers/subscribers-property",{property:i,value:n,subscribers:this.selectedSubscribers.map((function(t){return t.id}))}).then((function(t){e.$notify.success(t.message),e.$emit("fetch")})).catch((function(t){console.log(t)})).finally((function(){e.loading=!1}))):this.$notify.error(this.$t("Pro_Please_saof"))}}},bi={name:"PropertyChanger",components:{Confirm:f},props:["selectedSubscribers"],data:function(){return{loading:!1,confirm_message:"<b>Are you sure to delete?</b><br />All the associate data of the selected contacts will be deleted"}},methods:{deleteSubscribers:function(){var t=this;this.loading=!0,this.$del("subscribers",{subscribers:this.selectedSubscribers.map((function(t){return t.id}))}).then((function(e){t.$notify.success(e.message),t.$emit("fetch")})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))}}};function yi(t){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wi={name:"ContactsTable",components:{Toggler:Object(a.a)(fi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("filterer",{attrs:{name:"column-toggler"}},[i("el-button",{staticClass:"fc_columns_filter",attrs:{slot:"header",icon:"el-icon-setting",plain:"",size:"small"},slot:"header"},[t._v("\n        Columns\n    ")]),t._v(" "),i("el-checkbox-group",{staticClass:"fluentcrm-filter-options",attrs:{slot:"items"},slot:"items",model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}},t._l(t.columns,(function(e,n){return i("el-checkbox",{key:n,staticClass:"el-dropdown-menu__item",attrs:{label:e.value}},[t._v("\n            "+t._s(e.label)+"\n        ")])})),1),t._v(" "),i("el-dropdown-item",{staticClass:"no-hover",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._t("btn-label",(function(){return[t._v("Save")]}))],2)],1)],1)}),[],!1,null,null,null).exports,Manager:mi,Searcher:Object(a.a)(hi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-searcher"},[i("el-input",{attrs:{clearable:"",size:"mini",placeholder:t.$t("Search Type and Enter...")},on:{clear:t.fire},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fire.apply(null,arguments)}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.fire},slot:"append"})],1)],1)}),[],!1,null,null,null).exports,BulkActionMenu:Object(a.a)(gi,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fluentcrm-bulk-action-menu"},[this._t("default")],2)}),[],!1,null,"04bb8a9e",null).exports,PropertyChanger:Object(a.a)(vi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("filterer",{attrs:{placement:"bottom-start"}},[t._t("header",(function(){return[i("el-button",{attrs:{plain:"",size:"mini"}},[t._v("\n            "+t._s(t.$t("Change"))+" "+t._s(t.label)+"\n            "),t._t("icon",(function(){return[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]}))],2)]}),{slot:"header"}),t._v(" "),i("el-dropdown-item",{staticClass:"fluentcrm-filter-option no-hover",attrs:{slot:"items"},slot:"items"},[t._v("\n        "+t._s(t.$t("Choose New"))+" "+t._s(t.label)+":\n    ")]),t._v(" "),i("el-radio-group",{staticClass:"fluentcrm_checkable_block",attrs:{slot:"items"},slot:"items",model:{value:t.selected_item,callback:function(e){t.selected_item=e},expression:"selected_item"}},t._l(t.options,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.title))])})),1),t._v(" "),i("el-dropdown-item",{staticClass:"no-hover",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._t("btn-label",(function(){return[t._v(t._s(t.$t("Change"))+" "+t._s(t.label))]}))],2)],1)],2)}),[],!1,null,null,null).exports,Pagination:g,DeleteSubscribers:Object(a.a)(bi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("confirm",{attrs:{placement:"top-start",message:t.confirm_message},on:{yes:function(e){return t.deleteSubscribers()}}},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{margin:"20px"},attrs:{slot:"reference",type:"danger",size:"mini",icon:"el-icon-delete"},slot:"reference"},[t._v(t._s(t.$t("Delete Selected"))+" ("+t._s(t.selectedSubscribers.length)+")\n    ")])],1)}),[],!1,null,null,null).exports},props:["subscribers","is_loading","query_data","pagination","options","ui_config"],data:function(){return{selection:!1,selectedSubscribers:[],selectionCount:0,matched_tags:[],matched_lists:[],matched_statuses:[],columns:[],hasCustomFields:!1,initialFired:!1}},computed:{custom_fields:function(){var t=this,e=this.appVars.contact_custom_fields;return e?e.filter((function(e){return-1!==t.columns.indexOf(e.slug)})):[]}},methods:{fetch:function(){this.$emit("fetch")},getRelations:function(t,e){return(t[e]||[]).map((function(t){return t.title})).join(", ")},formatCellValue:function(t,e){if(!t)return"";var i=t[e];return i&&"object"==yi(i)?i.join(", "):i},onSelection:function(t){var e=this;this.selection=!!t.length,this.selectedSubscribers=t;var i={},n={};t.forEach((function(t){t.tags.forEach((function(t){return e.match(t,i)})),t.lists.forEach((function(t){return e.match(t,n)}))})),this.selectionCount=t.length,this.matched_tags=i,this.matched_lists=n},match:function(t,e){e[t.slug]?e[t.slug]++:e[t.slug]=1},handleSortable:function(t){"descending"===t.order?(this.query_data.sort_by=t.prop,this.query_data.sort_type="DESC"):(this.query_data.sort_by=t.prop,this.query_data.sort_type="ASC"),this.fetch()},subscribe:function(t){var e=this,i=t.type,n=t.payload,s=n.attach,a=n.detach;this.loading=!0;var o={type:i,attach:s,detach:a,subscribers:this.selectedSubscribers.map((function(t){return t.id}))};this.$post("subscribers/sync-segments",o).then((function(t){t.subscribers.forEach((function(t){var i=e.subscribers.findIndex((function(e){return e.id===t.id}));-1!==i&&e.subscribers.splice(i,1,t),e.$refs.subscribersTable.toggleRowSelection(e.subscribers[i])}));var n="selected_".concat(i);if(e[n].length&&a.length){var s=e[n].filter((function(t){return a.includes(t)}));s.length&&e.filter({type:i,payload:s})}e.loading=!1,e.$notify.success({title:"Great!",message:t.message,offset:19})}))},maybeReFetch:function(){!this.hasCustomFields&&this.custom_fields.length?(this.query_data.custom_fields=!0,this.hasCustomFields=!0,this.fetch(),this.initialFired=!0):this.initialFired||(this.initialFired=!0,this.fetch())},filter:function(t){var e=t.type,i=t.payload;return this.$set(this.query_data,e,i),this.pagination.current_page=1,this.fetch()},search:function(t,e){this.options[t]=e},listeners:function(){var t=this;this.addAction("search-subscribers","fluentcrm",(function(e){t.query_data.search=e,t.pagination.current_page=1,t.fetch()})),this.addAction("loading","fluentcrm",(function(e){t.loading=e}))}},mounted:function(){this.listeners()}},ki=Object(a.a)(wi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_contacts_wrap"},[i("div",{staticClass:"fluentcrm-header-secondary"},[i("bulk-action-menu",[i("div",{staticClass:"fc_filter_boxes"},[!t.ui_config.disable_filters_without_selection||t.selection?[t.ui_config.show_list?i("manager",{attrs:{type:"lists",selection:t.selection,options:t.options.lists,matched:t.matched_lists,subscribers:t.subscribers,total_match:t.pagination.total,selected:t.query_data.lists,selectionCount:t.selectionCount},on:{filter:t.filter,search:t.search,subscribe:t.subscribe}}):t._e(),t._v(" "),t.ui_config.show_tag?i("manager",{attrs:{type:"tags",selection:t.selection,options:t.options.tags,matched:t.matched_tags,selected:t.query_data.tags,subscribers:t.subscribers,total_match:t.pagination.total,selectionCount:t.selectionCount},on:{search:t.search,filter:t.filter,subscribe:t.subscribe}}):t._e(),t._v(" "),t.selection?[i("property-changer",{attrs:{selectedSubscribers:t.selectedSubscribers,label:t.$t("Status"),prop_key:"status",options:t.options.statuses},on:{fetch:t.fetch}})]:[i("manager",{attrs:{type:"statuses",selection:!1,options:t.options.statuses,matched:t.matched_statuses,subscribers:t.subscribers,total_match:t.pagination.total,selected:t.query_data.statuses,selectionCount:t.selectionCount},on:{filter:t.filter,search:t.search,subscribe:t.subscribe}})]]:t._e()],2),t._v(" "),i("div",{staticClass:"fc_search_box"},[i("searcher"),t._v(" "),i("toggler",{on:{dataChanged:function(e){return t.maybeReFetch()}},model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}})],1)])],1),t._v(" "),i("div",{staticClass:"fc_contacts_table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],ref:"subscribersTable",staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Contacts Found"),data:t.subscribers,id:"fluentcrm-subscribers-table",stripe:""},on:{"selection-change":t.onSelection,"sort-change":t.handleSortable}},[t.hasPermission("fcrm_manage_contacts")?i("el-table-column",{attrs:{type:"selection",width:"60"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{label:"",width:"64",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.id}}}},[i("img",{staticClass:"fc_contact_photo",attrs:{title:t.$t("Contact ID:")+" "+e.row.id,src:e.row.photo}})])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Email"),property:"email",width:"200",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.id}}}},[t._v("\n                        "+t._s(e.row.email)+"\n                    ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Name"),"min-width":"180",property:"first_name",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.full_name)+"\n                ")]}}])}),t._v(" "),-1!=t.columns.indexOf("country")?i("el-table-column",{attrs:{"min-width":"120",label:t.$t("Country"),property:"country",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.country)+"\n                ")]}}],null,!1,4294157269)}):t._e(),t._v(" "),-1!=t.columns.indexOf("lists")?i("el-table-column",{attrs:{"min-width":"180",label:t.$t("Lists"),property:"lists"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.getRelations(e.row,"lists"))+"\n                ")]}}],null,!1,2009748460)}):t._e(),t._v(" "),-1!=t.columns.indexOf("tags")?i("el-table-column",{attrs:{"min-width":"180",label:t.$t("Tags"),property:"tags"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.getRelations(e.row,"tags"))+"\n                ")]}}],null,!1,2379587996)}):t._e(),t._v(" "),-1!=t.columns.indexOf("phone")?i("el-table-column",{attrs:{"min-width":"120",label:t.$t("Phone"),property:"phone"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.phone)+"\n                ")]}}],null,!1,304553441)}):t._e(),t._v(" "),-1!=t.columns.indexOf("contact_type")?i("el-table-column",{attrs:{label:t.$t("Type"),width:"150",property:"contact_type",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("ucWords")(t.trans(e.row.contact_type)))+"\n                ")]}}],null,!1,4116792083)}):t._e(),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Status"),width:"150",property:"status",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("ucWords")(t.trans(e.row.status)))+"\n                ")]}}])}),t._v(" "),t._l(t.custom_fields,(function(e){return i("el-table-column",{key:e.slug,attrs:{width:"200",label:e.label},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n                    "+t._s(t.formatCellValue(i.row.custom_fields,e.slug))+"\n                ")]}}],null,!0)})})),t._v(" "),-1!=t.columns.indexOf("source")?i("el-table-column",{attrs:{"min-width":"150",label:t.$t("Source"),property:"source"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.source)+"\n                ")]}}],null,!1,1727937024)}):t._e(),t._v(" "),-1!=t.columns.indexOf("last_activity")?i("el-table-column",{attrs:{prop:"last_activity",label:t.$t("Last Activity"),"min-width":"150",property:"last_activity",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.last_activity?[i("i",{staticClass:"el-icon-time"}),t._v(" "),i("span",[i("span",{attrs:{title:e.row.last_activity}},[t._v(t._s(t._f("nsHumanDiffTime")(e.row.last_activity)))])])]:t._e()]}}],null,!1,2511039582)}):t._e(),t._v(" "),-1!=t.columns.indexOf("created_at")?i("el-table-column",{attrs:{label:t.$t("Date Added"),"min-width":"160",property:"created_at",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.created_at?[i("i",{staticClass:"el-icon-time"}),t._v(" "),i("span",{attrs:{title:e.row.created_at}},[t._v(t._s(t._f("nsHumanDiffTime")(e.row.created_at)))])]:t._e()]}}],null,!1,3591174071)}):t._e(),t._v(" "),-1!=t.columns.indexOf("updated_at")?i("el-table-column",{attrs:{label:t.$t("Last Changed"),"min-width":"150",property:"updated_at",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.updated_at?[i("i",{staticClass:"el-icon-time"}),t._v(" "),i("span",{attrs:{title:e.row.updated_at}},[t._v(t._s(t._f("nsHumanDiffTime")(e.row.updated_at)))])]:t._e()]}}],null,!1,380598594)}):t._e()],2)],1),t._v(" "),i("el-row",{attrs:{guter:20}},[i("el-col",{attrs:{xs:24,md:12}},[t.selection?i("delete-subscribers",{attrs:{selectedSubscribers:t.selectedSubscribers},on:{fetch:t.fetch}}):i("div",[t._v("")])],1),t._v(" "),i("el-col",{attrs:{xs:24,md:12}},[i("pagination",{attrs:{pagination:t.pagination},on:{per_page_change:function(e){t.storage.set("contact_perpage",e)},fetch:t.fetch}})],1)],1)],1)}),[],!1,null,null,null).exports;function xi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ci=i(20),Si=i(5),Ei={name:"Subscribers",components:{ActionMenu:oi,ContactsTable:ki},data:function(){return{app_ready:!1,subscribers:[],loading:!0,pagination:{current_page:1,per_page:10,total:0},listId:null,tagId:null,query_data:{tags:[],lists:[],search:"",statuses:[],sort_by:"id",sort_type:"DESC",custom_fields:!1},ui_config:{show_list:!0,show_tag:!0},options:{tags:[],lists:[],statuses:[],countries:[],sampleCsv:null,delimiter:"comma"}}},methods:{setup:function(){var t=this.$route.query;window.fcrm_sub_params&&(t=window.fcrm_sub_params),t.tags&&!Si(t.tags)&&(t.tags=[t.tags]),t.lists&&!Si(t.lists)&&(t.lists=[t.lists]),t.statuses&&!Si(t.statuses)&&(t.statuses=[t.statuses]);var e={tags:t.tags||[],lists:t.lists||[],search:t.search||"",statuses:t.statuses||[],sort_by:t.sort_by||"id",sort_type:t.sort_type||"DESC",custom_fields:!1};t.page&&(this.pagination.current_page=parseInt(t.page)),this.query_data=e;var i=!1;return this.$route.params.listId&&(i=!0,this.listId=this.$route.params.listId,this.query_data.lists=[this.$route.params.listId],this.ui_config.show_list=!1),this.$route.params.tagId&&(i=!0,this.tagId=this.$route.params.tagId,this.query_data.tags=[this.$route.params.tagId],this.ui_config.show_tag=!1),this.app_ready=!0,i},fetch:function(){var t=this;this.loading=!0;var e=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xi(Object(i),!0).forEach((function(e){$i(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({per_page:this.pagination.per_page,page:this.pagination.current_page},this.query_data),i={};this.each(e,(function(t,e){Ci(t)||(i[e]=t)})),window.fcrm_sub_params=i,i.t=Date.now(),this.$router.replace({name:"subscribers",query:i}),this.$get("subscribers",e).then((function(e){t.pagination.total=e.subscribers.total,t.subscribers=e.subscribers.data})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},getOptions:function(){var t=this;this.$get("reports/options",{fields:"tags,lists,statuses,contact_types,sampleCsv,custom_fields"}).then((function(e){t.options=e.options}))}},created:function(){this.pagination.per_page=parseInt(this.storage.get("contact_perpage",10))||10,this.getOptions(),this.setup(),this.changeTitle(this.$t("Contacts"))}},Oi=Object(a.a)(Ei,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-subscribers fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v("\n                "+t._s(t.$t("Contacts"))+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.pagination.total,expression:"pagination.total"}],staticClass:"ff_small"},[t._v("("+t._s(t.pagination.total)+")")])])]),t._v(" "),t.hasPermission("fcrm_manage_contacts")?i("div",{staticClass:"fluentcrm-actions"},[i("action-menu",{attrs:{search_query:t.query_data,options:t.options,listId:t.listId,tagId:t.tagId},on:{fetch:t.fetch}})],1):t._e()]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body fluentcrm_pad_b_30"},[t.app_ready?i("contacts-table",{attrs:{options:t.options,query_data:t.query_data,is_loading:t.loading,ui_config:t.ui_config,subscribers:t.subscribers,pagination:t.pagination},on:{fetch:t.fetch}}):t._e()],1)])}),[],!1,null,null,null).exports,ji={name:"Form",components:{Error:ge},props:{item:{required:!0,type:Object},errors:{required:!0,type:Object}},watch:{"item.title":function(){this.item.title&&!this.item.id&&(this.item.slug=this.slugify(this.item.title))}}};function Ti(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Pi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Fi={name:"Adder",components:{Forma:Object(a.a)(ji,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12}},[i("el-form-item",{staticClass:"is-required",attrs:{label:t.$t("Title")}},[i("el-input",{model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}}),t._v(" "),i("error",{attrs:{error:t.errors.get("title")}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12}},[i("el-form-item",{staticClass:"is-required",attrs:{label:t.$t("Slug")}},[i("el-input",{attrs:{disabled:!!t.item.id},model:{value:t.item.slug,callback:function(e){t.$set(t.item,"slug",e)},expression:"item.slug"}}),t._v(" "),i("error",{attrs:{error:t.errors.get("slug")}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("For_Internal_S_")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Subtitle")},model:{value:t.item.description,callback:function(e){t.$set(t.item,"description",e)},expression:"item.description"}})],1)],1)}),[],!1,null,null,null).exports},props:{visible:Boolean,type:{type:String,required:!0},api:{type:Object,required:!0}},data:function(){return{item:this.fresh(),errors:new Ce,title:this.$t("Add New")+" "+this.ucFirst(this.trans(this.type))}},methods:{fresh:function(){return{title:null,slug:null,description:""}},reset:function(){this.errors.clear(),this.item=this.fresh()},hide:function(){this.reset(),this.$emit("close")},save:function(){var t=this;this.errors.clear();var e=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(i),!0).forEach((function(e){Pi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ti(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},this.item);(this.item.id?this.$put(this.api.store+"/"+this.item.id,e):this.$post(this.api.store,e)).then((function(e){t.$notify.success({title:"Great!",message:e.message,offset:19}),t.$emit("fetch",t.item),t.$bus.$emit("renew_options",t.type),t.hide()})).catch((function(e){t.errors.record(e)}))},listeners:function(){var t=this,e="edit-"+this.type;this.$bus.$on(e,(function(e){t.item={id:e.id,slug:e.slug,title:e.title,description:e.description},t.title="Edit "+t.ucFirst(t.type)}))}},mounted:function(){this.listeners()}},Di=Object(a.a)(Fi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{staticClass:"fluentcrm-lists-dialog",attrs:{title:t.title,visible:t.visible,"append-to-body":!0},on:{close:function(e){return t.hide()}}},[i("forma",{attrs:{errors:t.errors,item:t.item}}),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.hide()}}},[t._v("\n                "+t._s(t.$t("Cancel"))+"\n            ")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.save()}}},[t._v("\n                "+t._s(t.$t("Confirm"))+"\n            ")])],1)])],1)}),[],!1,null,null,null).exports,qi={name:"List",components:{Adder:Di,Subscribers:Oi},props:["listId"],data:function(){return{list:null,adder:!1,api:{store:"lists"}}},methods:{fetch:function(){var t=this;this.$get("lists/".concat(this.listId)).then((function(e){t.list=e})).catch((function(){}))},edit:function(){this.adder=!0,this.$bus.$emit("edit-list",this.list)},update:function(t){this.list=t},close:function(){this.adder=!1}},mounted:function(){this.fetch()}},Ai=(i(286),Object(a.a)(qi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.list?i("div",{staticClass:"list-stat"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"lists"}}},[t._v("\n                "+t._s(t.$t("Lists"))+"\n            ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                "+t._s(t.list.title)+"\n                "),i("el-link",{attrs:{icon:"el-icon-edit",underline:!1},on:{click:t.edit}})],1)],1)],1):t._e(),t._v(" "),i("subscribers"),t._v(" "),i("adder",{attrs:{api:t.api,type:"list",visible:t.adder},on:{fetch:t.update,close:t.close}})],1)}),[],!1,null,null,null).exports),Ii={name:"List",components:{Adder:Di,Subscribers:Oi},props:["tagId"],data:function(){return{tag:null,adder:!1,api:{store:"tags"}}},methods:{fetch:function(){var t=this;this.$get("tags/".concat(this.tagId)).then((function(e){t.tag=e.tag}))},edit:function(){this.adder=!0,this.$bus.$emit("edit-tag",this.tag)},update:function(t){this.tag=t},close:function(){this.adder=!1}},mounted:function(){this.fetch()}},Ni=(i(288),Object(a.a)(Ii,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.tag?i("div",{staticClass:"list-stat"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"lists"}}},[t._v("\n                "+t._s(t.$t("Tags"))+"\n            ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                "+t._s(t.tag.title)+"\n\n                "),i("el-link",{attrs:{icon:"el-icon-edit",underline:!1},on:{click:t.edit}})],1)],1)],1):t._e(),t._v(" "),i("subscribers"),t._v(" "),i("adder",{attrs:{api:t.api,type:"tag",visible:t.adder},on:{fetch:t.update,close:t.close}})],1)}),[],!1,null,null,null).exports),Li={name:"Tagger",components:{Editor:ui},props:["type","taggables","options","matched"],mixins:[_i],computed:{none:function(){return"tags"==this.type?this.$t("No tags found"):"lists"==this.type?this.$t("No lists found"):"No "+this.type+" found"}},methods:{remove:function(t){this.subscribe({attach:[],detach:[t]})}}},Mi={name:"ProfileListTags",props:["subscriber"],components:{Tagger:Object(a.a)(Li,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.taggables?i("div",[i("div",{staticClass:"header"},[i("h2",[t._v(t._s(t._f("ucFirst")(t.trans(t.type))))]),t._v(" "),i("editor",{attrs:{type:t.type,options:t.choices,noMatch:t.noMatch,matched:t.matched,selectionCount:1,placement:"bottom-end"},on:{search:t.search,subscribe:t.subscribe}},[i("el-button",{attrs:{slot:"header",plain:"",size:"mini",icon:"el-icon-plus"},slot:"header"})],1)],1),t._v(" "),i("div",{staticClass:"items"},[t._l(t.taggables,(function(e){return i("el-tag",{key:e.title,staticClass:"el-tag--white",attrs:{closable:""},on:{close:function(i){return t.remove(e.slug)}}},[t._v("\n            "+t._s(e.title)+"\n        ")])})),t._v(" "),t.taggables.length?t._e():i("el-alert",{attrs:{title:t.none,type:"warning",closable:!1}})],2)]):t._e()}),[],!1,null,null,null).exports},data:function(){return{options:{tags:[],lists:[]},matches:{tags:{},lists:{}}}},methods:{setup:function(t){var e=this;this.matches.tags=[],this.matches.lists=[],this.subscriber.tags=t.tags,this.subscriber.lists=t.lists,t.tags.forEach((function(t){return e.match(t,e.matches.tags)})),t.lists.forEach((function(t){return e.match(t,e.matches.lists)}))},getOptions:function(){var t=this;this.$get("reports/options",{fields:"tags,lists"}).then((function(e){t.options=e.options}))},subscribe:function(t){var e=this,i=t.type,n=t.payload,s={type:i,attach:n.attach,detach:n.detach,subscribers:[this.subscriber.id]};this.$post("subscribers/sync-segments",s).then((function(t){var i=t.subscribers[0];e.setup(i),e.$notify.success({title:"Great!",message:t.message,offset:19})}))},search:function(t,e){this.options[t]=e},match:function(t,e){e[t.slug]=1}},mounted:function(){this.getOptions(),this.setup(this.subscriber)}},zi={name:"ProfileHeader",components:{ProfileListTags:Object(a.a)(Mi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("el-row",{attrs:{gutter:60}},[i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("tagger",{staticClass:"info-item",attrs:{type:"lists",options:t.options.lists,matched:t.matches.lists,taggables:t.subscriber.lists},on:{search:t.search,subscribe:t.subscribe}})],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("tagger",{staticClass:"info-item",attrs:{type:"tags",options:t.options.tags,matched:t.matches.tags,taggables:t.subscriber.tags},on:{search:t.search,subscribe:t.subscribe}})],1)],1)],1)}),[],!1,null,null,null).exports,PhotoWidget:K.a},props:["subscriber"],data:function(){return{status_visible:!1,lead_visible:!1,subscriber_statuses:window.fcAdmin.subscriber_statuses,contact_types:window.fcAdmin.contact_types}},computed:{name:function(){return this.subscriber.first_name||this.subscriber.last_name?this.subscriber.prefix?"".concat(this.subscriber.prefix||""," ").concat(this.subscriber.first_name||""," ").concat(this.subscriber.last_name||""):"".concat(this.subscriber.first_name||""," ").concat(this.subscriber.last_name||""):this.subscriber.email}},methods:{saveStatus:function(){var t=this;this.updateProperty("status",this.subscriber.status,(function(){t.status_visible=!1}))},saveLead:function(){var t=this;this.updateProperty("contact_type",this.subscriber.contact_type,(function(){t.lead_visible=!1}))},updateAvatar:function(t){this.updateProperty("avatar",t)},updateProperty:function(t,e,i){var n=this;this.$put("subscribers/subscribers-property",{property:t,subscribers:[this.subscriber.id],value:e}).then((function(t){n.$notify.success(t.message),i&&i(t)})).catch((function(t){n.handleError(t)}))},emitUpdate:function(t){this.$emit("updateSubscriber",t)},sendDoubleOptinEmail:function(){var t=this;this.$post("subscribers/".concat(this.subscriber.id,"/send-double-optin")).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){}))}}},Ri={name:"Profile",components:{ProfileHeader:Object(a.a)(zi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_profile_header_warpper"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("div",{staticClass:"fluentcrm_profile_header"},[i("div",{staticClass:"fluentcrm_profile-photo"},[i("div",{staticClass:"fc_photo_holder",style:{backgroundImage:"url("+t.subscriber.photo+")"}}),t._v(" "),i("photo-widget",{staticClass:"fc_photo_changed",attrs:{btn_type:"default",btn_text:t.$t("+ Photo"),btn_mode:!0},on:{changed:t.updateAvatar},model:{value:t.subscriber.photo,callback:function(e){t.$set(t.subscriber,"photo",e)},expression:"subscriber.photo"}})],1),t._v(" "),i("div",{staticClass:"profile-info"},[i("div",{staticClass:"profile_title"},[i("h3",[t._v(t._s(t.name))]),t._v(" "),i("div",{staticClass:"profile_action"},[i("el-popover",{attrs:{placement:t.appVars.is_rtl?"left":"right",width:"360"},model:{value:t.lead_visible,callback:function(e){t.lead_visible=e},expression:"lead_visible"}},[i("div",{staticClass:"fluentcrm_type_change_wrapper",staticStyle:{padding:"10px"}},[i("el-select",{attrs:{placeholder:t.$t("Select Status"),size:"mini"},model:{value:t.subscriber.contact_type,callback:function(e){t.$set(t.subscriber,"contact_type",e)},expression:"subscriber.contact_type"}},t._l(t.contact_types,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t}})})),1)],1),t._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.saveLead()}}},[t._v("\n                                        "+t._s(t.$t("Change Contact Type"))+"\n                                    ")])],1),t._v(" "),i("el-tag",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t._f("ucFirst")(t.trans(t.subscriber.contact_type)))),i("span",{staticClass:"el-icon el-icon-caret-bottom"})])],1)],1),t._v(" "),i("div",{staticClass:"profile_action"},[i("el-popover",{attrs:{placement:t.appVars.is_rtl?"left":"right",width:"360"},model:{value:t.status_visible,callback:function(e){t.status_visible=e},expression:"status_visible"}},[i("div",{staticClass:"fluentcrm_status_change_wrapper",staticStyle:{padding:"10px"}},[i("el-select",{attrs:{placeholder:t.$t("Select Status"),size:"mini"},model:{value:t.subscriber.status,callback:function(e){t.$set(t.subscriber,"status",e)},expression:"subscriber.status"}},t._l(t.subscriber_statuses,(function(e){return i("el-option",{key:e,attrs:{value:e,label:t._f("ucFirst")(t.trans(e))}})})),1)],1),t._v(" "),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[t.hasPermission("fcrm_manage_contacts")?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.saveStatus()}}},[t._v("\n                                        "+t._s(t.$t("Pro_Change_SS"))+"\n                                    ")]):t._e()],1),t._v(" "),i("el-tag",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t._f("ucFirst")(t.trans(t.subscriber.status)))),i("span",{staticClass:"el-icon el-icon-caret-bottom"})])],1)],1)]),t._v(" "),i("p",[t._v(t._s(t.subscriber.email)+" "),t.subscriber.user_id&&t.subscriber.user_edit_url?i("span",[t._v(" | "),i("a",{attrs:{target:"_blank",href:t.subscriber.user_edit_url}},[t._v(t._s(t.subscriber.user_id)+" "),i("span",{staticClass:"dashicons dashicons-external"})])]):t._e()]),t._v(" "),i("p",[t._v("Added "+t._s(t._f("nsHumanDiffTime")(t.subscriber.created_at))+" "),t.subscriber.last_activity?i("span",[t._v(" & "+t._s(t.$t("Last Activity"))+" "+t._s(t._f("nsHumanDiffTime")(t.subscriber.last_activity)))]):t._e()]),t._v(" "),i("div",{staticClass:"stats_badges"},[i("span",{attrs:{title:t.$t("Total Emails")}},[i("i",{staticClass:"el-icon el-icon-message"}),t._v(" "),i("span",[t._v(t._s(t.subscriber.stats.emails))])]),t._v(" "),i("span",{attrs:{title:t.$t("Open Rate")}},[i("i",{staticClass:"el-icon el-icon-folder-opened"}),t._v(" "),i("span",[t._v(t._s(t.percent(t.subscriber.stats.opens,t.subscriber.stats.emails)))])]),t._v(" "),i("span",{attrs:{title:t.$t("Click Rate")}},[i("i",{staticClass:"el-icon el-icon-position"}),t._v(" "),i("span",[t._v(t._s(t.percent(t.subscriber.stats.clicks,t.subscriber.stats.emails)))])])]),t._v(" "),"pending"==t.subscriber.status?i("div",{staticClass:"fc_t_10"},[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.sendDoubleOptinEmail()}}},[t._v("\n                            "+t._s(t.$t("Send Double Optin Email"))+"\n                        ")])],1):t._e(),t._v(" "),t.subscriber.unsubscribe_reason?i("div",{staticClass:"fc_t_10"},[i("p",[t._v(t._s(t.ucFirst(t.subscriber.status))+" "+t._s(t.$t("Reason:"))+" "+t._s(t.subscriber.unsubscribe_reason))])]):t._e()])])]),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("profile-list-tags",{attrs:{subscriber:t.subscriber},on:{updateSubscriber:t.emitUpdate}})],1)],1)],1)}),[],!1,null,null,null).exports},props:["id"],data:function(){return{subscriber:!1,loading:!1,profile_parts:window.fcAdmin.profile_sections,custom_fields:[],subscriber_meta:{},show_profile:!0}},watch:{id:function(){this.fetch()}},computed:{lists:function(){return this.subscriber.lists.map((function(t){return t.title}))},name:function(){return this.subscriber.first_name||this.subscriber.last_name?"".concat(this.subscriber.first_name||""," ").concat(this.subscriber.last_name||""):this.subscriber.email}},methods:{setup:function(t){this.subscriber=t,this.changeTitle(t.full_name+" - Contact")},fetch:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.id),{with:["stats","custom_fields","subscriber.custom_values"]}).then((function(e){t.setup(e.subscriber),t.custom_fields=e.custom_fields})).finally((function(){t.loading=!1}))},maybeCustomHandler:function(t){var e=this;"fluentcrm_profile_extended"==t.name&&(this.show_profile=!1,setTimeout((function(){e.show_profile=!0}),100))}},mounted:function(){this.fetch(),this.changeTitle("Profile")}},Bi=Object(a.a)(Ri,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"subscribers"}}},[t._v("\n                    "+t._s(t.$t("Contacts"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.name)+"\n                ")])],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"})]),t._v(" "),i("div",{staticClass:"fluentcrm_body fluentcrm-profile fluentcrm_pad_30"},[t.loading?i("el-skeleton",{attrs:{animated:""}},[i("template",{slot:"template"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:3}},[i("el-skeleton-item",{staticStyle:{width:"145px",height:"145px"},attrs:{variant:"circle"}})],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("el-skeleton")],1)],1)],1)],2):t.subscriber?i("profile-header",{attrs:{subscriber:t.subscriber},on:{updateSubscriber:t.setup}}):t._e()],1),t._v(" "),i("div",{staticClass:"fluentcrm-profile"},[i("ul",{staticClass:"fluentcrm_profile_nav"},t._l(t.profile_parts,(function(e,n){return i("router-link",{key:e.name+n,attrs:{custom:"",to:{name:e.name,params:{id:t.id},query:e.query}},nativeOn:{click:function(i){return t.maybeCustomHandler(e)}},scopedSlots:t._u([{key:"default",fn:function(n){var s=n.navigate,a=n.isExactActive;return[i("li",{class:{item_active:a},domProps:{innerHTML:t._s(e.title)},on:{click:s}})]}}],null,!0)})})),1),t._v(" "),t.subscriber&&t.show_profile?i("div",{staticClass:"fluentcrm_sub_info_body"},[i("transition",[i("router-view",{key:"user_profile_route",attrs:{custom_fields:t.custom_fields,subscriber:t.subscriber,subscriber_id:t.id},on:{updateSubscriber:t.setup}})],1)],1):i("el-skeleton",{staticClass:"fc_skeleton_loader",staticStyle:{"margin-top":"20px"},attrs:{animated:""}},[i("template",{slot:"template"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:12}},[i("el-skeleton",{attrs:{rows:10}})],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-skeleton",{attrs:{rows:3}})],1)],1)],1)],2)],1)])}),[],!1,null,null,null).exports,Vi={name:"Importer",data:function(){return{activeTab:"Csv",activeCsv:1,activeUser:1,uploadedFile:null,uploadUrl:window.ajaxurl+"?action=fluentcrm-post-csv-upload",tags:[],selectedTags:[],lists:[],selectedLists:[],csvColumns:[],tableColumns:[],csvMapping:[],roles:[],tableData:[],checkAll:!1,isIndeterminate:!1,selectedRoles:[],tableColumn:["date","name","address"],IsDataInDatabase:""}},methods:{tabClicked:function(t,e){this.activeTab=t.name},next:function(){var t="active"+this.activeTab;("Csv"!==this.activeTab||1!==this.active||this.uploadedFile)&&("User"!==this.activeTab||1!==this[t]||this.selectedRoles.length)&&this.active++>2&&(this[t]=0)},prev:function(){var t="active"+this.activeTab;0!==this[t]&&this[t]--},fileUploaded:function(t,e,i){this.csvColumns=t.headers,this.tableColumns=t.columns,this.uploadedFile=t.file;var n=[];for(var s in this.csvColumns)n.push({csv:this.csvColumns[s],table:null});this.csvMapping=n},fileRemoved:function(t,e){this.uploadedFile=null},confirmCsv:function(){var t=this,e=this.csvMapping.filter((function(t){return t.table}));e.length?this.$post("import/csv-import",{mappings:e,tags:this.selectedTags,lists:this.selectedLists,file:this.uploadedFile}).then((function(e){t.$notify({title:"Success",type:"success",offset:20,message:t.$t("Map_Subscribers_is")})})).catch((function(t){return console.log(t)})):this.$notify({title:"Warning",type:"warning",offset:20,message:this.$t("No mapping found.")})},handleCheckAllChange:function(t){this.selectedRoles=t?Object.keys(this.roles):[],this.isIndeterminate=!1},fluentcrmCheckedRolesChange:function(t){var e=Object.keys(this.roles),i=t.length;this.checkAll=i===e.length,this.isIndeterminate=i>0&&i<e.length}},created:function(){var t=this;this.$get("tags").then((function(e){t.tags=e})).catch((function(e){return t.handleError(e)})),this.$get("lists").then((function(e){t.lists=e})).catch((function(e){return t.handleError(e)})),this.$get("reports/roles").then((function(e){t.roles=e.roles})).catch((function(e){return t.handleError(e)}))}},Ui=Object(a.a)(Vi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{attrs:{type:"border-card",value:t.activeTab},on:{"tab-click":t.tabClicked}},[i("el-tab-pane",{attrs:{label:t.$t("CSV"),name:"Csv"}},[i("el-steps",{attrs:{active:t.activeCsv,"finish-status":"success","align-center":""}},[i("el-step",{attrs:{title:"Step 1"}}),t._v(" "),i("el-step",{attrs:{title:"Step 2"}})],1),t._v(" "),1===t.activeCsv?i("div",{staticStyle:{"text-align":"center"}},[i("h3",[t._v(t._s(t.$t("Upload Your CSV file"))+": ")]),t._v(" "),i("el-row",[i("el-col",[i("el-upload",{attrs:{drag:"",accept:".csv",limit:1,action:t.uploadUrl,"on-success":t.fileUploaded,"on-remove":t.fileRemoved}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),i("em",[t._v("click to upload")])])])],1)],1)],1):t._e(),t._v(" "),2===t.activeCsv?i("div",[t._l(t.csvMapping,(function(e,n){return i("el-row",{key:n,attrs:{gutter:20}},[i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[i("el-input",{attrs:{readonly:""},model:{value:t.csvMapping[n].csv,callback:function(e){t.$set(t.csvMapping[n],"csv",e)},expression:"csvMapping[key].csv"}})],1),t._v(" "),i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[i("el-select",{attrs:{placeholder:t.$t("Select")},model:{value:t.csvMapping[n].table,callback:function(e){t.$set(t.csvMapping[n],"table",e)},expression:"csvMapping[key].table"}},t._l(t.tableColumns,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)})),t._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("div",{staticStyle:{color:"#606266"}},[t._v("Select Tags")]),t._v(" "),i("div",[i("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}},t._l(t.tags,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1)]),t._v(" "),i("el-row",[i("div",{staticStyle:{color:"#606266"}},[t._v("Select Lists")]),t._v(" "),i("div",[i("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:t.selectedLists,callback:function(e){t.selectedLists=e},expression:"selectedLists"}},t._l(t.lists,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1)])],2):t._e(),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[t.activeCsv>1?i("el-button",{attrs:{size:"small"},on:{click:t.prev}},[t._v(t._s(t.$t("Prev step")))]):t._e(),t._v(" "),t.activeCsv<2?i("el-button",{attrs:{size:"small"},on:{click:t.next}},[t._v(t._s(t.$t("Next step")))]):t._e(),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{disabled:2!==t.activeCsv,size:"small",type:"primary"},on:{click:t.confirmCsv}},[t._v(t._s(t.$t("Confirm"))+"\n                ")])],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:t.$t("WP Users"),name:"User"}},[i("el-steps",{attrs:{active:t.activeUser,"finish-status":"success","align-center":""}},[i("el-step",{attrs:{title:"Step 1"}}),t._v(" "),i("el-step",{attrs:{title:"Step 2"}})],1),t._v(" "),1===t.activeUser?i("div",{staticStyle:{"text-align":"center"}},[i("h3",[t._v(t._s(t.$t("Select by Roles"))+": ")]),t._v(" "),i("el-row",[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v(t._s(t.$t("All"))+"\n                    ")]),t._v(" "),i("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),i("el-checkbox-group",{staticClass:"fluentcrm-subscribers-import-check",on:{change:t.fluentcrmCheckedRolesChange},model:{value:t.selectedRoles,callback:function(e){t.selectedRoles=e},expression:"selectedRoles"}},t._l(t.roles,(function(e,n){return i("el-checkbox",{key:n,attrs:{label:n}},[t._v(t._s(e.name)+"\n                        ")])})),1)],1)],1):t._e(),t._v(" "),2===t.activeUser?i("div",[i("el-row",[i("h4",[t._v(t._s(t.$t("User data from database")))]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Available"),data:t.tableData}},t._l(t.tableColumn,(function(t,e){return i("el-table-column",{key:e,attrs:{prop:t,label:t,sortable:"",width:"auto"}})})),1),t._v(" "),i("el-form",[i("el-form-item",{attrs:{label:t.$t("Tags")}},[i("el-select",{attrs:{multiple:"",placeholder:t.$t("Select")},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}},t._l(t.tags,(function(t){return i("el-option",{key:t.slug,attrs:{label:t.title,value:t.slug}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Lists")}},[i("el-select",{attrs:{multiple:"",placeholder:t.$t("Select")},model:{value:t.selectedLists,callback:function(e){t.selectedLists=e},expression:"selectedLists"}},t._l(t.lists,(function(t){return i("el-option",{key:t.slug,attrs:{label:t.title,value:t.slug}})})),1)],1)],1),t._v(" "),i("el-radio-group",{staticClass:"fluentcrm-subscribers-import-radio",model:{value:t.IsDataInDatabase,callback:function(e){t.IsDataInDatabase=e},expression:"IsDataInDatabase"}},[i("ul",[i("li",[i("el-radio",{attrs:{label:"skip"}},[t._v(t._s(t.$t("Skip if already in DB")))])],1),t._v(" "),i("li",[i("el-radio",{attrs:{label:"update"}},[t._v(t._s(t.$t("Update if already in DB")))])],1)])])],1)],1):t._e(),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[t.activeUser>1?i("el-button",{attrs:{size:"small"},on:{click:t.prev}},[t._v(t._s(t.$t("Prev step")))]):t._e(),t._v(" "),t.activeUser<2?i("el-button",{attrs:{size:"small"},on:{click:t.next}},[t._v(t._s(t.$t("Next step")))]):t._e(),t._v(" "),i("el-button",{staticStyle:{float:"right"},attrs:{disabled:2!==t.activeUser,size:"small",type:"primary"},on:{click:t.confirmCsv}},[t._v("\n                    "+t._s(t.$t("Confirm"))+"\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,Hi={name:"ContactGroups",data:function(){return{router_name:this.$route.name,menu_items:[{title:this.$t("Lists"),route:"lists",icon:"el-icon-files"},{title:this.$t("Tags"),route:"tags",icon:"el-icon-price-tag"},{title:this.$t("Dynamic Segments"),route:"dynamic_segments",icon:"el-icon-cpu"}]}},methods:{changeMenu:function(t){jQuery(".fc_segment_menu li").removeClass("is-active"),jQuery(".fc_segment_menu li.fc_item_"+t).addClass("is-active")}}},Gi=Object(a.a)(Hi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_settings_wrapper"},[i("el-row",[i("el-col",{staticClass:"fc_side_menu_wrap",attrs:{lg:4,md:5,sm:6}},[i("el-menu",{staticClass:"el-menu-vertical-demo fc_segment_menu",attrs:{router:!0,"default-active":t.router_name}},t._l(t.menu_items,(function(e){return i("el-menu-item",{key:e.route,class:"fc_item_"+e.route,attrs:{route:{name:e.route},index:e.route}},[i("i",{class:e.icon}),t._v(" "),i("span",[t._v(t._s(e.title))])])})),1)],1),t._v(" "),i("el-col",{staticClass:"fc_setting_wrap",attrs:{lg:20,md:19,sm:18}},[i("router-view",{on:{changeMenu:t.changeMenu}})],1)],1)],1)}),[],!1,null,null,null).exports,Wi={name:"ActionMenu",props:{type:{type:String,required:!0},api:{type:Object,required:!0}},components:{Adder:Di},data:function(){return{adder:!1}},methods:{toggle:function(t){this[t]=!this[t]},close:function(t){this[t]=!1},fetch:function(t){this.$emit("fetch",t)},listeners:function(){var t=this,e="edit-"+this.type;this.$bus.$on(e,(function(){t.adder=!0}))}},mounted:function(){this.listeners()}},Ji=Object(a.a)(Wi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("el-button-group",[i("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:function(e){return t.toggle("adder")}}},[t._v("\n            "+t._s(t.$t("Create"))+" "+t._s(t._f("ucFirst")(t.trans(t.type)))+"\n        ")])],1),t._v(" "),i("adder",{attrs:{api:t.api,type:t.type,visible:t.adder},on:{fetch:t.fetch,close:function(e){return t.close("adder")}}})],1)}),[],!1,null,null,null).exports,Yi={name:"Lists",components:{Confirm:f,ActionMenu:Ji},data:function(){return{loading:!1,lists:[],api:{store:"lists"},sortBy:"id",sortType:"DESC",search:""}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("lists",{with:["subscribersCount"],sort_by:this.sortBy,sort_order:this.sortType,search:this.search}).then((function(e){t.lists=e.lists})).finally((function(){t.loading=!1}))},edit:function(t){this.$bus.$emit("edit-list",t),this.$bus.$emit("renew_options","list")},remove:function(t){var e=this;this.$del("lists/".concat(t)).then((function(t){e.fetch(),e.$notify.success({title:"Great!",message:t.message,offset:19}),e.$bus.$emit("renew_options","list")}))},handleSortable:function(t){"descending"===t.order?(this.sortBy=t.prop,this.sortType="DESC"):(this.sortBy=t.prop,this.sortType="ASC"),this.fetch()}},mounted:function(){this.fetch(),this.changeTitle("Lists"),this.$emit("changeMenu","lists")}},Ki=Object(a.a)(Yi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-lists fluentcrm_min_bg fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Lists")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Lis_List_acoycYcalaa")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("action-menu",{attrs:{type:"list",api:t.api},on:{fetch:t.fetch}})],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body"},[i("div",{staticClass:"fc_right_search"},[i("el-input",{attrs:{clearable:"",size:"mini",placeholder:t.$t("Type and Enter...")},on:{clear:t.fetch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetch.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.fetch},slot:"append"})],1)],1),t._v(" "),i("div",{staticClass:"lists-table"},[i("el-table",{staticStyle:{"padding-left":"5px"},attrs:{"empty-text":t.$t("No Data Found"),data:t.lists},on:{"sort-change":t.handleSortable}},[i("el-table-column",{attrs:{property:"id",sortable:"custom",label:t.$t("ID"),width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.id)+"\n                    ")]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"title",sortable:"custom",label:t.$t("Title")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"list",params:{listId:e.row.id}}}},[i("h3",{staticClass:"no-margin url"},[t._v("\n                                "+t._s(e.row.title)+"\n                            ")])]),t._v(" "),i("span",{staticClass:"list-created"},[t._v("\n                            "+t._s(e.row.description)+"\n                        ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Subscribers")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("h4",{staticClass:"no-margin"},[t._v("\n                            "+t._s(e.row.subscribersCount)+" of "+t._s(e.row.totalCount)+"\n                        ")]),t._v("\n                        "+t._s(t.$t("Subscribed"))+"\n                    ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Created")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v(t._s(t._f("nsHumanDiffTime")(e.row.created_at)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",width:"80",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.edit(e.row)}}}),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e.row.id)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)],1)]}}])})],1)],1)])])}),[],!1,null,null,null).exports,Qi={name:"Tags",components:{Confirm:f,ActionMenu:Ji,Pagination:g},data:function(){return{loading:!1,api:{store:"tags"},tags:[],sortBy:"id",search:"",sortType:"DESC",pagination:{total:0,per_page:10,current_page:1}}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("tags",{sort_by:this.sortBy,sort_order:this.sortType,per_page:this.pagination.per_page,page:this.pagination.current_page,search:this.search}).then((function(e){t.tags=e.tags.data,t.pagination.total=e.tags.total})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},edit:function(t){this.$bus.$emit("edit-tag",t)},remove:function(t){var e=this;this.$del("tags/".concat(t)).then((function(t){e.fetch(),e.$notify.success({title:"Great!",message:t.message,offset:19}),e.$bus.$emit("renew_options","tag")}))},handleSortable:function(t){"descending"===t.order?(this.sortBy=t.prop,this.sortType="DESC"):(this.sortBy=t.prop,this.sortType="ASC"),this.fetch()}},mounted:function(){this.fetch(),this.changeTitle("Tags"),this.$emit("changeMenu","tags")}},Zi=Object(a.a)(Qi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm-lists fluentcrm_min_bg fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Tags")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Tag_Tags_alLbmwtfyci")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("action-menu",{attrs:{type:"tag",api:t.api},on:{fetch:t.fetch}})],1)]),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("div",{staticClass:"fc_right_search"},[i("el-input",{attrs:{clearable:"",size:"mini",placeholder:t.$t("Type and Enter...")},on:{clear:t.fetch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetch.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.fetch},slot:"append"})],1)],1),t._v(" "),i("div",{staticClass:"lists-table"},[i("el-table",{staticStyle:{"padding-left":"5px"},attrs:{"empty-text":t.$t("No Data Found"),data:t.tags},on:{"sort-change":t.handleSortable}},[i("el-table-column",{attrs:{property:"id",sortable:"custom",label:t.$t("ID"),width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.id)+"\n                    ")]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"title",sortable:"custom",label:t.$t("Title")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"tag",params:{tagId:e.row.id}}}},[i("h3",{staticClass:"no-margin url"},[t._v("\n                                "+t._s(e.row.title)+"\n                            ")])]),t._v(" "),i("span",{staticClass:"list-created"},[t._v(t._s(e.row.description))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Contacts")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("h4",{staticClass:"no-margin"},[t._v("\n                            "+t._s(e.row.subscribersCount)+"\n                        ")]),t._v("\n                        "+t._s(t.$t("Subscribed"))+"\n                    ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Created")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v(t._s(t._f("nsHumanDiffTime")(e.row.created_at)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",width:"80",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.edit(e.row)}}}),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e.row.id)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)],1)]}}])})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)])])}),[],!1,null,null,null).exports,Xi={name:"DynamicSegmentPromo"},tn={name:"AllDynamicSegments",components:{Confirm:f,DynamicSegmentPromo:Object(a.a)(Xi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_promo_wrapper"},[i("div",{staticClass:"text-align-center fluentcrm_header fc_promo_heading"},[i("h1",{},[t._v("Dynamic Segments")]),t._v(" "),i("p",[t._v("Create dynamic Segments of contacts by using dynamic contact properties and filter your target audience.\n            Available in pro version of Fluent CRM")]),t._v(" "),i("a",{staticClass:"el-button el-button--success",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Email Pro")])]),t._v(" "),i("div",{staticClass:"fc_promo_body fluentcrm_body fluentcrm_pad_around"},[i("div",{staticClass:"promo_block"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("div",{staticClass:"promo_content"},[i("img",{staticClass:"promo_image",attrs:{src:t.appVars.images_url+"promo/segment_create.png"}})])]),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("h2",[t._v("Filter By Property and find appropriate Contacts")]),t._v(" "),i("p",[t._v("Simple enough to be quick to use, but powerful enough to really filter down your contacts into target segments")]),t._v(" "),i("div",{},[i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])])],1)],1),t._v(" "),i("div",{staticClass:"promo_block"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("h2",[t._v("Use your dynamic segment to broadcast Email Campaigns")]),t._v(" "),i("p",[t._v("\n                        You can create as many dynamic segment as you want and send email campaign only a selected segment. It will let you target specific audiences and increase your conversion rate.\n                    ")]),t._v(" "),i("div",{},[i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])]),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("div",{staticClass:"promo_content"},[i("img",{staticClass:"promo_image",attrs:{src:t.appVars.images_url+"promo/segment_campaign.png"}})])])],1)],1),t._v(" "),i("div",{staticClass:"promo_block"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("div",{staticClass:"promo_content"},[i("img",{staticClass:"promo_image",attrs:{src:t.appVars.images_url+"promo/dynamic_segment_all.png"}})])]),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("h2",[t._v("Get Pre-Defined Contact Lists")]),t._v(" "),i("p",[t._v("\n                        Use the Pre-Defined Dynamic Segment which will give your WordPress user lists or Ecommerce Customers or even Affiliates.\n                    ")]),t._v(" "),i("div",{},[i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])])],1)],1)])])}),[],!1,null,null,null).exports},data:function(){return{segments:[],loading:!1}},methods:{fetchSegments:function(){var t=this;this.loading=!0,this.$get("dynamic-segments").then((function(e){t.segments=e.dynamic_segments})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},edit:function(t){this.$router.push({name:"view_segment",params:{slug:t.slug,id:t.id}})},remove:function(t){var e=this;this.loading=!0,this.$del("dynamic-segments/".concat(t.id)).then((function(t){e.fetchSegments(),e.$notify.success(t.message)})).catch((function(t){e.handleError(t)})).finally((function(){e.loading=!1}))}},mounted:function(){this.has_campaign_pro&&this.fetchSegments(),this.changeTitle(this.$t("Dynamic Segments")),this.$emit("changeMenu","dynamic_segments")}},en=Object(a.a)(tn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.has_campaign_pro?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm-lists fluentcrm_min_bg fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Dynamic Segments")))]),t._v(" "),i("p",[t._v(t._s(t.$t("AllSegments.desc")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.$router.push({name:"create_custom_segment"})}}},[t._v("\n                "+t._s(t.$t("Create Custom Segment"))+"\n            ")])],1)]),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("div",{staticClass:"lists-table"},[i("el-table",{staticStyle:{"padding-left":"5px"},attrs:{"empty-text":t.$t("No Data Available"),data:t.segments}},[i("el-table-column",{attrs:{"min-width":"300px",label:t.$t("Title")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"view_segment",params:{slug:e.row.slug,id:e.row.id}}}},[i("h3",{staticClass:"no-margin url"},[t._v("\n                                "+t._s(e.row.title)+"\n                            ")])]),t._v(" "),i("span",{staticClass:"list-description"},[t._v("\n                            "+t._s(e.row.subtitle)+"\n                        ")])]}}],null,!1,1840119999)}),t._v(" "),i("el-table-column",{attrs:{width:"150",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_system?i("p",[t._v(t._s(t.$t("System Defined")))]):i("div",{staticClass:"text-align-left"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.edit(e.row)}}}),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e.row)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)],1)]}}],null,!1,2127885928)})],1)],1)])]):i("dynamic-segment-promo")}),[],!1,null,null,null).exports,nn={name:"ConditionRepeaterField",props:["value","fields"],components:{OptionSelector:pt},data:function(){return{model:this.value}},watch:{model:{deep:!0,handler:function(){this.$emit("input",this.model)}}},methods:{resetItem:function(t){t.operator="",t.field?t.value=JSON.parse(JSON.stringify(this.fields[t.field].value)):t.value=""},addRow:function(){this.model.push({field:"",operator:"",value:""})},removeItem:function(t){this.model.splice(t,1)}}},sn={name:"daysAgoInputField",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(){this.$emit("input",this.model)}}},an={name:"RadioSectionField",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(){this.$emit("input",this.model)}}},on={name:"customSegmentEditor",props:["value","segment_id"],components:{ConditionRepeater:Object(a.a)(nn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_condition_repeater"},[i("table",{staticClass:"fc_horizontal_table"},[i("tbody",t._l(t.model,(function(e,n){return i("tr",{key:"repeat_item"+n},[i("td",[i("div",{staticClass:"fc_inline_items fc_no_pad_child"},[i("el-select",{staticStyle:{"min-width":"93%"},on:{change:function(i){return t.resetItem(e)}},model:{value:e.field,callback:function(i){t.$set(e,"field",i)},expression:"item.field"}},t._l(t.fields,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:e}})})),1),t._v(" "),t.fields[e.field]&&t.fields[e.field].description?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.fields[e.field].description,placement:"top"}},[i("span",{staticClass:"el-icon el-icon-info"})]):t._e()],1)]),t._v(" "),i("td",[e.field?[i("el-select",{attrs:{placeholder:"condition"},model:{value:e.operator,callback:function(i){t.$set(e,"operator",i)},expression:"item.operator"}},t._l(t.fields[e.field].operators,(function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})})),1)]:[i("el-input",{attrs:{placeholder:"condition",disabled:!0}})]],2),t._v(" "),i("td",[e.field?["text"==t.fields[e.field].type?[i("el-input",{attrs:{placeholder:"Value"},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})]:t._e(),t._v(" "),"select"==t.fields[e.field].type?[i("el-select",{attrs:{multiple:t.fields[e.field].is_multiple,placeholder:"Choose Values"},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}},t._l(t.fields[e.field].options,(function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})})),1)]:"days_ago"==t.fields[e.field].type?[i("el-input-number",{model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}}),t._v("\n                        Days Ago\n                    ")]:"option-selector"==t.fields[e.field].type?[i("option-selector",{attrs:{field:t.fields[e.field]},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})]:t._e()]:[i("el-input",{attrs:{placeholder:"value",disabled:!0}})]],2),t._v(" "),i("td",[i("el-button",{attrs:{disabled:1==t.model.length,type:"danger",icon:"el-icon-close",size:"small"},on:{click:function(e){return t.removeItem(n)}}})],1)])})),0)]),t._v(" "),i("div",{staticClass:"text-align-right",staticStyle:{"padding-bottom":"20px"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:function(e){return t.addRow()}}},[t._v("Add Condition")])],1)])}),[],!1,null,null,null).exports,DaysAgoOperator:Object(a.a)(sn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_days_ago_operator_field"},[i("label",[t._v(t._s(t.field.label))]),t._v(" "),i("div",{staticClass:"fc_inline_items"},[i("el-select",{attrs:{placeholder:"Operator"},model:{value:t.model.operator,callback:function(e){t.$set(t.model,"operator",e)},expression:"model.operator"}},t._l(t.field.options,(function(t,e){return i("el-option",{key:e,attrs:{label:t,value:e}})})),1),t._v(" "),i("el-input-number",{model:{value:t.model.value,callback:function(e){t.$set(t.model,"value",e)},expression:"model.value"}}),t._v(" Days\n    ")],1),t._v(" "),i("p",{staticStyle:{margin:"0"},domProps:{innerHTML:t._s(t.field.inline_help)}})])}),[],!1,null,null,null).exports,RadioSection:Object(a.a)(an,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dc_radio_section"},[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(t.field.heading))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.field.label)}})]),t._v(" "),i("el-radio-group",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e,n){return i("el-radio",{key:n,attrs:{label:n}},[t._v(t._s(e))])})),1)],1)}),[],!1,null,null,null).exports},data:function(){return{fields:{},loading:!1,settings:this.value,estimated_count:"",estimating:!1,changed_in_time:!1}},watch:{settings:{deep:!0,handler:function(){this.$emit("input",this.settings),this.estimating?this.changed_in_time||(this.changed_in_time=!0):this.getEstimatedCount()}}},methods:{fetchFields:function(){var t=this;this.loading=!0,this.$get("dynamic-segments/custom-fields").then((function(e){t.fields=e.fields,t.segment_id||t.$set(t,"settings",e.settings_defaults),t.$emit("loaded")})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},getEstimatedCount:function(){var t=this;this.estimating=!0,this.$post("dynamic-segments/estimated-contacts",{settings:this.settings}).then((function(e){t.estimated_count=e.count,t.estimating=!1,t.changed_in_time&&(t.changed_in_time=!1,t.getEstimatedCount())})).catch((function(e){t.handleError(e),t.estimating=!1}))}},mounted:function(){this.fetchFields()}},rn=Object(a.a)(on,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fc_segment_fields"},[t._l(t.fields,(function(e,n){return i("div",{key:"fcs_section_"+n,class:"fc_section_"+e.key},["condition_blocks"==e.type?[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(e.heading))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(e.label)}})]),t._v(" "),i("condition-repeater",{attrs:{fields:e.fields},model:{value:t.settings[e.key],callback:function(i){t.$set(t.settings,e.key,i)},expression:"settings[field.key]"}})]:"radio_section"==e.type?[i("radio-section",{attrs:{field:e},model:{value:t.settings[e.key],callback:function(i){t.$set(t.settings,e.key,i)},expression:"settings[field.key]"}})]:"activities_blocks"==e.type?i("div",{staticClass:"fc_activities_settings"},[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(e.heading))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(e.label)}})]),t._v(" "),i("el-form-item",[i("el-checkbox",{attrs:{"true-label":"yes","false-label":"no"},model:{value:t.settings[e.key].status,callback:function(i){t.$set(t.settings[e.key],"status",i)},expression:"settings[field.key].status"}},[t._v("\n                    "+t._s(e.fields.status.label)+"\n                ")])],1),t._v(" "),"yes"==t.settings[e.key].status?i("div",{staticClass:"fc_activity_settings_section"},[i("days-ago-operator",{attrs:{field:e.fields.last_email_open},model:{value:t.settings[e.key].last_email_open,callback:function(i){t.$set(t.settings[e.key],"last_email_open",i)},expression:"settings[field.key].last_email_open"}}),t._v(" "),i("days-ago-operator",{attrs:{field:e.fields.last_email_link_click},model:{value:t.settings[e.key].last_email_link_click,callback:function(i){t.$set(t.settings[e.key],"last_email_link_click",i)},expression:"settings[field.key].last_email_link_click"}}),t._v(" "),i("radio-section",{attrs:{field:e.fields.last_email_activity_match},model:{value:t.settings[e.key].last_email_activity_match,callback:function(i){t.$set(t.settings[e.key],"last_email_activity_match",i)},expression:"settings[field.key].last_email_activity_match"}})],1):t._e()],1):[i("pre",[t._v(t._s(e))])]],2)})),t._v(" "),i("h3",{directives:[{name:"loading",rawName:"v-loading",value:t.estimating,expression:"estimating"}],staticClass:"fc_counting_heading text-align-center"},[t._v("\n        "+t._s(t.$t("_Cu_Estimated_Cboys"))+" "),i("span",[t._v(t._s(t.estimated_count))])])],2)}),[],!1,null,null,null).exports;function ln(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function cn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var un={name:"DynamicSegmentViewer",props:["slug","id"],components:{CustomSegmentSettings:rn,ContactsTable:ki},data:function(){return{segment:{},loading:!0,saving:!1,subscribers:[],columns:[],pagination:{current_page:1,per_page:10,total:0},is_editing:!1,field_loading:!0,query_data:{tags:[],lists:[],search:"",statuses:[],sort_by:"id",sort_type:"DESC",custom_fields:!1},ui_config:{show_list:!0,show_tag:!0,disable_filters_without_selection:!0},options:{tags:[],lists:[],statuses:[],countries:[],sampleCsv:null,delimiter:"comma"}}},methods:{fetchSegment:function(){var t=this;this.loading=!0,this.$get("dynamic-segments/".concat(this.slug,"/subscribers/").concat(this.id),function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(i),!0).forEach((function(e){cn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ln(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({per_page:this.pagination.per_page,page:this.pagination.current_page},this.query_data)).then((function(e){t.segment=e.segment,t.subscribers=e.subscribers.data,t.pagination.total=e.subscribers.total,t.changeTitle(t.segment.title+" - Dynamic Segments")})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},updateSegment:function(){var t=this;this.segment.title?(this.saving=!0,this.$put("dynamic-segments/".concat(this.segment.id),{segment:JSON.stringify({title:this.segment.title,settings:this.segment.settings}),with_subscribers:!1}).then((function(e){t.$notify.success(e.message),t.pagination.current_page=1,t.fetchSegment(),t.is_editing=!1})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))):this.$notify.error(this.$t("Cre_Please_pNotS"))},getOptions:function(){var t=this;this.$get("reports/options",{fields:"tags,lists,statuses,contact_types,sampleCsv,custom_fields"}).then((function(e){t.options=e.options}))}},mounted:function(){this.getOptions()}},dn=Object(a.a)(un,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm-lists fluentcrm_min_bg fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"dynamic_segments"}}},[t._v("\n                    "+t._s(t.$t("Dynamic Segments"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.segment.title)+"\n                ")])],1),t._v(" "),i("p",[t._v(t._s(t.segment.subtitle))])],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.push({name:"dynamic_segments"})}}},[t._v("\n                "+t._s(t.$t("Back"))+"\n            ")])],1)]),t._v(" "),i("div",{staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"fc_segment_desc_block"},[i("h3",[t._v(t._s(t.segment.description))]),t._v(" "),t.segment.is_system?t._e():i("div",[i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.is_editing=!t.is_editing}}},[t.is_editing?i("span",[t._v(t._s(t.$t("Cancel Editing")))]):i("span",[t._v(t._s(t.$t("Edit Configuration")))])])],1),t._v(" "),t.is_editing?i("div",{staticClass:"text-align-left fc_segment_editor"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.field_loading,expression:"field_loading"}],staticClass:"fc_segment_form",attrs:{"label-position":"top",data:t.segment}},[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(t.$t("Name this Custom Segment")))]),t._v(" "),i("p",[t._v(t._s(t.$t("custom_segment.name_desc")))]),t._v(" "),i("el-input",{attrs:{placeholder:t.$t("eg: Active Contacts"),type:"text"},model:{value:t.segment.title,callback:function(e){t.$set(t.segment,"title",e)},expression:"segment.title"}})],1),t._v(" "),i("custom-segment-settings",{attrs:{segment_id:t.segment.id},on:{loaded:function(){t.field_loading=!1}},model:{value:t.segment.settings,callback:function(e){t.$set(t.segment,"settings",e)},expression:"segment.settings"}}),t._v(" "),i("el-form-item",{staticClass:"text-align-right"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.saving,expression:"saving"}],attrs:{type:"success"},on:{click:function(e){return t.updateSegment()}}},[t._v("Update Segment\n                        ")])],1)],1)],1):t._e()]),t._v(" "),i("div",{staticClass:"lists-table fcrm_segment_contacts"},[i("contacts-table",{attrs:{options:t.options,query_data:t.query_data,is_loading:t.loading,ui_config:t.ui_config,subscribers:t.subscribers,pagination:t.pagination},on:{fetch:t.fetchSegment}})],1)])])}),[],!1,null,null,null).exports,_n={name:"CreateCustomSegment",components:{CustomSegmentSettings:rn},data:function(){return{loading:!1,saving:!1,field_loading:!0,segment:{title:"",settings:{}}}},methods:{createSegment:function(){var t=this;this.segment.title?(this.saving=!0,this.$post("dynamic-segments",{segment:JSON.stringify(this.segment),with_subscribers:!1}).then((function(e){t.$notify.success(e.message),t.$router.push({name:"view_segment",params:{slug:e.segment.slug,id:e.segment.id}})})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))):this.$notify.error(this.$t("Cre_Please_pNotS"))}},mounted:function(){this.changeTitle(this.$t("New Dynamic Segment"))}},pn=Object(a.a)(_n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.field_loading,expression:"field_loading"}],staticClass:"fluentcrm-lists fluentcrm_min_bg fluentcrm-view-wrapper fluentcrm_view",staticStyle:{background:"#f1f1f1",border:"1px solid #e3e8ee"}},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"dynamic_segments"}}},[t._v("\n                    "+t._s(t.$t("Dynamic Segments"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.$t("Create Custom Segment"))+"\n                ")])],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.push({name:"dynamic_segments"})}}},[t._v(t._s(t.$t("Back")))])],1)]),t._v(" "),i("div",{staticClass:"fluentcrm_pad_around"},[i("el-form",{staticClass:"fc_segment_form",attrs:{"label-position":"top",data:t.segment}},[i("div",{staticClass:"fc_section_heading"},[i("h3",[t._v(t._s(t.$t("Name this Custom Segment")))]),t._v(" "),i("p",[t._v(t._s(t.$t("custom_segment.name_desc")))]),t._v(" "),i("el-input",{attrs:{placeholder:t.$t("eg: Active Contacts"),type:"text"},model:{value:t.segment.title,callback:function(e){t.$set(t.segment,"title",e)},expression:"segment.title"}})],1),t._v(" "),i("custom-segment-settings",{attrs:{segment_id:!1},on:{loaded:function(){t.field_loading=!1}},model:{value:t.segment.settings,callback:function(e){t.$set(t.segment,"settings",e)},expression:"segment.settings"}}),t._v(" "),i("el-form-item",{staticClass:"text-align-right"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.saving,expression:"saving"}],attrs:{type:"success"},on:{click:function(e){return t.createSegment()}}},[t._v(t._s(t.$t("Create Custom Segment")))])],1)],1)],1)])}),[],!1,null,null,null).exports,mn={name:"ProfileOverview",props:["subscriber","custom_fields"],components:{CustomFields:we},data:function(){return{pickerOptions:{disabledDate:function(t){return t.getTime()>=Date.now()}},subscriber_statuses:window.fcAdmin.subscriber_statuses,errors:!1,updating:!1,countries:window.fcAdmin.countries,name_prefixes:window.fcAdmin.contact_prefixes}},methods:{updateSubscriber:function(){var t=this;this.errors=!1,this.updating=!0,this.$put("subscribers/".concat(this.subscriber.id),{subscriber:JSON.stringify(this.subscriber)}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.errors=e})).finally((function(){t.updating=!1}))}}},fn=Object(a.a)(mn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_databox"},[i("el-form",{ref:"basic_form",attrs:{"label-position":"top",model:t.subscriber,"label-width":"120px"}},[i("el-row",{attrs:{gutter:60}},[i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("h3",[t._v(t._s(t.$t("Basic Information")))]),t._v(" "),i("div",{staticClass:"fluentcrm_edit_basic"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:4,md:4,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Prefix")}},[i("el-select",{attrs:{size:"small"},model:{value:t.subscriber.prefix,callback:function(e){t.$set(t.subscriber,"prefix",e)},expression:"subscriber.prefix"}},t._l(t.name_prefixes,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),i("el-col",{attrs:{lg:10,md:10,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("First Name")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.first_name,callback:function(e){t.$set(t.subscriber,"first_name",e)},expression:"subscriber.first_name"}})],1)],1),t._v(" "),i("el-col",{attrs:{lg:10,md:10,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Last Name")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.last_name,callback:function(e){t.$set(t.subscriber,"last_name",e)},expression:"subscriber.last_name"}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Email Address")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.email,callback:function(e){t.$set(t.subscriber,"email",e)},expression:"subscriber.email"}}),t._v(" "),t._l(t.errors.email,(function(e,n){return i("span",{key:n,staticClass:"error"},[t._v(t._s(e))])}))],2),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Phone/Mobile")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.phone,callback:function(e){t.$set(t.subscriber,"phone",e)},expression:"subscriber.phone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Date of Birth")}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions,placeholder:"Pick a date"},model:{value:t.subscriber.date_of_birth,callback:function(e){t.$set(t.subscriber,"date_of_birth",e)},expression:"subscriber.date_of_birth"}})],1)],1)]),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("h3",[t._v(t._s(t.$t("Address Information")))]),t._v(" "),i("div",{staticClass:"fluentcrm_edit_basic"},[i("el-form-item",{attrs:{label:t.$t("Address Line 1")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.address_line_1,callback:function(e){t.$set(t.subscriber,"address_line_1",e)},expression:"subscriber.address_line_1"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Address Line 2")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.address_line_2,callback:function(e){t.$set(t.subscriber,"address_line_2",e)},expression:"subscriber.address_line_2"}})],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("City")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.city,callback:function(e){t.$set(t.subscriber,"city",e)},expression:"subscriber.city"}})],1)],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("State")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.state,callback:function(e){t.$set(t.subscriber,"state",e)},expression:"subscriber.state"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("ZIP Code")}},[i("el-input",{attrs:{autocomplete:"new-password"},model:{value:t.subscriber.postal_code,callback:function(e){t.$set(t.subscriber,"postal_code",e)},expression:"subscriber.postal_code"}})],1)],1),t._v(" "),i("el-col",{attrs:{lg:12,md:12,sm:24,xs:24}},[i("el-form-item",{attrs:{label:t.$t("Country")}},[i("el-select",{staticClass:"el-select-multiple",attrs:{clearable:"",filterable:"",autocomplete:"new-password",placeholder:"Select country"},model:{value:t.subscriber.country,callback:function(e){t.$set(t.subscriber,"country",e)},expression:"subscriber.country"}},t._l(t.countries,(function(e){return i("el-option",{key:e.code,attrs:{value:e.code,label:e.title}},[t._v("\n                                        "+t._s(e.title)+"\n                                    ")])})),1)],1)],1)],1)],1)])],1),t._v(" "),i("custom-fields",{attrs:{subscriber:t.subscriber,custom_fields:t.custom_fields}}),t._v(" "),t.hasPermission("fcrm_manage_contacts")?i("el-form-item",{staticClass:"text-align-right"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.updating,expression:"updating"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.updateSubscriber()}}},[t._v("\n                "+t._s(t.$t("Update Contact"))+"\n            ")])],1):t._e()],1)],1)}),[],!1,null,null,null).exports,hn={name:"ProfileEmailSequence",components:{Confirm:f,Pagination:g},props:["subscriber_id"],data:function(){return{sequences:[],loading:!1,removing:!1,pagination:{total:0,per_page:10,current_page:1}}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("sequences/subscriber/".concat(this.subscriber_id,"/sequences"),{per_page:this.pagination.per_page,page:this.pagination.current_page}).then((function(e){t.sequences=e.sequence_trackers.data,t.pagination.total=e.sequence_trackers.total})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},removeFromSequence:function(t,e){var i=this;this.removing=!0,this.$del("sequences/".concat(t,"/subscribers"),{tracker_ids:[e]}).then((function(t){i.$notify.success(t.message),i.fetch()})).catch((function(t){i.handleError(t)})).always((function(){i.removing=!1}))}},mounted:function(){this.fetch()}},gn=Object(a.a)(hn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_profile_sub"},[i("h3",[t._v(t._s(t.$t("Email Sequences")))]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Available"),stripe:"",border:"",data:t.sequences}},[i("el-table-column",{attrs:{label:t.$t("Sequence")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.sequence?i("span",[t._v(t._s(e.row.sequence.title))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Started At")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v("\n                    "+t._s(t._f("nsHumanDiffTime")(e.row.created_at))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Next Email")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.next_sequence?i("span",[t._v(t._s(e.row.next_sequence.title))]):t._e(),t._v(" "),"active"==e.row.status?i("span",{attrs:{title:e.row.next_execution_time}},[t._v("\n                    - ("+t._s(t._f("nsHumanDiffTime")(e.row.next_execution_time))+")\n                ")]):i("span",[t._v("\n                    --\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Status")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.status)+"\n            ")]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Action")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("confirm",{directives:[{name:"loading",rawName:"v-loading",value:t.removing,expression:"removing"}],on:{yes:function(i){return t.removeFromSequence(e.row.campaign_id,e.row.id)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)]}}])})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)}),[],!1,null,null,null).exports,vn={name:"ProfileAutomations",props:["subscriber_id"],components:{Confirm:f,Pagination:g},data:function(){return{automations:[],loading:!1,deleting:!1,pagination:{total:0,per_page:10,current_page:1},updating:!1}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("funnels/subscriber/".concat(this.subscriber_id,"/automations"),{per_page:this.pagination.per_page,page:this.pagination.current_page}).then((function(e){t.automations=e.automations.data,t.pagination.total=e.automations.total})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},removeFromFunnel:function(t,e){var i=this;this.deleting=!0,this.$del("funnels/".concat(t,"/subscribers"),{subscriber_ids:[e]}).then((function(t){i.$notify.success(t.message),i.fetch()})).catch((function(t){i.handleError(t)})).finally((function(){i.deleting=!1}))},changeFunnelSubscriptionStatus:function(t,e,i){var n=this;this.updating=!0,this.$put("funnels/".concat(t,"/subscribers/").concat(e,"/status"),{status:i}).then((function(t){n.$notify.success(t.message),n.fetch()})).catch((function(t){n.handleError(t)})).finally((function(){n.updating=!1}))}},mounted:function(){this.fetch()}},bn=Object(a.a)(vn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_profile_sub"},[i("h3",[t._v(t._s(t.$t("Automations")))]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Available"),stripe:"",border:"",data:t.automations}},[i("el-table-column",{attrs:{label:t.$t("Sequence")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"funnel_subscribers",params:{funnel_id:e.row.funnel.id}}}},[t._v(t._s(e.row.funnel.title))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Started At")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v("\n                    "+t._s(t._f("nsHumanDiffTime")(e.row.created_at))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Next Step")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.next_sequence_item&&"completed"!=e.row.status?i("span",[t._v(t._s(e.row.next_sequence_item.title))]):t._e(),t._v(" "),"active"==e.row.status?i("span",{attrs:{title:e.row.next_execution_time}},[t._v("\n                    - ("+t._s(t._f("nsHumanDiffTime")(e.row.next_execution_time))+")\n                ")]):i("span",[t._v("\n                    --\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Status")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.status)+"\n            ")]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("confirm",{directives:[{name:"loading",rawName:"v-loading",value:t.deleting,expression:"deleting"}],on:{yes:function(i){return t.removeFromFunnel(e.row.funnel_id,e.row.subscriber_id)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1),t._v(" "),"cancelled"==e.row.status?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.updating,expression:"updating"}],attrs:{type:"info",size:"mini"},on:{click:function(i){return t.changeFunnelSubscriptionStatus(e.row.funnel_id,e.row.subscriber_id,"active")}}},[t._v("\n                    "+t._s(t.$t("Resume"))+"\n                ")]):t._e(),t._v(" "),"active"==e.row.status?i("el-button",{directives:[{name:"loadin",rawName:"v-loadin",value:t.updating,expression:"updating"}],attrs:{type:"info",size:"mini"},on:{click:function(i){return t.changeFunnelSubscriptionStatus(e.row.funnel_id,e.row.subscriber_id,"cancelled")}}},[t._v("\n                    "+t._s(t.$t("Cancel"))+"\n                ")]):t._e()]}}])})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)}),[],!1,null,null,null).exports,yn={name:"EmailComposer",props:["campaign","label_align","disable_subject","disable_templates","disable_fixed","enable_test"],components:{EmailBlockComposer:Ft,InputPopover:k},data:function(){return{smartcodes:window.fcAdmin.globalSmartCodes,email_subject_status:!0,send_test_pop:!1,sending_test:!1,test_email:""}},methods:{triggerSave:function(){this.$emit("save")},resetSubject:function(){var t=this;this.email_subject_status=!1,this.$nextTick((function(){t.email_subject_status=!0}))},sendTestEmail:function(){var t=this;return this.campaign.email_body?this.campaign.email_subject?(this.sending_test=!0,void this.$post("campaigns/send-test-email",{campaign:{email_subject:this.campaign.email_subject,email_pre_header:this.campaign.email_pre_header,email_body:this.campaign.email_body,design_template:this.campaign.design_template,settings:this.campaign.settings},email:this.test_email,test_campaign:"yes"}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.$notify.error(e.message)})).finally((function(){t.sending_test=!1,t.send_test_pop=!1}))):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peS"),offset:19}):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peb"),offset:19})}}},wn=Object(a.a)(yn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"email_composer_wrapper"},[t.disable_subject?t._e():i("el-form",{attrs:{"label-position":t.label_align,model:t.campaign}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Email Subject")}},[t.email_subject_status?i("input-popover",{attrs:{popper_extra:"fc_with_c_fields",placeholder:"Email Subject",data:t.smartcodes},model:{value:t.campaign.email_subject,callback:function(e){t.$set(t.campaign,"email_subject",e)},expression:"campaign.email_subject"}}):t._e()],1)],1),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Email Pre-Header")}},[i("el-input",{attrs:{type:"textarea",placeholder:"Email Pre-Header",rows:2},model:{value:t.campaign.email_pre_header,callback:function(e){t.$set(t.campaign,"email_pre_header",e)},expression:"campaign.email_pre_header"}})],1)],1)],1)],1),t._v(" "),i("email-block-composer",{attrs:{disable_fixed:t.disable_fixed,enable_templates:!t.disable_templates,campaign:t.campaign},on:{template_inserted:function(e){return t.resetSubject()}}},[i("template",{slot:"fc_editor_actions"},[t._t("actions")],2)],2),t._v(" "),t.enable_test?i("div",[i("el-popover",{attrs:{placement:"left",width:"400",trigger:"manual"},model:{value:t.send_test_pop,callback:function(e){t.send_test_pop=e},expression:"send_test_pop"}},[i("div",[i("p",[t._v(t._s(t.$t("Cam_Type_cetstolbtsc")))]),t._v(" "),i("el-input",{attrs:{placeholder:"Email Address"},model:{value:t.test_email,callback:function(e){t.test_email=e},expression:"test_email"}},[i("template",{slot:"append"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.sending_test,expression:"sending_test"}],attrs:{type:"success"},on:{click:function(e){return t.sendTestEmail()}}},[t._v("\n                            "+t._s(t.$t("Send"))+"\n                        ")])],1)],2)],1),t._v(" "),i("el-button",{staticClass:"fc_with_select",attrs:{slot:"reference",size:"small",type:"danger"},on:{click:function(e){t.send_test_pop=!t.send_test_pop}},slot:"reference"},[t._v("\n                "+t._s(t.$t("Send a test email"))+"\n            ")])],1)],1):t._e()],1)}),[],!1,null,null,null).exports,kn={name:"ProfileEmails",props:["subscriber_id"],components:{Pagination:g,EmailPreview:Ut,EmailSequences:gn,ProfileAutomations:bn,EmailComposer:wn},data:function(){return{loading:!1,emails:[],pagination:{total:0,per_page:20,current_page:1},preview:{id:null,isVisible:!1},sendEmailModal:!1,custom_email:{},resending:!1,selections:[],deleting:!1,loadingCustomEmailSettings:!1,sending_custom_email:!1}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.subscriber_id,"/emails"),{per_page:this.pagination.per_page,page:this.pagination.current_page}).then((function(e){t.emails=e.emails.data,t.pagination.total=e.emails.total})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},resendEmail:function(t){var e=this;if(!this.has_campaign_pro)return this.$notify.error("_Ca_Please_utptutf"),!1;this.resending=!0,this.$post("campaigns-pro/".concat(t.campaign_id,"/resend-emails"),{email_ids:[t.id]}).then((function(t){e.$notify.success(t.message),e.fetch()})).catch((function(t){e.handleError(t)})).finally((function(){e.resending=!1}))},previewEmail:function(t){this.preview.id=t,this.preview.isVisible=!0},sendCustomEmail:function(){var t=this;this.sending_custom_email=!0,this.$post("subscribers/".concat(this.subscriber_id,"/emails/send"),{campaign:this.custom_email}).then((function(e){t.$notify.success(e.message),t.sendEmailModal=!1,t.custom_email={},t.fetch()})).catch((function(t){console.log(t)})).finally((function(){t.sending_custom_email=!1}))},handleSelectionChange:function(t){this.selections=t},deleteSelected:function(){var t=this;this.deleting=!0;var e=this.selections.map((function(t){return t.id}));this.$del("subscribers/".concat(this.subscriber_id,"/emails"),{email_ids:e}).then((function(e){t.selections=[],t.$notify.success(e.message),t.fetch()})).catch((function(e){t.handleError(e)})).finally((function(){t.deleting=!1}))},openCustomEmailModal:function(){var t=this;if(this.loadingCustomEmailSettings=!0,this.sendEmailModal=!0,window.fc_subscriber_email_mock)return this.custom_email=JSON.parse(JSON.stringify(window.fc_subscriber_email_mock)),void(this.loadingCustomEmailSettings=!1);this.$get("subscribers/".concat(this.subscriber_id,"/emails/template-mock")).then((function(e){window.fc_subscriber_email_mock=e.email_mock,t.custom_email=e.email_mock})).catch((function(t){console.log(t)})).finally((function(){t.loadingCustomEmailSettings=!1}))}},mounted:function(){this.fetch()}},xn=Object(a.a)(kn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_databox"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:16}},[i("h3",[t._v(t._s(t.$t("Pro_Emails_fdcaa")))])]),t._v(" "),i("el-col",{staticClass:"text-align-right",attrs:{span:8}},[t.has_campaign_pro&&t.hasPermission("fcrm_manage_contacts")?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.openCustomEmailModal()}}},[t._v("\n                "+t._s(t.$t("Send Email"))+"\n            ")]):t._e()],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading||t.resending,expression:"loading || resending"}],staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Available"),stripe:"",border:"",data:t.emails},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Subject")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.email_subject)+"\n                "),i("span",{staticClass:"ns_counter",attrs:{title:t.$t("Total Clicks")}},[i("i",{staticClass:"el-icon el-icon-position"}),t._v(" "+t._s(e.row.click_counter||0))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.row.click_counter||1==e.row.is_open,expression:"scope.row.click_counter || scope.row.is_open == 1"}],staticClass:"ns_counter",attrs:{title:t.$t("Email opened")}},[i("i",{staticClass:"el-icon el-icon-folder-opened"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"190",label:t.$t("Date")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.scheduled_at)+"\n            ")]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"120",label:t.$t("Status"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{class:"status-"+e.row.status},[t._v("\n                                    "+t._s(t._f("ucFirst")(t.trans(e.row.status)))+"\n                                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Preview"),width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-view"},on:{click:function(i){return t.previewEmail(e.row.id)}}}),t._v(" "),"sent"!=e.row.status&&"failed"!=e.row.status||!e.row.campaign_id?t._e():i("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-refresh-right"},on:{click:function(i){return t.resendEmail(e.row)}}},[t._v(t._s(t.$t("Resend"))+"\n                ")])]}}])})],1),t._v(" "),i("el-row",[i("el-col",{attrs:{md:12,sm:24}},[t.selections.length?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.deleting,expression:"deleting"}],staticStyle:{"margin-top":"10px"},attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(e){return t.deleteSelected()}}},[t._v("\n                "+t._s(t.$t("Delete Selected"))+"\n            ")]):t._e(),t._v("\n            \n        ")],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)],1),t._v(" "),t.has_campaign_pro?[i("email-sequences",{attrs:{subscriber_id:t.subscriber_id}}),t._v(" "),i("profile-automations",{attrs:{subscriber_id:t.subscriber_id}})]:t._e(),t._v(" "),i("email-preview",{attrs:{preview:t.preview}}),t._v(" "),i("el-dialog",{staticClass:"fc_funnel_block_modal",attrs:{visible:t.sendEmailModal,width:"60%","append-to-body":!0,"close-on-click-modal":!1,title:t.$t("Send Custom Email")},on:{"update:visible":function(e){t.sendEmailModal=e}}},[t.loadingCustomEmailSettings?i("div",[i("h3",[t._v(t._s(t.$t("Loading Settings...")))])]):i("div",[t.sendEmailModal?i("div",{staticClass:"fc_block_white"},[i("email-composer",{staticClass:"fc_into_modal",attrs:{enable_test:!0,disable_fixed:!0,campaign:t.custom_email,label_align:"top"}})],1):t._e(),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.sendEmailModal=!1}}},[t._v("\n                    "+t._s(t.$t("Cancel"))+"\n                ")]),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.sending_custom_email,expression:"sending_custom_email"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.sendCustomEmail()}}},[t._v("\n                    "+t._s(t.$t("Send Email"))+"\n                ")])],1)])])],2)}),[],!1,null,null,null).exports,$n={name:"FormSubmissionsBlock",props:["provider","subscriber_id"],components:{Pagination:g},data:function(){return{loading:!1,submissions:[],pagination:{per_page:10,current_page:1,total:0}}},computed:{table_columns:function(){var t=[];return this.submissions.length&&(t=this.submissions[0]),t}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.subscriber_id,"/form-submissions"),{provider:this.provider.provider_key,page:this.pagination.current_page,per_page:this.pagination.per_page}).then((function(e){t.submissions=e.submissions.data,t.pagination.total=parseInt(e.submissions.total)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))}},mounted:function(){this.fetch()}},Cn=Object(a.a)($n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"purchase_history_block"},[i("h3",{staticClass:"history_title"},[t._v(t._s(t.provider.title))]),t._v(" "),i("div",{staticClass:"provider_data"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",data:t.submissions}},[t._l(t.table_columns,(function(e,n){return i("el-table-column",{key:n,attrs:{label:t._f("ucWords")(n)},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{domProps:{innerHTML:t._s(e.row[n])}})]}}],null,!0)})})),t._v(" "),i("template",{slot:"empty"},[i("p",[t._v("Form Submissions from "),i("b",[t._v(t._s(t.provider.name))]),t._v(" will be shown here, Currently no Form Submissions found for this subscriber")])])],2),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)])}),[],!1,null,null,null).exports,Sn=i(20),En={name:"ProfileFormSubmissions",props:["subscriber_id"],components:{FormSubmissionBlock:Cn},data:function(){return{providersData:{},app_ready:!1}},computed:{is_empty:function(){return Sn(this.providersData)}},mounted:function(){var t=this;this.each(window.fcAdmin.form_submission_providers,(function(e,i){var n={title:e.title,name:e.name,provider_key:i};t.providersData[i]=n})),this.app_ready=!0}},On=Object(a.a)(En,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.app_ready?i("div",{staticClass:"fluentcrm_databox"},[t.is_empty?i("div",[i("h3",{staticClass:"text-align-center"},[t._v("\n            "+t._s(t.$t("Pro_Form_SfFFwbshCFF"))+"\n        ")])]):t._l(t.providersData,(function(e,n){return i("form-submission-block",{key:n,attrs:{provider:e,subscriber_id:t.subscriber_id}})}))],2):t._e()}),[],!1,null,null,null).exports,jn={name:"ProfileNotes",props:["subscriber_id"],components:{Pagination:g,Confirm:f,WpEditor:R},data:function(){return{loading:!1,adding_note:!1,notes:[],types:window.fcAdmin.activity_types,pagination:{total:0,per_page:10,current_page:1},new_note:{title:"",description:"",type:"note"},editing_note:{},is_editing_note:!1,updating:!1}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.subscriber_id,"/notes"),{per_page:this.pagination.per_page,page:this.pagination.current_page}).then((function(e){t.notes=e.notes.data,t.pagination.total=e.notes.total,t.new_note={title:"",description:"",type:"note"},t.adding_note=!1})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},saveNote:function(){var t=this;this.$post("subscribers/".concat(this.subscriber_id,"/notes"),{note:this.new_note}).then((function(e){t.$notify.success(e.message),t.fetch()})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},remove:function(t){var e=this;this.$del("subscribers/".concat(this.subscriber_id,"/notes/").concat(t)).then((function(t){e.fetch(),e.$notify.success({title:"Great!",message:t.message,offset:19})})).catch((function(t){e.handleError(t)}))},editNote:function(t){this.editing_note=t,this.is_editing_note=!0},updateNote:function(){var t=this;this.updating=!0,this.$post("subscribers/".concat(this.subscriber_id,"/notes/").concat(this.editing_note.id),{note:this.editing_note}).then((function(e){t.$notify.success(e.message),t.is_editing_note=!1,t.editing_note={}})).catch((function(e){t.handleError(e)})).finally((function(){t.updating=!1}))},exportNotes:function(){if(!this.has_campaign_pro)return this.$notify.error("Notes export feature is only available on pro version"),!1;location.href=window.ajaxurl+"?"+jQuery.param({action:"fluentcrm_export_notes",subscriber_id:this.subscriber_id})}},mounted:function(){this.fetch()}},Tn=Object(a.a)(jn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_databox"},[i("div",{staticClass:"fluentcrm_contact_header"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:12}},[i("h3",[t._v(t._s(t.$t("Pro_Contact_N_A")))])]),t._v(" "),t.hasPermission("fcrm_manage_contacts")?i("el-col",{staticClass:"text-align-right",attrs:{span:12}},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.adding_note=!t.adding_note}}},[t._v("\n                    "+t._s(t.$t("Add New"))+"\n                ")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(e){return t.exportNotes()}}})],1):t._e()],1)],1),t._v(" "),t.adding_note?i("div",{staticClass:"fluentcrm_create_note_wrapper"},[i("el-form",{ref:"basic_form",attrs:{"label-position":"top",model:t.new_note}},[i("el-form-item",{attrs:{label:t.$t("Type")}},[i("el-select",{attrs:{size:"small",placeholder:t.$t("Select Activity Type")},model:{value:t.new_note.type,callback:function(e){t.$set(t.new_note,"type",e)},expression:"new_note.type"}},t._l(t.types,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Title")}},[i("el-input",{attrs:{size:"small",type:"text",placeholder:t.$t("Your Note Title")},model:{value:t.new_note.title,callback:function(e){t.$set(t.new_note,"title",e)},expression:"new_note.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Description")}},[i("wp-editor",{model:{value:t.new_note.description,callback:function(e){t.$set(t.new_note,"description",e)},expression:"new_note.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:""}},[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.saveNote()}}},[t._v(t._s(t.$t("Save Note")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.adding_note=!1}}},[t._v("\n                    "+t._s(t.$t("Cancel"))+"\n                ")])],1)],1)],1):t._e(),t._v(" "),t.pagination.total?[i("div",{staticClass:"fluentcrm_notes"},t._l(t.notes,(function(e){return i("div",{key:e.id,staticClass:"fluentcrm_note"},[i("div",{staticClass:"note_header"},[i("div",{staticClass:"note_title"},[t._v(t._s(t.types[e.type]||e.type)+" : "+t._s(e.title))]),t._v(" "),i("div",{staticClass:"note_meta"},[e.added_by&&e.added_by.display_name?i("span",[t._v("By\n                            "+t._s(e.added_by.display_name)+"\n                        ")]):t._e(),t._v("\n                        at "),i("span",{attrs:{title:e.created_at}},[t._v(t._s(t._f("nsHumanDiffTime")(e.created_at)))])]),t._v(" "),t.hasPermission("fcrm_manage_contacts")?i("div",{staticClass:"note_delete"},[i("confirm",{on:{yes:function(i){return t.remove(e.id)}}},[i("i",{staticClass:"el-icon el-icon-delete"})]),t._v(" "),i("i",{staticClass:"el-icon el-icon-edit",staticStyle:{"margin-left":"10px"},on:{click:function(i){return t.editNote(e)}}})],1):t._e()]),t._v(" "),i("div",{staticClass:"note_body",domProps:{innerHTML:t._s(e.description)}})])})),0),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})]:i("div",[i("h4",{staticClass:"text-align-center"},[t._v(t._s(t.$t("Pro_No_NfPatfn")))])]),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Edit Note"),visible:t.is_editing_note,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.is_editing_note=e}}},[t.is_editing_note?i("el-form",{ref:"editing_note",attrs:{"label-position":"top",model:t.editing_note}},[i("el-form-item",{attrs:{label:t.$t("Type")}},[i("el-select",{attrs:{placeholder:t.$t("Select Activity Type")},model:{value:t.editing_note.type,callback:function(e){t.$set(t.editing_note,"type",e)},expression:"editing_note.type"}},t._l(t.types,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Title")}},[i("el-input",{attrs:{size:"small",type:"text",placeholder:t.$t("Your Note Title")},model:{value:t.editing_note.title,callback:function(e){t.$set(t.editing_note,"title",e)},expression:"editing_note.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Description")}},[i("wp-editor",{model:{value:t.editing_note.description,callback:function(e){t.$set(t.editing_note,"description",e)},expression:"editing_note.description"}})],1)],1):t._e(),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.updateNote()}}},[t._v("\n                    "+t._s(t.$t("Update Note"))+"\n                ")])],1)],1)],2)}),[],!1,null,null,null).exports,Pn={name:"PurchaseHistoryBlock",props:["provider","subscriber_id"],components:{Pagination:g},data:function(){return{loading:!1,orders:[],pagination:{per_page:5,current_page:1,total:0},sidebar_html:"",after_html:""}},computed:{table_columns:function(){var t=[];return this.orders&&this.orders.length&&(t=this.orders[0]),t}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.subscriber_id,"/purchase-history"),{provider:this.provider.provider_key,page:this.pagination.current_page,per_page:this.pagination.per_page}).then((function(e){t.orders=e.orders.data,t.pagination.total=parseInt(e.orders.total),e.orders.sidebar_html&&(t.sidebar_html=e.orders.sidebar_html),e.orders.after_html&&(t.after_html=e.orders.after_html)})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}},mounted:function(){this.fetch()}},Fn=Object(a.a)(Pn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"purchase_history_block"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{md:18,sm:24}},[i("h3",{staticClass:"history_title"},[t._v(t._s(t.provider.title))]),t._v(" "),i("div",{staticClass:"provider_data"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",data:t.orders}},[t._l(t.table_columns,(function(e,n){return i("el-table-column",{key:n,attrs:{label:t._f("ucWords")(n)},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{domProps:{innerHTML:t._s(e.row[n])}})]}}],null,!0)})})),t._v(" "),i("template",{slot:"empty"},[i("p",[t._v("Purchase History from "),i("b",[t._v(t._s(t.provider.name))]),t._v(" will be shown here, Currently no purchase history found for this contact")])])],2),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1),t._v(" "),t.after_html?i("div",{staticClass:"fc_history_before",domProps:{innerHTML:t._s(t.after_html)}}):t._e()]),t._v(" "),i("el-col",{attrs:{md:6,sm:24}},[t.sidebar_html?i("div",{staticClass:"fc_history_sidebar",domProps:{innerHTML:t._s(t.sidebar_html)}}):t._e()])],1)],1)}),[],!1,null,null,null).exports,Dn=i(20),qn={name:"ProfilePurchaseHistory",props:["subscriber_id"],components:{PurchaseHistoryBlock:Fn},data:function(){return{providersData:{},app_ready:!1}},computed:{is_empty:function(){return Dn(this.providersData)}},mounted:function(){var t=this;this.each(window.fcAdmin.purchase_providers,(function(e,i){var n={title:e.title,name:e.name,provider_key:i};t.providersData[i]=n})),this.app_ready=!0}},An=Object(a.a)(qn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_databox"},[t.app_ready?i("div",{staticClass:"fluentcrm_purchase_history_wrapper"},[t.is_empty?i("div",[i("h3",{staticClass:"text-align-center"},[t._v("\n                "+t._s(t.$t("Pro_Purchase_hfEwbsh"))+"\n            ")])]):t._l(t.providersData,(function(e,n){return i("purchase-history-block",{key:n,attrs:{provider:e,subscriber_id:t.subscriber_id}})}))],2):t._e()])}),[],!1,null,null,null).exports,In={name:"SupportTicketsBlock",props:["provider","subscriber_id"],components:{Pagination:g},data:function(){return{loading:!1,tickets:[],pagination:{per_page:10,current_page:1,total:0}}},computed:{table_columns:function(){var t=[];return this.tickets&&this.tickets.length&&(t=this.tickets[0]),t}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.subscriber_id,"/support-tickets"),{provider:this.provider.provider_key,page:this.pagination.current_page,per_page:this.pagination.per_page}).then((function(e){t.tickets=e.tickets.data,t.pagination.total=parseInt(e.tickets.total)})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}},mounted:function(){this.fetch()}},Nn=Object(a.a)(In,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"purchase_history_block"},[i("h3",{staticClass:"history_title"},[t._v(t._s(t.provider.title))]),t._v(" "),i("div",{staticClass:"provider_data"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",data:t.tickets}},[t._l(t.table_columns,(function(e,n){return i("el-table-column",{key:n,attrs:{label:t._f("ucWords")(n)},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{domProps:{innerHTML:t._s(e.row[n])}})]}}],null,!0)})})),t._v(" "),i("template",{slot:"empty"},[i("p",[t._v("Support Tickets from "),i("b",[t._v(t._s(t.provider.name))]),t._v(" will be shown here, Currently no tickets found for\n                    this subscriber")])])],2),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)])}),[],!1,null,null,null).exports,Ln=i(20),Mn={name:"ProfileSuportTickets",props:["subscriber_id"],components:{SupportTicketsBlock:Nn},data:function(){return{providersData:{},app_ready:!1}},computed:{is_empty:function(){return Ln(this.providersData)}},mounted:function(){var t=this;this.each(window.fcAdmin.support_tickets_providers,(function(e,i){var n={title:e.title,name:e.name,provider_key:i};t.providersData[i]=n})),this.app_ready=!0}},zn=Object(a.a)(Mn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.app_ready?i("div",{staticClass:"fluentcrm_databox"},t._l(t.providersData,(function(e,n){return i("support-tickets-block",{key:n,attrs:{provider:e,subscriber_id:t.subscriber_id}})})),1):t._e()}),[],!1,null,null,null).exports,Rn={name:"ProfileFiles",props:["subscriber_id"],data:function(){return{adding_file:!1,files:[],loading:!1,pagination:{total:0,per_page:10,current_page:1},new_note:{title:"",description:"",type:"note"}}},methods:{fetchAttachments:function(){}},mounted:function(){this.fetchAttachments()}},Bn=Object(a.a)(Rn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_databox"},[i("div",{staticClass:"fluentcrm_contact_header"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:12}},[i("h3",[t._v(t._s(t.$t("Pro_Contact_F_A")))])]),t._v(" "),i("el-col",{staticClass:"text-align-right",attrs:{span:12}},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.adding_file=!t.adding_file}}},[t._v("Add New")])],1)],1)],1),t._v(" "),i("div",{staticClass:"fc_uploader_drawer"},[i("el-uploader")],1),t._v(" "),i("div")])}),[],!1,null,null,null).exports,Vn={name:"SubscriberProfileExternalView",props:["subscriber","subscriber_id"],data:function(){return{profile_section:this.$route.query.handler,heading:"",content_html:"",loading:!0}},methods:{fetchData:function(){var t=this;this.loading=!0,this.$get("subscribers/".concat(this.subscriber_id,"/external_view"),{section_provider:this.profile_section}).then((function(e){t.heading=e.heading,t.content_html=e.content_html})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}},mounted:function(){this.fetchData()}},Un=Object(a.a)(Vn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("el-skeleton",{staticClass:"fc_skeleton_loader",staticStyle:{"margin-top":"20px"},attrs:{animated:""}},[i("template",{slot:"template"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:12}},[i("el-skeleton",{attrs:{rows:10}})],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-skeleton",{attrs:{rows:3}})],1)],1)],1)],2):i("div",{staticClass:"fluentcrm_databox"},[i("h3",[t._v(t._s(t.heading))]),t._v(" "),i("div",{staticClass:"fc_external_profile_data",class:"fc_section_"+t.profile_section,domProps:{innerHTML:t._s(t.content_html)}})])}),[],!1,null,null,null).exports,Hn={name:"GlobalSettings",data:function(){return{router_name:this.$route.name,menuItems:[{icon:"el-icon-document",title:this.$t("Business Settings"),route:"business_settings"},{route:"email_settings",icon:"el-icon-message",title:this.$t("Email Settings")},{icon:"el-icon-set-up",route:"other_settings",title:this.$t("General Settings")},{route:"custom_contact_fields",icon:"el-icon-s-custom",title:this.$t("Custom Contact Fields")},{route:"smart_links",icon:"el-icon-connection",title:this.$t("Smart Links")},{icon:"el-icon-s-check",route:"double-optin-settings",title:this.$t("Double Opt-in Settings")},{icon:"el-icon-connection",route:"webhook-settings",title:this.$t("Incoming Web Hooks")},{icon:"el-icon-connection",route:"managers",title:this.$t("Managers")},{icon:"el-icon-attract",route:"rest-api",title:"REST API"},{icon:"el-icon-bangzhu",route:"settings_tools",title:this.$t("Tools")},{icon:"el-icon-guide",route:"smtp_settings",title:this.$t("Set_SMTP_Email_SS")}]}},mounted:function(){this.changeTitle("Settings"),this.has_campaign_pro&&this.menuItems.push({icon:"el-icon-lock",route:"license_settings",title:this.$t("License Management")})}},Gn=Object(a.a)(Hn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_settings_wrapper"},[i("el-row",[i("el-col",{attrs:{span:5}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":t.router_name}},t._l(t.menuItems,(function(e){return i("el-menu-item",{key:e.route,attrs:{route:{name:e.route},index:e.route}},[i("i",{class:e.icon}),t._v(" "),i("span",[t._v(t._s(e.title))])])})),1)],1),t._v(" "),i("el-col",{staticClass:"fc_settings_wrapper",attrs:{span:19}},[i("router-view")],1)],1)],1)}),[],!1,null,null,null).exports,Wn={name:"EmailSettings",components:{FormBuilder:Et},data:function(){return{btnFromLoading:!1,loading:!1,settings:{},settings_loaded:!1,fields_email:{from_name:{wrapper_class:"fc_item_half",type:"input-text",placeholder:this.$t("Email From Name"),label:this.$t("From Name"),help:this.$t("Name that will be used to send emails")},from_email:{wrapper_class:"fc_item_half",type:"verified-email-input",placeholder:"name@domain.com",data_type:"email",label:this.$t("From Email Address"),help:this.$t("Provide Valid Email Address that will be used to send emails"),inline_help:this.$t("verified_email_help")},reply_to_name:{wrapper_class:"fc_item_half",type:"input-text",placeholder:this.$t("Reply to Name (Optional)"),label:this.$t("Reply to Name"),help:this.$t("Default Reply to Name (Optional)")},reply_to_email:{wrapper_class:"fc_item_half",type:"input-text",placeholder:"name@domain.com",data_type:"email",label:this.$t("Reply to Email (Optional)"),help:"Provide Valid Email Address that will be used in reply to (Optional)"},emails_per_second:{type:"input-text",placeholder:this.$t("Maximum Email Limit Per Second"),data_type:"number",label:this.$t("Maximum Email Limit Per Second"),help:"Set maximum emails will be sent per second. Set this number based on your email service provider"}},fields_footer:{email_footer:{type:"wp-editor",placeholder:this.$t("Email Footer Text"),label:this.$t("Email Footer Text"),help:this.$t("This email footer text will be used to all your email"),inline_help:"You should provide your business address {{crm.business_address}} and manage subscription/unsubscribe url for best user experience<br/>Smartcode: {{crm.business_name}}, {{crm.business_address}}, ##crm.manage_subscription_url##, ##crm.unsubscribe_url## will be replaced with dynamic values.<br/>It is recommended to keep the texts as default aligned. Your provided email design template will align the texts"}},email_list_pref_fields:{pref_list_type:{type:"input-radio",wrapper_class:"fluentcrm_line_items",label:this.$t("Can a subscriber manage list subscriptions?"),options:[{id:"no",label:this.$t("No, Contact can not manage list subscriptions")},{id:"filtered_only",label:this.$t("Contact only see and manage the following list subscriptions")},{id:"all",label:this.$t("Contact can see all lists and manage subscriptions")}]},pref_list_items:{type:"option-selector",label:this.$t("Select Lists that you want to show for contacts"),option_key:"lists",is_multiple:!0,dependency:{depends_on:"pref_list_type",operator:"=",value:"filtered_only"}}}}},methods:{save:function(){var t=this;this.btnFromLoading=!0,this.$put("setting",{settings:{email_settings:this.settings}}).then((function(e){t.$notify.success({title:"Great!",message:t.$t("Settings Updated."),offset:19})})).finally((function(){t.btnFromLoading=!1}))},fetchSettings:function(){var t=this;this.loading=!0,this.$get("setting",{settings_keys:["email_settings"]}).then((function(e){e.email_settings&&(t.settings=e.email_settings)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1,t.settings_loaded=!0}))}},mounted:function(){this.fetchSettings(),this.changeTitle("Email Settings")}},Jn=(i(290),Object(a.a)(Wn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Global Email Settings")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"medium",loading:t.btnFromLoading||t.loading},on:{click:t.save}},[t._v("\n                "+t._s(t.$t("Save Settings"))+"\n            ")])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"settings-section fluentcrm_databox"},[i("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("Default From Settings")))]),i("br"),t._v("\n            "+t._s(t.$t("email_settings_subheading"))+"\n            "),i("hr",{staticStyle:{"margin-bottom":"20px"}}),t._v(" "),t.settings_loaded?i("form-builder",{attrs:{formData:t.settings,fields:t.fields_email}}):t._e()],1),t._v(" "),i("div",{staticClass:"settings-section fluentcrm_databox"},[i("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("Email Footer Settings")))]),i("br"),t._v(" "),i("hr",{staticStyle:{"margin-bottom":"20px"}}),t._v(" "),t.settings_loaded?i("form-builder",{attrs:{formData:t.settings,fields:t.fields_footer}}):t._e()],1),t._v(" "),i("div",{staticClass:"settings-section fluentcrm_databox"},[i("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("Email Preference Settings")))]),i("br"),t._v("\n            Please specify if you want to let your subscribers manage the associate lists or not\n            "),i("hr",{staticStyle:{"margin-bottom":"20px"}}),t._v(" "),t.settings_loaded?i("form-builder",{attrs:{formData:t.settings,fields:t.email_list_pref_fields}}):t._e()],1),t._v(" "),i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"primary",size:"medium",loading:t.btnFromLoading||t.loading},on:{click:t.save}},[t._v("\n                "+t._s(t.$t("Save Settings"))+"\n            ")])],1)])])}),[],!1,null,null,null).exports),Yn={name:"BusinessSettings",components:{FormBuilder:Et},data:function(){return{btnFromLoading:!1,loading:!1,settings:{},settings_loaded:!1,fields:{business_name:{type:"input-text",placeholder:this.$t("MyAwesomeBusiness Inc."),label:this.$t("Business Name"),help:this.$t("business_settings.name_help")},business_address:{type:"input-text",placeholder:this.$t("street, state, zip, country"),label:this.$t("Business Full Address"),help:this.$t("business_settings.address_help")},logo:{type:"photo-widget",label:this.$t("Logo"),help:this.$t("business_settings.logo_help"),btn_text:this.$t("Upload")}}}},methods:{save:function(){var t=this;this.btnFromLoading=!0,this.$put("setting",{settings:{business_settings:this.settings}}).then((function(e){t.$notify.success({title:"Great!",message:"Settings Updated.",offset:19})})).finally((function(){t.btnFromLoading=!1}))},fetchSettings:function(){var t=this;this.loading=!0,this.$get("setting",{settings_keys:["business_settings"]}).then((function(e){e.business_settings&&(t.settings=e.business_settings)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1,t.settings_loaded=!0}))}},mounted:function(){this.fetchSettings(),this.changeTitle("Business Settings")}},Kn=(i(292),Object(a.a)(Yn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Business Settings")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"medium",loading:t.btnFromLoading||t.loading},on:{click:t.save}},[t._v(t._s(t.$t("Save Settings"))+"\n            ")])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"settings-section"},[t.settings_loaded?i("form-builder",{attrs:{formData:t.settings,fields:t.fields}}):t._e()],1)])])}),[],!1,null,null,null).exports),Qn={name:"FieldForm",props:["field_types","item","form_type"],data:function(){return{optionInputVisible:!1,optionInputValue:""}},methods:{maybeSetSlug:function(){if("new"!=this.form_type)return!1;var t=this.item.label.toLowerCase().replace(//gi,"d").replace(/\s*$/g,"").replace(/\s+/g,"_").substring(0,25);this.$set(this.item,"slug",t)},changeFieldType:function(){var t=this.item.field_key,e=this.field_types[t];this.$set(this.item,"type",e.type),this.$set(this.item,"label",""),this.hasOptions(e.type)?this.item.options||this.$set(this.item,"options",["Value Option 1"]):this.$delete(this.item,"options")},hasOptions:function(t){return-1!==["select-one","select-multi","radio","checkbox"].indexOf(t)},showOptionInput:function(){var t=this;this.optionInputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleOptionInputConfirm:function(){var t=this.optionInputValue;t&&this.item.options.push(t),this.optionInputVisible=!1,this.optionInputValue=""},removeOptionItem:function(t){this.item.options.splice(t,1)}},mounted:function(){}},Zn={name:"custom_contact_fields",components:{CustomFieldForm:Object(a.a)(Qn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{attrs:{"label-position":"top",data:t.item}},[i("el-form-item",{attrs:{label:t.$t("Field Type")}},[i("el-select",{attrs:{placeholder:t.$t("Select Field Type")},on:{change:function(e){return t.changeFieldType()}},model:{value:t.item.field_key,callback:function(e){t.$set(t.item,"field_key",e)},expression:"item.field_key"}},t._l(t.field_types,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:e}})})),1),t._v(" "),t.item.type?[i("el-form-item",{attrs:{label:t.$t("Label")}},[i("el-input",{attrs:{placeholder:t.$t("Custom Field Label")},nativeOn:{keyup:function(e){return t.maybeSetSlug()}},model:{value:t.item.label,callback:function(e){t.$set(t.item,"label",e)},expression:"item.label"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Slug (Optional)")}},[i("el-input",{attrs:{maxlength:"25",placeholder:t.$t("Custom Field Slug"),disabled:"update"==t.form_type},model:{value:t.item.slug,callback:function(e){t.$set(t.item,"slug",e)},expression:"item.slug"}}),t._v(" "),"new"==t.form_type?i("p",[t._v("You can not change the slug once save a custom field")]):t._e()],1),t._v(" "),t.hasOptions(t.item.type)?i("el-form-item",{attrs:{label:t.$t("Field Value Options")}},[i("ul",{staticClass:"fluentcrm_option_lists"},t._l(t.item.options,(function(e,n){return i("li",{key:n},[t._v("\n                        "+t._s(e)+"\n                        "),i("i",{staticClass:"fluentcrm_clickable el-icon-close",on:{click:function(e){return t.removeOptionItem(n)}}})])})),0),t._v(" "),t.optionInputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{placeholder:"type and press enter",size:"mini"},on:{blur:t.handleOptionInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleOptionInputConfirm.apply(null,arguments)}},model:{value:t.optionInputValue,callback:function(e){t.optionInputValue=e},expression:"optionInputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showOptionInput}},[t._v("\n                    + New Option\n                ")])],1):t._e()]:t._e()],2)],1)}),[],!1,null,null,null).exports},data:function(){return{loading:!1,fields:[],new_item:{},field_types:{},addFieldVisible:!1,updateFieldVisible:!1,update_field:{}}},methods:{fetchFields:function(){var t=this;this.loading=!0,this.$get("custom-fields/contacts",{with:["field_types"]}).then((function(e){t.fields=e.fields,t.field_types=e.field_types})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},saveFields:function(){var t=this;this.loading=!0,this.$put("custom-fields/contacts",{fields:JSON.stringify(this.fields)}).then((function(e){t.fields=e.fields,t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},createField:function(){if(!this.validateField(this.new_item))return!1;this.fields.push(this.new_item),this.addFieldVisible=!1,this.new_item={},this.saveFields()},validateField:function(t){return t.label?!(t.options&&!t.options.length)||(this.$notify.error("Please Field Option Values"),!1):(this.$notify.error("Please Provide label"),!1)},updateFieldModal:function(t){this.update_field=this.fields[t],this.updateFieldVisible=!0},updateField:function(){if(!this.validateField(this.update_field))return!1;this.updateFieldVisible=!1,this.update_field={},this.saveFields()},deleteField:function(t){this.fields.splice(t,1),this.saveFields()},movePosition:function(t,e){var i=t-1;"down"===e&&(i=t+1);var n=this.fields,s=n[t];n.splice(t,1),n.splice(i,0,s),this.$set(this,"fields",n),this.saveFields()}},mounted:function(){this.fetchFields(),this.changeTitle("Custom Fields")}},Xn=Object(a.a)(Zn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Custom Contact Fields")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addFieldVisible=!0}}},[t._v(t._s(t.$t("Add Field")))])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_pad_around"},[i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",data:t.fields}},[i("el-table-column",{attrs:{label:t.$t("Label"),prop:"label"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Slug"),prop:"slug"}}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.updateFieldModal(e.$index)}}}),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(i){return t.deleteField(e.$index)}}}),t._v(" "),i("el-button-group",[i("el-button",{attrs:{disabled:0==e.$index,size:"mini",icon:"el-icon-arrow-up"},on:{click:function(i){return t.movePosition(e.$index,"up")}}}),t._v(" "),i("el-button",{attrs:{disabled:e.$index==t.fields.length-1,size:"mini",icon:"el-icon-arrow-down"},on:{click:function(i){return t.movePosition(e.$index,"down")}}})],1)]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Add New Custom Field"),visible:t.addFieldVisible,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.addFieldVisible=e}}},[i("custom-field-form",{attrs:{form_type:"new",field_types:t.field_types,item:t.new_item}}),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.createField()}}},[t._v("Add")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Update Custom Field"),visible:t.updateFieldVisible,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.updateFieldVisible=e}}},[i("custom-field-form",{attrs:{form_type:"update",field_types:t.field_types,item:t.update_field}}),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.updateField()}}},[t._v("Update Field")])],1)],1)],1)}),[],!1,null,null,null).exports,ts={name:"DoubleOptionIn",components:{FormBuilder:Et},data:function(){return{btnFromLoading:!1,loading:!1,settings:{},settings_loaded:!1,fields:{}}},methods:{save:function(){var t=this;this.btnFromLoading=!0,this.$put("setting/double-optin",{settings:this.settings}).then((function(e){t.$notify.success({title:"Great!",message:e.message,offset:19})})).catch((function(e){t.handleError(e)})).finally((function(){t.btnFromLoading=!1,t.settings_loaded=!0}))},fetchSettings:function(){var t=this;this.loading=!0,this.$get("setting/double-optin",{with:["settings_fields"]}).then((function(e){t.settings=e.settings,t.fields=e.settings_fields})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1,t.settings_loaded=!0}))}},mounted:function(){this.fetchSettings(),this.changeTitle("Double Opt-in Settings")}},es=(i(294),Object(a.a)(ts,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Double Opt-in Email Settings Details")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"medium",loading:t.btnFromLoading||t.loading},on:{click:t.save}},[t._v("\n                "+t._s(t.$t("Save Settings"))+"\n            ")])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"settings-section"},[t.settings_loaded?i("form-builder",{attrs:{fields:t.fields,formData:t.settings}}):t._e()],1)])])}),[],!1,null,null,null).exports),is={name:"ItemCopier",props:["text"],data:function(){return{copy_success:!1}},computed:{icon:function(){return this.copy_success?"el-icon-check":"el-icon-copy-document"}},methods:{copyItem:function(){this.copy_success=!1;var t=this.text,e=!1;if(window.clipboardData&&window.clipboardData.setData)window.clipboardData.clipboardData.setData("Text",t),e=!0;else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var i=document.createElement("textarea");i.textContent=t,i.style.position="fixed",document.body.appendChild(i),i.select();try{document.execCommand("copy"),e=!0}catch(t){console.warn("Copy to clipboard failed.",t),e=!1}finally{document.body.removeChild(i)}}e?(this.copy_success=!0,this.$notify({message:"Copied to your clipboard",position:"bottom-right",customClass:"bottom_right",type:"success"})):this.$notify({message:"Your Browser does not support JS copy. Please copy manually",position:"bottom-right",customClass:"bottom_right",type:"error"})}}},ns=Object(a.a)(is,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-input",{attrs:{size:"mini",readonly:!0},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}},[i("el-button",{attrs:{slot:"append",type:"primary",icon:t.icon},on:{click:function(e){return t.copyItem()}},slot:"append"})],1)}),[],!1,null,null,null).exports,ss=i(161),as=i.n(ss),os={name:"listTagItems",props:["items","item_type"],computed:{text_lists:function(){var t=this,e=this.appVars["available_"+this.item_type];if(!e)return"";var i=[];return this.each(e,(function(e){as()(t.items,e.id)&&i.push(e.title)})),i.join(", ")},item_class:function(){return"lists"==this.item_type?"el-icon-files":"el-icon-price-tag"}}},rs=Object(a.a)(os,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"fc_tag_items fc_list"},[e("i",{class:this.item_class}),this._v(" "+this._s(this.text_lists||"n/a"))])}),[],!1,null,null,null).exports,ls={name:"IncomingWebhookPromo"};function cs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function us(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?cs(Object(i),!0).forEach((function(e){ds(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):cs(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ds(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var _s={name:"WebHookSettings",components:{Confirm:f,Error:ge,WebhookPromo:Object(a.a)(ls,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_narrow_box fluentcrm_databox text-align-center"},[i("h2",{},[t._v("Incoming Webhooks")]),t._v(" "),i("p",{staticClass:"text-align-center"},[t._v("Create or Update contacts from Incoming Webhooks")]),t._v(" "),i("hr"),t._v(" "),i("p",[t._v("To Activate this module please upgrade to pro")]),t._v(" "),i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])}),[],!1,null,null,null).exports,ItemCopier:ns,ListTagItems:rs},data:function(){return{statuses:[{value:"pending",label:"Pending"},{value:"subscribed",label:"Subscribed"}],dialogTitle:this.$t("Create New Incoming Webhook"),addWebhookVisible:!1,btnFromLoading:!1,labelPosition:"left",errors:new Ce,loading:!1,editing:!1,lists:[],tags:[],webhooks:[],webhook:{},fields:[],customFields:[],schema:{},id:null}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("webhooks").then((function(e){t.webhooks=e.webhooks,t.fields=e.fields,t.customFields=e.custom_fields,t.schema=e.schema,t.lists=e.lists,t.tags=e.tags})).catch((function(){})).finally((function(){t.loading=!1}))},create:function(){this.editing=!1,this.addWebhookVisible=!0,this.webhook=us({},this.schema),this.dialogTitle=this.$t("Create New Incoming Webhook")},store:function(){var t=this;this.errors.clear(),this.btnFromLoading=!0,this.$post("webhooks",this.webhook).then((function(e){t.webhooks=e.webhooks,t.edit(t.webhook,e.id)})).catch((function(e){t.errors.record(e)})).finally((function(){t.btnFromLoading=!1}))},edit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.id=e,this.editing=!0,this.webhook=us({},t),this.addWebhookVisible=!0,this.dialogTitle=this.webhook.name},update:function(){var t=this;this.errors.clear(),this.btnFromLoading=!0,this.$put("webhooks/".concat(this.id),this.webhook).then((function(e){t.webhooks=e.webhooks})).catch((function(e){t.errors.record(e)})).finally((function(){t.btnFromLoading=!1,t.addWebhookVisible=!1}))},remove:function(t){var e=this;this.$del("webhooks/".concat(t)).then((function(t){e.webhooks=t.webhooks}))},getListTitles:function(t){var e=[];for(var i in t)this.lists[i]&&e.push(this.lists[i].title);return e.join(", ")},getTagTitle:function(t){var e=this.tags.find((function(e){return e.id===t}));return e?e.title:""}},mounted:function(){this.has_campaign_pro&&this.fetch(),this.changeTitle("Webhook Settings")}},ps=(i(308),Object(a.a)(_s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Incoming Webhook Settings")))])]),t._v(" "),t.has_campaign_pro?i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"medium",loading:t.btnFromLoading||t.loading},on:{click:t.create}},[t._v("\n                "+t._s(t.$t("Create Webhook"))+"\n            ")])],1):t._e()]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_pad_around"},[t.has_campaign_pro?i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",data:t.webhooks}},[i("el-table-column",{attrs:{label:t.$t("Webhook Info")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("\n                        "+t._s(e.row.value.name)+"\n                        "),e.row.value.lists&&e.row.value.lists.length?i("list-tag-items",{attrs:{item_type:"lists",items:e.row.value.lists}}):t._e(),t._v(" "),i("list-tag-items",{attrs:{item_type:"tags",items:e.row.value.tags}})],1),t._v(" "),i("item-copier",{attrs:{text:e.row.value.url}})]}}],null,!1,42509377)}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Actions"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"info",size:"medium",icon:"el-icon-edit"},on:{click:function(i){return t.edit(e.row.value,e.row.id)}}}),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e.row.id)}}},[i("el-button",{attrs:{slot:"reference",size:"medium",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)]}}],null,!1,3408734146)})],1):i("div",[i("webhook-promo")],1)],1),t._v(" "),i("el-dialog",{attrs:{width:"60%",title:t.dialogTitle,"append-to-body":!0,visible:t.addWebhookVisible},on:{"update:visible":function(e){t.addWebhookVisible=e}}},[i("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.webhook}},[[i("el-form-item",{attrs:{label:t.$t("Name")}},[i("el-input",{model:{value:t.webhook.name,callback:function(e){t.$set(t.webhook,"name",e)},expression:"webhook.name"}}),t._v(" "),i("error",{attrs:{error:t.errors.get("name")}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("List")}},[i("el-select",{attrs:{multiple:"",placeholder:"Select lists"},model:{value:t.webhook.lists,callback:function(e){t.$set(t.webhook,"lists",e)},expression:"webhook.lists"}},t._l(t.lists,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Tags")}},[i("el-select",{attrs:{multiple:"",placeholder:"Select tags"},model:{value:t.webhook.tags,callback:function(e){t.$set(t.webhook,"tags",e)},expression:"webhook.tags"}},t._l(t.tags,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Status")}},[i("el-select",{attrs:{placeholder:"Select status"},model:{value:t.webhook.status,callback:function(e){t.$set(t.webhook,"status",e)},expression:"webhook.status"}},t._l(t.statuses,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1),t._v(" "),i("error",{attrs:{error:t.errors.get("status")}}),t._v(" "),"pending"==t.webhook.status?i("p",[t._v("A double opt-in email will be sent if the contact is new")]):t._e()],1)],t._v(" "),t.editing?[i("el-alert",{attrs:{type:"info",closable:!1,title:"Copy the webhook URL you want to send your POST request to."}}),t._v(" "),i("el-input",{staticStyle:{margin:"20px 0"},attrs:{readonly:"",value:t.webhook.url}}),t._v(" "),i("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"info",closable:!1}},[t._v("\n                    Copy the keys in the right column and paste it into the app you want to use for\n                    sending the POST request, so it will send the data into the contact field you want.\n                    "),i("span",{staticStyle:{color:"#E6A23C"}},[t._v("The email address is required!")]),t._v(" "),i("a",{attrs:{target:"_blank",rel:"noopener",href:"https://fluentcrm.com/docs/webhook-integration/"}},[t._v("Read the documentation")])]),t._v(" "),i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",height:"250",data:t.fields}},[i("el-table-column",{attrs:{label:t.$t("Contact Field"),prop:"field",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Key"),prop:"key"}})],1),t._v(" "),t.customFields?i("div",[i("el-alert",{staticStyle:{margin:"20px 0"},attrs:{title:"Custom Contact Fields",type:"info",closable:!1}},[t._v("\n                        You may also use these custom contact fields. Copy the keys in the right column and paste it into the app just like other contact fields.\n                    ")]),t._v(" "),i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",height:"250",data:t.customFields}},[i("el-table-column",{attrs:{label:t.$t("Custom Contact Field"),prop:"field",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Key"),prop:"key"}})],1)],1):t._e()]:t._e()],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.editing?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.update}},[t._v("Update")]):i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.store}},[t._v("Create")])],1)],1)],1)}),[],!1,null,null,null).exports);function ms(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function fs(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ms(Object(i),!0).forEach((function(e){hs(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ms(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function hs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var gs={name:"DataCleanup",components:{Confirm:f},data:function(){return{loading:!1,cleanup:{selected_logs:[],days_before:30},log_options:{emails:"Email History Logs",email_clicks:"Email Click Logs",email_open:"Email Open Logs"},log_counters:[],showing_log:!1,reset_message:""}},methods:{deleteOldLogs:function(){var t=this;this.loading=!0,this.$del("setting/old_logs",fs({},this.cleanup)).then((function(e){t.$notify.success(e.message),t.resetData(),t.reset_message=e.message})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},getOldLogs:function(){var t=this;this.loading=!0,this.$get("setting/old_logs",fs({},this.cleanup)).then((function(e){t.showing_log=!0,t.log_counters=e.log_counts})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},resetData:function(){this.cleanup={selected_logs:[],days_before:30},this.showing_log=!1,this.log_counters=[]}}},vs={name:"SettingsTools",components:{Confirm:f,DataCleanup:Object(a.a)(gs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"settings-section fluentcrm_databox",staticStyle:{border:"2px solid #deb373"}},[t._m(0),t._v(" "),i("div",{staticClass:"fc_global_form_builder"},[t.reset_message?i("div",{staticClass:"text-align-center"},[i("h3",[t._v(t._s(t.reset_message))])]):t.showing_log?i("div",[i("h3",[t._v("Please review before you delete your old logs")]),t._v(" "),i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),data:t.log_counters,stripe:"",border:""}},[i("el-table-column",{attrs:{label:t.$t("Type"),prop:"title"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Counts"),prop:"count"}})],1),t._v(" "),i("p"),t._v(" "),i("confirm",{attrs:{placement:"top-start",message:"Are you sure about this action? If you confirm, Your old log data will be deleted permanently!"},on:{yes:function(e){return t.deleteOldLogs()}}},[i("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("\n                    "+t._s(t.$t("Yes, I want to delete Old Logs"))+"\n                ")])],1),t._v(" "),i("el-button",{on:{click:function(e){return t.resetData()}}},[t._v("Nevermind, I changed my mind")]),t._v(" "),i("p",{staticStyle:{color:"#f56c6b"}},[t._v("All the selected logs that are "),i("b",{staticStyle:{color:"red"}},[t._v("older than "+t._s(t.cleanup.days_before)+" days")]),t._v(" will be deleted permanently. "),i("b",[t._v("You can not reverse this action.")])])],1):i("el-form",{attrs:{data:t.cleanup,"label-position":"top"}},[i("el-form-item",{attrs:{label:t.$t("Select Logs you want to delete")}},[i("el-checkbox-group",{model:{value:t.cleanup.selected_logs,callback:function(e){t.$set(t.cleanup,"selected_logs",e)},expression:"cleanup.selected_logs"}},t._l(t.log_options,(function(e,n){return i("el-checkbox",{key:n,attrs:{label:n}},[t._v(t._s(e))])})),1),t._v(" "),i("p",[t._v("Your Selected logs will be deleted permanently")])],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Delete older data more than?")}},[i("el-input",{attrs:{type:"number",min:7},model:{value:t.cleanup.days_before,callback:function(e){t.$set(t.cleanup,"days_before",e)},expression:"cleanup.days_before"}}),t._v(" "),i("p",[t._v("All the selected logs that are "),i("b",{staticStyle:{color:"red"}},[t._v("older than "+t._s(t.cleanup.days_before)+" days")]),t._v(" will be deleted")])],1),t._v(" "),t.cleanup.selected_logs.length?[i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.getOldLogs()}}},[t._v("Preview Log Summary")])]:t._e()],2)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fluentcrm_header",staticStyle:{"background-color":"white",padding:"0","margin-bottom":"20px"}},[e("div",{staticClass:"fluentcrm_header_title"},[e("h3",[this._v("Data Cleanup")]),this._v(" "),e("p",[this._v("You may cleanup old data like email logs, email click and open logs easily using this tool.")])])])}],!1,null,null,null).exports},data:function(){return{rest_statuses:{get_request_status:"checking",post_request_status:"checking",put_request_status:"checking",delete_request_status:"checking"},fetching_cron:!1,loading:!1,cron_events:[]}},methods:{checkRestRequest:function(t,e,i){var n=this;this[e]("setting/test").then((function(e){e.message?n.rest_statuses[t]="Working":n.rest_statuses[t]="Not Working. Please make sure your server has this request type enabled"})).catch((function(e){n.rest_statuses[t]="Not Working. Please make sure your server has this request type enabled"})).finally((function(){i&&i()}))},resetDatabase:function(){var t=this;this.loading=!0,this.$post("setting/reset_db").then((function(e){t.$notify.success(e.message),t.loading=!1})).catch((function(e){t.handleError(e),t.loading=!1})).finally((function(){t.loading=!1}))},fetchCronEvents:function(){var t=this;this.fetching_cron=!0,this.$get("setting/cron_status").then((function(e){t.cron_events=e.cron_events})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching_cron=!1}))},runCron:function(t){var e=this;this.fetching_cron=!0,this.$post("setting/run_cron",{hook:t}).then((function(t){e.$notify.success(t.message)})).catch((function(t){e.handleError(t)})).finally((function(){e.fetching_cron=!1}))}},mounted:function(){var t=this;this.fetchCronEvents(),this.checkRestRequest("put_request_status","$put",(function(){t.checkRestRequest("delete_request_status","$del",(function(){t.checkRestRequest("get_request_status","$get",(function(){t.checkRestRequest("post_request_status","$post")}))}))})),this.changeTitle("Tools")}},bs=Object(a.a)(vs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Tools")))])])]),t._v(" "),i("div",{staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"settings-section fluentcrm_databox"},[i("div",{staticClass:"fluentcrm_header",staticStyle:{"background-color":"white",padding:"0","margin-bottom":"20px"}},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Rest API Status")))])])]),t._v(" "),i("div",{staticClass:"fc_global_form_builder"},[i("ul",t._l(t.rest_statuses,(function(e,n){return i("li",{key:n},[i("b",[t._v(t._s(n))]),t._v(": "+t._s(e)+"\n                    ")])})),0)])]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching_cron,expression:"fetching_cron"}],staticClass:"settings-section fluentcrm_databox"},[i("div",{staticClass:"fluentcrm_header",staticStyle:{"background-color":"white",padding:"0","margin-bottom":"20px"}},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("CRON Job Status")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"mini",icon:"el-icon-refresh"},on:{click:t.fetchCronEvents}})],1)]),t._v(" "),i("div",{staticClass:"fc_global_form_builder"},[i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),data:t.cron_events,border:"",stripe:""}},[i("el-table-column",{attrs:{label:t.$t("Event Name"),prop:"human_name"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Next Run"),prop:"next_run"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            In "+t._s(e.row.next_run)+"\n                        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Action")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return t.runCron(e.row.hook)}}},[t._v("\n                                "+t._s(t.$t("Run Manually"))+"\n                            ")])]}}])})],1)],1)]),t._v(" "),i("div",{staticClass:"settings-section fluentcrm_databox",staticStyle:{border:"2px solid red"}},[i("h3",{staticStyle:{"margin-top":"0"}},[t._v(t._s(t.$t("Danger Zone")))]),t._v(" "),i("p",[t._v("Use this tool only and only if you understand fully. This will delete all your CRM specific data from\n                the system")]),t._v(" "),t._m(0),t._v(" "),i("hr"),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fc_global_form_builder text-align-center"},[i("h3",[t._v(t._s(t.$t("Reset FluentCRM Database tables")))]),t._v(" "),i("p",{staticStyle:{color:"red"}},[t._v(t._s(t.$t("reset_db_warning")))]),t._v(" "),i("confirm",{attrs:{placement:"top-start",message:t.$t("reset_db_conf_warning")},on:{yes:function(e){return t.resetDatabase()}}},[i("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("\n                        "+t._s(t.$t("Yes, Delete and Reset All CRM Data"))+"\n                    ")])],1)],1)]),t._v(" "),i("data-cleanup")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You have to add "),e("code",[this._v("define('FLUENTCRM_IS_DEV_FEATURES', true);")]),this._v(" in your wp-config.php to make\n                this feature work")])}],!1,null,null,null).exports,ys={name:"Managers",components:{Pagination:g},data:function(){return{managers:[],pagination:{total:0,current_page:1,per_page:10},loading:!1,permissions:{},editing_manager:{},show_modal:!1,saving:!1}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("campaign-pro-settings/managers",{per_page:this.pagination.per_page,page:this.pagination.current_page}).then((function(e){t.permissions=e.permissions,t.managers=e.managers.data,t.pagination.total=e.managers.total})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},readable:function(t){return this.permissions[t]?this.permissions[t].title:t},addManager:function(){this.editing_manager={email:"",permissions:[]},this.show_modal=!0},removeManager:function(t){var e=this;this.$del("campaign-pro-settings/managers/".concat(t.id)).then((function(t){e.$notify.success(t.message),e.fetch()})).catch((function(t){e.handleError(t)}))},initEdit:function(t){this.editing_manager=t,this.show_modal=!0},save:function(){var t=this;this.saving=!0;var e=this.$post("campaign-pro-settings/managers",{manager:this.editing_manager});this.editing_manager.id&&(e=this.$put("campaign-pro-settings/managers/".concat(this.editing_manager.id),{manager:this.editing_manager})),e.then((function(e){t.$notify.success(e.message),t.fetch(),t.show_modal=!1})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))}},mounted:function(){this.has_campaign_pro&&this.fetch()}},ws=Object(a.a)(ys,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.has_campaign_pro?i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("CRM Managers")))]),t._v(" "),i("p",[t._v(t._s(t.$t("All Administrators automatically will get full access of FluentCRM")))])]),t._v(" "),t.has_campaign_pro?i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.addManager()}}},[t._v("\n                "+t._s(t.$t("Add New Manager"))+"\n            ")])],1):t._e()]),t._v(" "),t.has_campaign_pro?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Found"),stripe:"",data:t.managers}},[i("el-table-column",{attrs:{label:t.$t("ID"),prop:"id",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Name"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.first_name)+" "+t._s(e.row.last_name)+"\n                ")]}}],null,!1,3785257120)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Email"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.email)+"\n                ")]}}],null,!1,3087387761)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Permissions")},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.permissions,(function(e){return i("el-tag",{key:e,attrs:{type:"info",size:"mini"}},[t._v("\n                        "+t._s(t.readable(e))+"\n                    ")])}))}}],null,!1,2463043339)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Actions"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(i){return t.initEdit(e.row)}}}),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(i){return t.removeManager(e.row)}}})]}}],null,!1,2177145137)})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1):t._e(),t._v(" "),i("el-dialog",{attrs:{title:t.editing_manager.id?t.$t("Edit Manager"):t.$t("Add new Manager"),visible:t.show_modal,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.show_modal=e}}},[i("el-form",{attrs:{data:t.editing_manager,"label-position":"top"}},[i("el-form-item",{attrs:{label:t.$t("User Email")}},[i("el-input",{attrs:{type:"email",disabled:t.editing_manager.id,placeholder:t.$t("User Email Address")},model:{value:t.editing_manager.email,callback:function(e){t.$set(t.editing_manager,"email",e)},expression:"editing_manager.email"}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.editing_manager.id,expression:"!editing_manager.id"}]},[t._v("Please Provide Email address of your existing system user")])],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Permissions")}},[i("el-checkbox-group",{model:{value:t.editing_manager.permissions,callback:function(e){t.$set(t.editing_manager,"permissions",e)},expression:"editing_manager.permissions"}},t._l(t.permissions,(function(e,n){return i("el-checkbox",{key:n,staticStyle:{"min-width":"250px"},attrs:{label:n}},[t._v("\n                        "+t._s(e.title)+"\n                    ")])})),1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("Confirm")))])],1)],1)],1):i("div",[i("div",{staticClass:"fc_narrow_box fluentcrm_databox text-align-center"},[i("h2",{},[t._v("CRM Managers - Roles and Permissions")]),t._v(" "),i("p",{staticClass:"text-align-center"},[t._v("Add More Users to your FluentCRM and give them selected permissions to manage your marketing. For example, You can add user X to view only the reports and User Y to manage only email campaigns.")]),t._v(" "),i("hr"),t._v(" "),i("p",[t._v("To Activate this module please upgrade to pro")]),t._v(" "),i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])])}),[],!1,null,null,null).exports;function ks(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function xs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var $s={name:"RestKeys",components:{ItemCopier:ns},data:function(){return{rest_keys:[],managers:[],loading:!1,adding_key:{},show_modal:!1,saving:!1,created_key:!1}},methods:{fetch:function(){var t=this;this.loading=!0,this.$get("setting/rest-keys").then((function(e){t.rest_keys=e.rest_keys,t.managers=e.managers})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},addKey:function(){this.adding_key={api_user_id:"",api_name:""},this.created_key=!1,this.show_modal=!0},save:function(){var t=this;this.saving=!0,this.$post("setting/rest-keys",function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ks(Object(i),!0).forEach((function(e){xs(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ks(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},this.adding_key)).then((function(e){t.$notify.success(e.message),t.created_key=e.item,t.fetch()})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))}},mounted:function(){this.has_campaign_pro&&this.fetch()}},Cs=Object(a.a)($s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("REST API Access Management")))]),t._v(" "),i("p",[t._v(t._s(t.$t("rest_api_sub_heading")))])]),t._v(" "),t.has_campaign_pro?i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.addKey()}}},[t._v(t._s(t.$t("Add New Key"))+"\n            ")]),t._v(" "),i("a",{staticClass:"el-button el-button--info el-button--medium",attrs:{target:"_blank",rel:"noopener",href:"https://fluentcrm.com/docs/rest-api"}},[t._v("\n                "+t._s(t.$t("Documentation"))+"\n            ")])],1):t._e()]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[i("el-table",{staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Found"),stripe:"",data:t.rest_keys}},[i("el-table-column",{attrs:{label:t.$t("ID"),prop:"id",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Name"),width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.first_name)+" "+t._s(e.row.last_name)+"\n                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Email"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.email)+"\n                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("APIs")},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.api_keys,(function(e){return i("el-tag",{key:e.name,attrs:{type:"info",size:"mini"}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Actions"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"el-button el-button--danger el-button--mini",attrs:{href:e.row.manage_url}},[t._v("Manage APIs")])]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"Add New REST API Key",visible:t.show_modal,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.show_modal=e}}},[t.managers.length?t.created_key?i("div",{staticClass:"fc_api_created_response"},[i("h3",[t._v("REST API key has been created to selected user")]),t._v(" "),i("p",{staticStyle:{color:"red"}},[t._v("Please save the details as you can not retrieve again")]),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:12}},[t._v("\n                    API Username:\n                    "),i("item-copier",{attrs:{text:t.created_key.info.api_username}})],1),t._v(" "),i("el-col",{attrs:{span:12}},[t._v("\n                    API Password:\n                    "),i("item-copier",{attrs:{text:t.created_key.info.api_password}})],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("p",{staticStyle:{"margin-bottom":"50px"}},[t._v("Use Basic Authorization for REST API requests. Please check the official documentation for more details")])])],1)],1):i("el-form",{attrs:{data:t.adding_key,"label-position":"top"}},[i("el-form-item",{attrs:{label:t.$t("Name of this key")}},[i("el-input",{attrs:{type:"text",placeholder:t.$t("Friendly Name for identification")},model:{value:t.adding_key.api_name,callback:function(e){t.$set(t.adding_key,"api_name",e)},expression:"adding_key.api_name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Associate FluentCRM Manager (Non-Admin Only)"}},[i("el-select",{model:{value:t.adding_key.api_user_id,callback:function(e){t.$set(t.adding_key,"api_user_id",e)},expression:"adding_key.api_user_id"}},t._l(t.managers,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.full_name+" "+t.email}})})),1)],1)],1):[i("h3",[t._v("Looks like you did not have any additional Manager yet. Please create a manager (non administrator role) first for FluentCRM")])],t._v(" "),t.created_key?t._e():i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("Confirm")))])],1)],2)],1)}),[],!1,null,null,null).exports,Ss={name:"FunnelRoute",data:function(){return{app_ready:!1,options:{}}},methods:{getOptions:function(){var t=this;this.app_ready=!1;this.$get("reports/options",{fields:"tags,lists,editable_statuses,campaigns,email_sequences"}).then((function(e){t.options=e.options})).catch((function(e){t.handleError(e)})).finally((function(){t.app_ready=!0}))}},mounted:function(){this.getOptions(),this.changeTitle("Automations")}},Es=Object(a.a)(Ss,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fc_funnel_root"},[this.app_ready?e("router-view",{attrs:{options:this.options}}):e("div",[e("h3",[this._v(this._s(this.$t("Loading...")))])])],1)}),[],!1,null,null,null).exports,Os={name:"CreateFunnelModal",props:["visible","triggers"],data:function(){return{saving:!1,funnel:{title:"",trigger_name:""},dialogVisible:this.visible,selected_category:"CRM"}},watch:{dialogVisible:function(){this.$emit("close")}},computed:{funnel_categories:function(){var t=[];return this.each(this.triggers,(function(e){-1===t.indexOf(e.category)&&t.push(e.category)})),t.sort()},funnelTriggers:function(){var t=this;if(!this.selected_category)return[];var e={};return this.each(this.triggers,(function(i,n){i.category===t.selected_category&&(e[n]=i)})),e}},methods:{saveFunnel:function(){var t=this;this.saving=!0,this.$post("funnels",{funnel:this.funnel}).then((function(e){t.$notify.success(e.message),t.$router.push({name:"edit_funnel",params:{funnel_id:e.funnel.id},query:{is_new:"yes"}})})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))},getCatIcon:function(t){t=t.replaceAll(" ","").toLowerCase();var e=this.appVars.funnel_cat_icons[t];return e?'<img src="'+e+'" class="fc_choice_icon" />':' <i class="el-icon el-icon-finished"></i>'}}},js={name:"AutomationFunnels",components:{CreateFunnelModal:Object(a.a)(Os,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.$t("_Cr_Create_aAF"),visible:t.dialogVisible,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",[i("el-form",{attrs:{data:t.funnel,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.saveFunnel.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:t.$t("Internal Label")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Label")},model:{value:t.funnel.title,callback:function(e){t.$set(t.funnel,"title",e)},expression:"funnel.title"}})],1),t._v(" "),i("div",{staticClass:"fc_a_cat_selection_wrapper"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:6,xs:12}},[i("el-menu",{staticClass:"fc_trigger_selectors",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","default-active":t.selected_category},on:{select:function(e){t.selected_category=e,t.funnel.trigger_name=""}}},t._l(t.funnel_categories,(function(e){return i("el-menu-item",{key:e,attrs:{index:e}},[i("span",{staticClass:"fc_trigger_icon",domProps:{innerHTML:t._s(t.getCatIcon(e))}}),t._v(" "),i("span",[t._v(t._s(e))])])})),1)],1),t._v(" "),i("el-col",{attrs:{md:18,xs:12}},[i("div",{staticClass:"fc_choice_header"},[i("h2",{staticClass:"fc_choice_title"},[t._v("Select the trigger for this automation")])]),t._v(" "),t.selected_category?i("el-row",{staticClass:"fc_choice_row",attrs:{gutter:20}},t._l(t.funnelTriggers,(function(e,n){return i("el-col",{key:n,staticClass:"fc_choice_block",attrs:{md:8,sm:24,xs:24}},[i("div",{staticClass:"fc_choice_card",class:{fc_trigger_selected:t.funnel.trigger_name==n},on:{click:function(e){t.funnel.trigger_name=n}}},[e.disabled?i("div",{staticClass:"fc_pro_ribbon"},[t._v(t._s(t.$t("Pro")))]):t._e(),t._v(" "),i("h3",[t._v(t._s(e.label))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(e.description)}})])])})),1):t._e(),t._v(" "),t.funnel.trigger_name&&t.triggers[t.funnel.trigger_name].disabled?i("div",{staticClass:"promo_block",staticStyle:{background:"whitesmoke",padding:"20px 10px",margin:"0","text-align":"center",display:"block",overflow:"hidden"}},[i("p",[t._v("This automation trigger is available on Pro version of FluentCRM. Please download and install FluentCRM Pro")]),t._v(" "),i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])]):t._e()],1)],1)],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.funnel.trigger_name&&!t.triggers[t.funnel.trigger_name].disabled?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveFunnel()}}},[t._v("\n            "+t._s(t.$t("Continue"))+"\n        ")]):t._e()],1)])}),[],!1,null,null,null).exports,Confirm:f,Pagination:g},data:function(){return{pagination:{total:0,per_page:10,current_page:1},funnels:[],search:"",create_modal:!1,triggers:{},loading:!1,duplicating:!1,sortBy:"id",sortType:"DESC"}},methods:{getFunnels:function(){var t=this;this.loading=!0,this.$get("funnels",{per_page:this.pagination.per_page,page:this.pagination.current_page,with:["triggers"],search:this.search,sort_by:this.sortBy,sort_type:this.sortType}).then((function(e){t.funnels=e.funnels.data,t.pagination.total=e.funnels.total,t.triggers=e.triggers})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},handleSortable:function(t){"descending"===t.order?(this.sortBy=t.prop,this.sortType="DESC"):(this.sortBy=t.prop,this.sortType="ASC"),this.getFunnels()},getTriggerTitle:function(t){return this.triggers[t]?this.triggers[t].label:t},edit:function(t){this.$router.push({name:"edit_funnel",params:{funnel_id:t.id}})},subscribers:function(t){this.$router.push({name:"funnel_subscribers",params:{funnel_id:t.id}})},remove:function(t){var e=this;this.$del("funnels/".concat(t.id)).then((function(t){e.$notify.success(t.message),e.getFunnels()})).catch((function(t){e.handleError(t)}))},duplicate:function(t){var e=this;this.duplicating=!0,this.$post("funnels/".concat(t.id,"/clone")).then((function(t){e.$notify.success(t.message),e.$router.push({name:"edit_funnel",params:{funnel_id:t.funnel.id},query:{is_new:"yes"}})})).catch((function(t){e.handleError(t)})).finally((function(){e.duplicating=!1}))},exportFunnel:function(t){location.href=window.ajaxurl+"?"+jQuery.param({action:"fluentcrm_export_funnel",funnel_id:t.id})}},mounted:function(){this.getFunnels(),this.changeTitle("Automation Funnels")}},Ts=Object(a.a)(js,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_settings_wrapper"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Automation Funnels")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:t.$t("Search")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getFunnels.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getFunnels()}},slot:"append"})],1),t._v(" "),t.hasPermission("fcrm_write_funnels")?i("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:function(e){t.create_modal=!0}}},[t._v("\n                "+t._s(t.$t("Create a New Automation"))+"\n            ")]):t._e(),t._v(" "),i("el-button",{attrs:{size:"small",type:"info",icon:"el-icon-upload"},on:{click:function(e){return t.$router.push({name:"import_funnel"})}}},[t._v("\n                "+t._s(t.$t("Import"))+"\n            ")])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.duplicating,expression:"duplicating"}],attrs:{"empty-text":t.$t("No Data Found"),border:"",stripe:"",data:t.funnels},on:{"sort-change":t.handleSortable}},[i("el-table-column",{attrs:{sortable:"custom",property:"id",width:"60",label:t.$t("ID")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.id)+"\n                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{sortable:"custom",property:"title",label:t.$t("Title")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"edit_funnel",params:{funnel_id:e.row.id}}}},[t._v("\n                        "+t._s(e.row.title)+"\n                    ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{sortable:"custom",property:"trigger_name",label:t.$t("Trigger")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.getTriggerTitle(e.row.trigger_name))+"\n                ")]}}])}),t._v(" "),i("el-table-column",{attrs:{sortable:"custom",property:"status",width:"190",label:t.$t("Status")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("ucFirst")(t.$t(e.row.status)))+"\n                    "),i("span",{staticClass:"stats_badge_inline"},[i("span",[i("i",{staticClass:"el-icon el-icon-user"}),t._v(" "+t._s(e.row.subscribers_count))])])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"300",label:t.$t("Action")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-data-line"},on:{click:function(i){return t.subscribers(e.row)}}},[t._v("\n                        "+t._s(t.$t("Reports"))+"\n                    ")]),t._v(" "),t.hasPermission("fcrm_write_funnels")?[i("confirm",{on:{yes:function(i){return t.remove(e.row)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1),t._v(" "),i("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-copy-document"},on:{click:function(i){return t.duplicate(e.row)}}},[t._v("\n                            "+t._s(t.$t("Duplicate"))+"\n                        ")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"info",size:"mini",icon:"el-icon-download"},on:{click:function(i){return t.exportFunnel(e.row)}}},[t._v("\n                            "+t._s(t.$t("Export"))+"\n                        ")])]:t._e()]}}])})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.getFunnels}})],1),t._v(" "),t.create_modal?i("create-funnel-modal",{attrs:{triggers:t.triggers,visible:t.create_modal},on:{close:function(){t.create_modal=!1}}}):t._e()],1)}),[],!1,null,null,null).exports,Ps={name:"MultiTextOptions",props:{value:{type:Array,default:function(){return[""]}},field:{type:Object}},data:function(){return{options:[]}},watch:{options:{deep:!0,handler:function(){var t=[];this.options.forEach((function(e){e.value&&t.push(e.value)})),this.$emit("input",t)}}},methods:{addMoreUrl:function(){this.options.push({value:""})},deleteUrl:function(t){this.options.splice(t,1)}},mounted:function(){var t=this,e=JSON.parse(JSON.stringify(this.value));e&&e.length?(this.options=[],e.forEach((function(e){t.options.push({value:e})}))):this.options=[{value:""}]}},Fs=Object(a.a)(Ps,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_url_boxes"},[t._l(t.options,(function(e,n){return i("div",{key:n,staticClass:"fc_each_text_option"},[i("el-input",{attrs:{type:t.field.input_type,placeholder:t.field.placeholder},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"option.value"}},[i("el-button",{attrs:{slot:"append",disabled:1==t.options.length,icon:"el-icon-delete"},on:{click:function(e){return t.deleteUrl(n)}},slot:"append"})],1)],1)})),t._v(" "),i("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){return t.addMoreUrl()}}},[t._v("Add More")])],2)}),[],!1,null,null,null).exports,Ds={name:"FormFieldsGroupMapper",props:["field","model"]},qs=Object(a.a)(Ds,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"fc_horizontal_table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.field.local_label))]),t._v(" "),i("th",[t._v(t._s(t.field.remote_label))])])]),t._v(" "),i("tbody",t._l(t.field.fields,(function(e,n){return i("tr",{key:n},[i("td",[t._v(t._s(e.label))]),t._v(" "),i("td",[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"Select Value"},model:{value:t.model[n],callback:function(e){t.$set(t.model,n,e)},expression:"model[fieldKey]"}},t._l(t.field.value_options,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})),1)],1)])})),0)])}),[],!1,null,null,null).exports,As={name:"WPUrlSelector",props:["field","value"],data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}}},Is=Object(a.a)(As,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",{attrs:{type:"url",placeholder:t.field.placeholder},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports,Ns={name:"AjaxSelector",props:["field","value"],data:function(){return{model:this.value,loading:!1,options:[]}},watch:{model:function(t){this.$emit("input",t)}},methods:{fetchOptions:function(t){var e=this;t&&t.length<2||(this.loading=!0,this.$get("reports/ajax-options",{search:t,values:this.model,option_key:this.field.option_key}).then((function(t){e.options=t.options})).catch((function(t){e.handleError(t)})).finally((function(){e.loading=!1})))}},mounted:function(){this.fetchOptions("")}},Ls=Object(a.a)(Ns,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{multiple:t.field.is_multiple,filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":t.fetchOptions},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.options,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)}),[],!1,null,null,null).exports;function Ms(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function zs(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ms(Object(i),!0).forEach((function(e){Rs(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ms(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Rs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Bs={name:"ConditionGroup",props:["field","value"],components:{OptionSelector:pt,AjaxSelector:Ls},data:function(){return{model:this.value}},computed:{flat_properties:function(){var t={};return this.each(this.field.condition_properties,(function(e){t=zs(zs({},t),e.options)})),t}},watch:{model:function(t){this.$emit("input",t)}},methods:{addCondition:function(t){this.model[t].conditions.push({data_key:"",operator:"=",data_value:""})},deleteProp:function(t,e){this.model[t].conditions.splice(e,1)},removeGroup:function(t){this.model.splice(t,1)},addConditionalGroup:function(){this.model.push({conditions:[{data_key:"",operator:"=",data_value:""}],match_type:"match_all"})}}},Vs=Bs,Us=(i(310),Object(a.a)(Vs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_condition_groups"},[t._l(t.model,(function(e,n){return i("div",{key:n,staticClass:"fc_condition_wrapper"},[0!=n?i("div",{staticClass:"fc_cond_and"},[t._v("OR")]):t._e(),t._v(" "),i("div",{staticClass:"fc_condition_group"},[i("table",{staticClass:"wp-list-table widefat fixed striped table-view-list posts"},[i("thead",[i("tr",[i("th",{staticStyle:{width:"180px"}},[t._v(t._s(t.field.labels.data_key_label))]),t._v(" "),i("th",{staticStyle:{width:"180px"}},[t._v(t._s(t.field.labels.condition_label))]),t._v(" "),i("th",[t._v(t._s(t.field.labels.data_value_label))]),t._v(" "),i("th",{staticStyle:{width:"90px"}})])]),t._v(" "),i("tbody",t._l(e.conditions,(function(s,a){return i("tr",{key:a},[i("td",[i("el-select",{attrs:{clearable:"",placeholder:"Select",size:"small"},on:{change:function(t){s.operator="=",s.data_value=""}},model:{value:s.data_key,callback:function(e){t.$set(s,"data_key",e)},expression:"condition.data_key"}},t._l(t.field.condition_properties,(function(e,n){return i("el-option-group",{key:n,attrs:{label:e.label}},t._l(e.options,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t.label}})})),1)})),1)],1),t._v(" "),i("td",[s.data_key?i("el-select",{attrs:{clearable:"",placeholder:t.$t("Select Condition"),size:"small"},model:{value:s.operator,callback:function(e){t.$set(s,"operator",e)},expression:"condition.operator"}},[t.flat_properties[s.data_key].multiple?[i("el-option",{attrs:{value:"=",label:t.$t("Match any Of")}}),t._v(" "),i("el-option",{attrs:{value:"match_all",label:t.$t("Match all of")}}),t._v(" "),i("el-option",{attrs:{value:"match_none_of",label:t.$t("Match none of")}})]:[i("el-option",{attrs:{value:"=",label:t.$t("Equal")}}),t._v(" "),i("el-option",{attrs:{value:"!=",label:t.$t("Not Equal")}}),t._v(" "),"text"==t.flat_properties[s.data_key].type?[i("el-option",{attrs:{value:"contains",label:t.$t("Contains")}}),t._v(" "),i("el-option",{attrs:{value:"doNotContains",label:t.$t("Not Contains")}}),t._v(" "),i("el-option",{attrs:{value:"startsWith",label:t.$t("Starts With")}}),t._v(" "),i("el-option",{attrs:{value:"endsWith",label:t.$t("Ends With")}})]:"number"==t.flat_properties[s.data_key].type?[i("el-option",{attrs:{value:">",label:t.$t("Greater Than")}}),t._v(" "),i("el-option",{attrs:{value:"<",label:t.$t("Less Than")}})]:t._e()]],2):t._e()],1),t._v(" "),i("td",[s.data_key&&s.operator?i("div",["text"==t.flat_properties[s.data_key].type?i("el-input",{attrs:{size:"small",type:"text"},model:{value:s.data_value,callback:function(e){t.$set(s,"data_value",e)},expression:"condition.data_value"}}):"number"==t.flat_properties[s.data_key].type?i("el-input",{attrs:{size:"small",type:"number"},model:{value:s.data_value,callback:function(e){t.$set(s,"data_value",e)},expression:"condition.data_value"}}):"select"==t.flat_properties[s.data_key].type?i("el-select",{attrs:{size:"small",clearable:""},model:{value:s.data_value,callback:function(e){t.$set(s,"data_value",e)},expression:"condition.data_value"}},t._l(t.flat_properties[s.data_key].options,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1):"option_selector"==t.flat_properties[s.data_key].type?[i("option-selector",{attrs:{field:{placeholder:"Select",is_multiple:t.flat_properties[s.data_key].multiple,option_key:t.flat_properties[s.data_key].option_key}},model:{value:s.data_value,callback:function(e){t.$set(s,"data_value",e)},expression:"condition.data_value"}})]:"rest_selector"==t.flat_properties[s.data_key].type?[i("ajax-selector",{attrs:{field:{placeholder:"Select",is_multiple:t.flat_properties[s.data_key].multiple,option_key:t.flat_properties[s.data_key].option_key}},model:{value:s.data_value,callback:function(e){t.$set(s,"data_value",e)},expression:"condition.data_value"}})]:t._e()],2):i("div",[t._v("Select data source and operator first")])]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus"},on:{click:function(e){return t.addCondition(n)}}}),t._v(" "),i("el-button",{attrs:{disabled:1==e.conditions.length,size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.deleteProp(n,a)}}})],1)])})),0)]),t._v(" "),t.field.hide_match_type?i("p",{staticStyle:{margin:"0",padding:"0"}},[t._v("Inside group conditions are "),i("b",[t._v("match all")])]):i("div",[t._m(0,!0),t._v(" "),i("el-radio-group",{model:{value:e.match_type,callback:function(i){t.$set(e,"match_type",i)},expression:"group.match_type"}},[i("el-radio",{attrs:{label:"match_all"}},[t._v(t._s(t.field.labels.match_type_all_label))]),t._v(" "),i("el-radio",{attrs:{label:"match_any"}},[t._v(t._s(t.field.labels.match_type_any_label))])],1)],1),t._v(" "),t.model.length>1?i("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.removeGroup(n)}}},[t._v("Delete this group")]):t._e()],1)])})),t._v(" "),t.field.is_multiple_grouping?i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(e){return t.addConditionalGroup()}}},[t._v("Add Another Conditional Group")])],1):t._e()],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("Match Type")])])}],!1,null,null,null)),Hs=Us.exports,Gs={name:"ConditionGroup",props:["field","value"],components:{OptionSelector:pt},data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}},methods:{addProperty:function(){this.model.push({data_key:"",data_value:""})},deleteProp:function(t){this.model.splice(t,1)}}},Ws=Gs,Js=Object(a.a)(Ws,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_value_property_group"},[i("table",{staticClass:"wp-list-table widefat fixed striped table-view-list posts"},[i("thead",[i("tr",[i("th",{staticStyle:{width:"180px"}},[t._v(t._s(t.field.data_key_label))]),t._v(" "),i("th",[t._v(t._s(t.field.data_value_label))]),t._v(" "),i("th",{staticStyle:{width:"50px"}})])]),t._v(" "),i("tbody",t._l(t.model,(function(e,n){return i("tr",{key:n},[i("td",[i("el-select",{attrs:{clearable:"",placeholder:t.$t("Select"),size:"small"},on:{change:function(t){e.data_value,delete e.data_operation}},model:{value:e.data_key,callback:function(i){t.$set(e,"data_key",i)},expression:"condition.data_key"}},t._l(t.field.property_options,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t.label}})})),1)],1),t._v(" "),i("td",[e.data_key?i("div",["text"==t.field.property_options[e.data_key].type?i("el-input",{attrs:{size:"small",type:"text"},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}}):"number"==t.field.property_options[e.data_key].type?["yes"==t.field.support_operations?[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:18}},[i("el-input",{staticClass:"input-with-select",attrs:{size:"small",type:"number"},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}})],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-select",{attrs:{size:"mini",placeholder:"Replace Value"},model:{value:e.data_operation,callback:function(i){t.$set(e,"data_operation",i)},expression:"condition.data_operation"}},[i("el-option",{attrs:{value:"",label:"Replace Value"}}),t._v(" "),i("el-option",{attrs:{value:"subtract",label:"Subtract Value"}}),t._v(" "),i("el-option",{attrs:{value:"add",label:"Add Value"}})],1)],1)],1)]:i("el-input",{staticClass:"input-with-select",attrs:{size:"small",type:"number"},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}})]:"select"==t.field.property_options[e.data_key].type?["yes"==t.field.support_operations&&t.field.property_options[e.data_key].multiple?[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:18}},[i("el-select",{attrs:{size:"small",clearable:"",multiple:t.field.property_options[e.data_key].multiple},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}},t._l(t.field.property_options[e.data_key].options,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),i("el-col",{attrs:{span:6}},[i("el-select",{attrs:{size:"mini",placeholder:"Replace Value"},model:{value:e.data_operation,callback:function(i){t.$set(e,"data_operation",i)},expression:"condition.data_operation"}},[i("el-option",{attrs:{value:"",label:"Replace Options"}}),t._v(" "),i("el-option",{attrs:{value:"subtract",label:"Subtract Options"}}),t._v(" "),i("el-option",{attrs:{value:"add",label:"Add Options"}})],1)],1)],1)]:i("el-select",{attrs:{size:"small",clearable:"",multiple:t.field.property_options[e.data_key].multiple},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}},t._l(t.field.property_options[e.data_key].options,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)]:"option_selector"==t.field.property_options[e.data_key].type?[i("option-selector",{attrs:{field:{placeholder:"Select",is_multiple:t.field.property_options[e.data_key].multiple,option_key:t.field.property_options[e.data_key].option_key}},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}})]:t._e()],2):t._e()]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{disabled:1==t.model.length,size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.deleteProp(n)}}})],1)])})),0)]),t._v(" "),i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus"},on:{click:function(e){return t.addProperty()}}},[t._v("\n            "+t._s(t.$t("Add More"))+"\n        ")])],1)])}),[],!1,null,null,null),Ys=Js.exports,Ks={name:"TextValueMultiProperties",props:["field","value"],components:{InputTextPopper:tt},data:function(){return{model:this.value}},watch:{model:function(t){this.$emit("input",t)}},methods:{addProperty:function(){this.model.push({data_key:"",data_value:""})},deleteProp:function(t){this.model.splice(t,1)}}},Qs=Ks,Zs=Object(a.a)(Qs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_value_property_group"},[i("table",{staticClass:"wp-list-table widefat fixed striped table-view-list posts"},[i("thead",[i("tr",[i("th",{staticStyle:{width:"180px"}},[t._v(t._s(t.field.data_key_label))]),t._v(" "),i("th",[t._v(t._s(t.field.data_value_label))]),t._v(" "),i("th",{staticStyle:{width:"50px"}})])]),t._v(" "),i("tbody",t._l(t.model,(function(e,n){return i("tr",{key:n},[i("td",[i("el-input",{attrs:{placeholder:t.field.data_key_placeholder,type:"text"},model:{value:e.data_key,callback:function(i){t.$set(e,"data_key",i)},expression:"condition.data_key"}})],1),t._v(" "),i("td",["text-popper"==t.field.value_input_type?[i("input-text-popper",{attrs:{field:{placeholder:t.field.data_value_placeholder,popper_class:"fc_limit_height"}},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}})]:i("el-input",{attrs:{type:"text",placeholder:t.field.data_value_placeholder},model:{value:e.data_value,callback:function(i){t.$set(e,"data_value",i)},expression:"condition.data_value"}})],2),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{disabled:1==t.model.length,size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.deleteProp(n)}}})],1)])})),0)]),t._v(" "),i("div",{staticClass:"text-align-right"},[i("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus"},on:{click:function(e){return t.addProperty()}}},[t._v("\n            "+t._s(t.$t("Add More"))+"\n        ")])],1)])}),[],!1,null,null,null),Xs=Zs.exports,ta={name:"FormField",props:["value","field","options"],components:{MultiTextOptions:Fs,EmailComposer:wn,FormGroupMapper:qs,FormManyDropDownMapper:Ct,WpUrlSelector:Is,OptionSelector:pt,ConditionGroups:Hs,InputValueProperties:Ys,WpBaseEditor:R,TextValueMultiProperties:Xs,InputTextPopper:tt,AjaxSelector:Ls},data:function(){return{model:this.value}},watch:{model:{deep:!0,handler:function(t){this.$emit("input",t)}}},methods:{saveAndReload:function(){var t=this;this.$nextTick((function(){t.$emit("save_reload")}))}}},ea=ta,ia=Object(a.a)(ea,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form-item",[t.field.label?i("template",{slot:"label"},[t._v("\n        "+t._s(t.field.label)+"\n        "),t.field.help?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.field.help,placement:"top-start"}},[i("i",{staticClass:"el-icon el-icon-info"})]):t._e()],1):t._e(),t._v(" "),"option_selectors"==t.field.type?[i("option-selector",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"multi-select"==t.field.type||"select"==t.field.type?[i("el-select",{attrs:{multiple:"multi-select"==t.field.type,placeholder:t.field.placeholder,clearable:"",filterable:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})),1)]:"radio"==t.field.type?[i("el-radio-group",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.title)+"\n            ")])})),1)]:"input-number"==t.field.type?[i("el-input-number",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"input-text"==t.field.type?[i("el-input",{attrs:{readonly:t.field.readonly,placeholder:t.field.placeholder},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"input-text-popper"==t.field.type?[i("input-text-popper",{attrs:{field:t.field,placeholder:t.field.placeholder},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"yes_no_check"==t.field.type?[i("el-checkbox",{attrs:{"true-label":"yes","false-label":"no"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t._v(t._s(t.field.check_label))])]:"grouped-select"==t.field.type?[i("el-select",{attrs:{multiple:t.field.is_multiple,placeholder:t.field.placeholder,clearable:"",filterable:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(e){return i("el-option-group",{key:e.slug,attrs:{label:e.title}},t._l(e.options,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})),1)})),1)]:"multi_text_options"==t.field.type?[i("multi-text-options",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"email_campaign_composer"==t.field.type?[i("email-composer",{staticClass:"fc_into_modal",attrs:{enable_test:!0,disable_fixed:!0,campaign:t.model,label_align:"top"}})]:"reload_field_selection"==t.field.type?[i("el-select",{attrs:{multiple:"multi-select"==t.field.type,placeholder:t.field.placeholder,clearable:"",filterable:""},on:{change:function(e){return t.saveAndReload()}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.field.options,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})),1)]:"form-group-mapper"==t.field.type?[i("form-group-mapper",{attrs:{field:t.field,model:t.model}})]:"form-many-drop-down-mapper"==t.field.type?[i("form-many-drop-down-mapper",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"html"==t.field.type?[i("div",{domProps:{innerHTML:t._s(t.field.info)}})]:"url_selector"==t.field.type?[i("wp-url-selector",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"date_time"==t.field.type?[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:t.field.placeholder,type:"datetime"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"condition_groups"==t.field.type?[i("condition-groups",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"input_value_pair_properties"==t.field.type?[i("input-value-properties",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"text-value-multi-properties"==t.field.type?[i("text-value-multi-properties",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"html_editor"==t.field.type?[i("wp-base-editor",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:"rest_selector"==t.field.type?[i("ajax-selector",{attrs:{field:t.field},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})]:[i("pre",[t._v(t._s(t.field))])],t._v(" "),t.field.inline_help?i("p",{domProps:{innerHTML:t._s(t.field.inline_help)}}):t._e()],2)}),[],!1,null,null,null),na=ia.exports,sa={name:"FieldEditor",components:{FormField:na},props:["data","settings","options","show_controls","title_badge"],methods:{saveFunnelSequences:function(){this.$emit("save",1)},deleteFunnelSequences:function(){this.$emit("deleteSequence",1)},movePosition:function(t){this.$emit("movePosition",t)},compare:function(t,e,i){switch(e){case"=":return t===i;case"!=":return t!==i}},dependancyPass:function(t){if(t.dependency){var e=t.dependency.depends_on.split("/").reduce((function(t,e){return t[e]}),this.data);return!!this.compare(t.dependency.value,t.dependency.operator,e)}return!0},saveAndReload:function(){this.$emit("save_reload")}}},aa=sa,oa=Object(a.a)(aa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{attrs:{data:t.data,"label-position":"top"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.settings.title,expression:"settings.title"}],staticClass:"fluentcrm_funnel_header"},[i("h3",[t._v("\n            "+t._s(t.settings.title)+"\n            "),t.title_badge?i("span",{staticClass:"ff_funnel_badge"},[t._v(t._s(t.title_badge))]):t._e()]),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.settings.sub_title)}})]),t._v(" "),[t._t("after_header")],t._v(" "),i("div",{staticClass:"fc_funnerl_editor fc_block_white"},t._l(t.settings.fields,(function(e,n){return i("div",{key:n,class:e.wrapper_class},[t.dependancyPass(e)?[i("form-field",{attrs:{options:t.options,field:e},on:{save_reload:function(e){return t.saveAndReload()}},model:{value:t.data[n],callback:function(e){t.$set(t.data,n,e)},expression:"data[fieldKey]"}})]:t._e()],2)})),0),t._v(" "),t.show_controls?i("div",{staticClass:"fluentcrm-sequence_control"},[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.saveFunnelSequences(!1)}}},[t._v("\n            "+t._s(t.$t("Save Settings"))+"\n        ")]),t._v(" "),i("div",{staticClass:"fluentcrm_pull_right"},[i("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.deleteFunnelSequences(!1)}}})],1)],1):t._e()],2)}),[],!1,null,null,null),ra=oa.exports,la={name:"blockChoice",props:["blocks","condition_type"],watch:{condition_type:function(){this.selectType="action"}},computed:{current_items:function(){var t=this;if("all"==this.selectType){var e={action:{title:"Actions",categories:{}},benchmark:{title:"Goals / Benchmark",categories:{}},conditional:{title:"Conditionals",categories:{}}};return this.each(this.blocks,(function(t,i){if(e[t.type]){var n=t.category||"Other";e[t.type].categories[n]||(e[t.type].categories[n]={title:n,items:{}}),e[t.type].categories[n].items[i]=t}})),e}var i={title:"",categories:{}};return this.each(this.blocks,(function(e,n){if(e.type===t.selectType){var s=e.category||"Other";i.categories[s]||(i.categories[s]={title:s,items:{}}),i.categories[s].items[n]=e}})),{items:i}}},data:function(){return{selectType:"action"}},methods:{insert:function(t,e){if(e)return this.$alert('<p><strong>This block require pro version of FluentCRM</strong></p><p style="line-height: 22px; margin-bottom: 15px !important;">Please download and install FluentCRM Pro to activate this block</p><p><a class="el-button el-button--danger" :href="'+this.appVars.crm_pro_url+'" target="_blank" rel="noopener">Get FluentCRM Pro</a></p>',"Require FluentCRM Pro",{dangerouslyUseHTMLString:!0,showConfirmButton:!1}),!1;this.$emit("insert",t)}}},ca=Object(a.a)(la,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_block_choice_wrapper"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:4}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","default-active":t.selectType},on:{select:function(e){t.selectType=e}}},[i("el-menu-item",{attrs:{index:"action"}},[i("img",{staticClass:"fc_choice_icon",attrs:{src:t.appVars.images_url+"funnel_icons/actions.svg"}}),t._v(" "),i("span",[t._v(t._s(t.$t("Actions")))])]),t._v(" "),t.condition_type?t._e():[i("el-menu-item",{attrs:{index:"benchmark"}},[i("img",{staticClass:"fc_choice_icon",attrs:{src:t.appVars.images_url+"funnel_icons/benchmarks.svg"}}),t._v(" "),i("span",[t._v(t._s(t.$t("Goals")))])]),t._v(" "),i("el-menu-item",{attrs:{index:"conditional"}},[i("img",{staticClass:"fc_choice_icon",attrs:{src:t.appVars.images_url+"funnel_icons/conditions.svg"}}),t._v(" "),i("span",[t._v(t._s(t.$t("Conditionals")))])]),t._v(" "),i("el-menu-item",{attrs:{index:"all"}},[i("i",{staticClass:"el-icon el-icon-menu"}),t._v(" "),i("span",[t._v(t._s(t.$t("View All")))])])]],2)],1),t._v(" "),i("el-col",{attrs:{span:20}},[i("div",{staticClass:"fc_choice_blocks"},["action"==t.selectType?i("div",{staticClass:"fc_choice_header"},[i("h2",{staticClass:"fc_choice_title"},[t._v(t._s(t.$t("Action Blocks")))]),t._v(" "),i("p",[t._v(t._s(t.$t("_Bl_Actions_battywtf")))])]):"benchmark"==t.selectType?i("div",{staticClass:"fc_choice_header"},[i("h2",{staticClass:"fc_choice_title"},[t._v(t._s(t.$t("Goals / Trigger Blocks (Benchmark)")))]),t._v(" "),i("p",[t._v(t._s(t.$t("_Bl_These_aygityuwda")))])]):"conditional"==t.selectType?i("div",{staticClass:"fc_choice_header"},[i("h2",{staticClass:"fc_choice_title"},[t._v(t._s(t.$t("Condition Blocks")))]),t._v(" "),i("p",[t._v(t._s(t.$t("_Bl_Use_tbtcspfysc")))])]):"all"==t.selectType?i("div",{staticClass:"fc_choice_header"}):t._e(),t._v(" "),t._l(t.current_items,(function(e,n){return i("div",{key:n,class:["fc_choice_wrap_"+n,"fc_choice_selected_"+t.selectType]},[e.title?i("h2",{staticClass:"fc_choice_title"},[t._v(t._s(e.title))]):t._e(),t._v(" "),t._l(e.categories,(function(e,n){return i("div",{key:n,staticClass:"fc_choice_category"},[!e.title||"action"!=t.selectType&&"all"!=t.selectType?t._e():i("h3",[t._v(t._s(e.title))]),t._v(" "),i("el-row",{staticClass:"fc_choice_row",class:"fc_items_"+t.selectType,attrs:{gutter:20}},t._l(e.items,(function(e,n){return i("el-col",{key:n,staticClass:"fc_choice_block",attrs:{sm:24,xs:24,md:8,lg:8}},[i("div",{staticClass:"fc_choice_card",on:{click:function(i){return t.insert(n,e.is_pro)}}},[e.is_pro?i("div",{staticClass:"fc_pro_ribbon"},[t._v(t._s(t.$t("Pro")))]):t._e(),t._v(" "),e.icon?i("img",{attrs:{src:e.icon,width:"32",height:"32"}}):t._e(),t._v(" "),i("h3",[t._v(t._s(e.title))]),t._v(" "),i("p",{domProps:{innerHTML:t._s(e.description)}})])])})),1)],1)}))],2)}))],2)])],1)],1)}),[],!1,null,null,null),ua=ca.exports,da={name:"reportWidget",props:["stat"]},_a=Object(a.a)(da,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.stat?i("div",[i("el-tag",{attrs:{size:"mini",effect:"plain"}},[i("i",{staticClass:"el-icon el-icon-user"}),t._v("\n        "+t._s(t.stat.count)+"\n    ")]),t._v(" "),i("el-tag",{attrs:{size:"mini",effect:"plain"}},[t._v("\n        "+t._s(t.stat.percent)+"%\n    ")]),t._v(" "),t.stat.drop_percent?i("el-tag",{attrs:{size:"mini",type:"danger",effect:"plain"}},[i("i",{staticClass:"el-icon el-icon-bottom"}),t._v("\n        "+t._s(t.stat.drop_percent)+"%\n    ")]):t._e()],1):t._e()}),[],!1,null,null,null),pa=_a.exports,ma={name:"DomPath",props:["from","to","label","side"],data:function(){return{css:{}}},methods:{generateCss:function(){var t=jQuery(this.$el).closest(".block_item_holder_conditional"),e=t.offset(),i=t.find("."+this.from).offset(),n=t.find("."+this.to).offset().top-i.top,s={position:"absolute",border:"2px solid #2f2925",width:"81px",left:("left"==this.side?i.left-e.left-72:i.left-e.left)+"px",top:"50px",height:n+"px",borderBottom:"0"};"left"==this.side?(s.borderRight="0",s.borderTopLeftRadius="20px"):(s.borderLeft="0",s.borderTopRightRadius="20px"),this.css=s}},mounted:function(){var t=this;this.generateCss(),jQuery(window).on("resize",(function(){t.generateCss()}))}},fa=ma,ha=Object(a.a)(fa,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fc_dom_path",class:"fc_dom_path_"+this.side,style:this.css},[this._v(this._s(this.label))])}),[],!1,null,null,null),ga=ha.exports,va={name:"ChildBlocks",components:{ReportWidget:pa,BlockChoice:ua,FieldEditor:ra},props:["blocks","block_fields","all_blocks","show_inline_report","getBlockDescription","getBlockIcon","stats","options"],data:function(){return{show_choice_modal:!1,editing_block:!1,editing_modal:!1,editing_index:0}},computed:{current_block_fields:function(){if(!this.editing_block)return{};var t=this.editing_block.action_name;return this.block_fields[t]}},methods:{addBlock:function(t){var e=this,i=JSON.parse(JSON.stringify(this.all_blocks[t]));i.action_name=t,this.blocks.push(i),this.show_choice_modal=!1;var n=this.blocks.length-1;this.editing_index=n,this.editing_block=JSON.parse(JSON.stringify(this.blocks[n])),this.$nextTick((function(){e.editing_modal=!0}))},save:function(){this.$set(this.blocks,this.editing_index,this.editing_block),this.editing_modal=!1,this.editing_block=!1,this.$emit("save")},deleteBlock:function(){this.blocks.splice(this.editing_index,1),this.editing_modal=!1,this.editing_block=!1,this.$emit("save")},setCurrentBlock:function(t,e){var i=this;this.editing_block=JSON.parse(JSON.stringify(t)),this.editing_index=e,this.$nextTick((function(){i.editing_modal=!0}))},moveToPosition:function(t,e){var i=e-1;"down"===t&&(i=e+1);var n=this.blocks,s=n[e];n.splice(e,1),n.splice(i,0,s),this.$set(this,"blocks",n),this.$emit("save")}}},ba=va,ya=(i(312),Object(a.a)(ba,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_child_blocks"},[t._l(t.blocks,(function(e,n){return i("div",{key:n,staticClass:"fluentcrm_block",class:"fluentcrm_block_"+e.action_name},[i("div",{staticClass:"fluentcrm_blockin",style:{backgroundImage:t.getBlockIcon(e)},on:{click:function(i){return t.setCurrentBlock(e,n)}}},[i("div",{staticClass:"fluentcrm_block_title"},[t._v("\n                "+t._s(e.title)+"\n            ")]),t._v(" "),i("div",{staticClass:"fluentcrm_block_desc"},[t._v("\n                "+t._s(t.getBlockDescription(e))+"\n            ")]),t._v(" "),t.show_inline_report?i("report-widget",{attrs:{stat:t.stats[e.id]}}):t._e()],1),t._v(" "),i("el-button-group",{staticClass:"fc_block_controls"},[i("el-button",{attrs:{disabled:0==n,size:"mini",icon:"el-icon-arrow-up"},on:{click:function(e){return t.moveToPosition("up",n)}}}),t._v(" "),i("el-button",{attrs:{disabled:n+1==t.blocks.length,size:"mini",icon:"el-icon-arrow-down"},on:{click:function(e){return t.moveToPosition("down",n)}}})],1)],1)})),t._v(" "),i("el-button",{staticStyle:{width:"100%"},attrs:{icon:"el-icon-plus",type:"default"},on:{click:function(e){t.show_choice_modal=!0}}},[t._v("\n        Add Action\n    ")]),t._v(" "),i("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.$t("Add Action"),visible:t.show_choice_modal,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.show_choice_modal=e}}},[i("block-choice",{attrs:{condition_type:"action",blocks:t.all_blocks},on:{insert:t.addBlock}})],1),t._v(" "),i("el-dialog",{staticClass:"fc_funnel_block_modal",attrs:{"close-on-click-modal":!1,visible:t.editing_modal,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.editing_modal=e}}},[i("div",{staticClass:"fluentcrm_block_editor_body"},[t.editing_block&&t.editing_modal?[i("field-editor",{key:t.editing_index+"_"+t.editing_block.action_name,attrs:{title_badge:t.editing_block.type,show_controls:!0,data:t.editing_block.settings,options:t.options,is_first:0===t.editing_index,is_last:t.editing_index===t.blocks.length-1,settings:t.current_block_fields},on:{save:function(e){return t.save()},deleteSequence:function(e){return t.deleteBlock()}},scopedSlots:t._u([{key:"after_header",fn:function(){return[i("el-form-item",{attrs:{label:t.$t("Internal Label")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Label")},model:{value:t.editing_block.title,callback:function(e){t.$set(t.editing_block,"title",e)},expression:"editing_block.title"}})],1)]},proxy:!0}],null,!1,4218782535)})]:t._e()],2)])],2)}),[],!1,null,null,null)),wa=ya.exports,ka={name:"TriggerChanger",props:["funnel"],data:function(){return{funnel_data:JSON.parse(JSON.stringify(this.funnel)),triggers:[],fetching:!0,saving:!1}},methods:{getTriggers:function(){var t=this;this.fetching=!0,this.$get("funnels/triggers").then((function(e){t.triggers=e.triggers})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))},changeTrigger:function(){var t=this;this.saving=!0,this.$put("funnels/".concat(this.funnel.id,"/change-trigger"),{title:this.funnel_data.title,trigger_name:this.funnel_data.trigger_name}).then((function(e){t.$notify.success(e.message),t.$emit("refreshTrigger",e.funnel)})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))}},mounted:function(){this.getTriggers()}},xa=ka,$a=Object(a.a)(xa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fcrm_funnel_changer"},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching,expression:"fetching"}],attrs:{data:t.funnel_data,"label-position":"top"}},[i("el-form-item",[i("template",{slot:"label"},[t._v("\n                Select New Automation Trigger\n                "),i("p",[t._v("You may change the trigger for this automation. Once you change, Please reconfigure the trigger settings")])]),t._v(" "),i("el-select",{attrs:{placeholder:"Select"},model:{value:t.funnel_data.trigger_name,callback:function(e){t.$set(t.funnel_data,"trigger_name",e)},expression:"funnel_data.trigger_name"}},t._l(t.triggers,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:e}})})),1),t._v(" "),t.triggers[t.funnel_data.trigger_name]?i("p",{domProps:{innerHTML:t._s(t.triggers[t.funnel_data.trigger_name].description)}}):t._e()],2),t._v(" "),t.funnel_data.trigger_name!=t.funnel.trigger_name?[i("el-form-item",[i("template",{slot:"label"},[t._v("\n                    Automation Trigger Title\n                ")]),t._v(" "),i("el-input",{attrs:{type:"text",placeholder:"Trigger Title"},model:{value:t.funnel_data.title,callback:function(e){t.$set(t.funnel_data,"title",e)},expression:"funnel_data.title"}})],2),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.saving,expression:"saving"}],attrs:{type:"primary"},on:{click:function(e){return t.changeTrigger()}}},[t._v("Change Automation Trigger")])]:t._e()],2)],1)}),[],!1,null,null,null),Ca=$a.exports,Sa=i(20),Ea={name:"FunnelEditor",props:["funnel_id","options"],components:{FieldEditor:ra,FormField:na,BlockChoice:ua,ReportWidget:pa,DomPath:ga,ChildBlocks:wa,TriggerChanger:Ca},data:function(){return{funnel:!1,working:!1,blocks:{},actions:[],funnel_sequences:[],block_fields:{},loading:!1,current_block:!1,current_block_index:!1,is_editing_root:!0,show_choice_modal:!1,choice_modal_index:"last",show_blocK_editor:!1,is_new_funnel:"yes"===this.$route.query.is_new,stats:{},show_inline_report:!1,show_trigger_changer:!1}},computed:{funnelTitle:function(){var t=" ("+this.funnel.status+")";return"draft"==this.funnel.status&&(t='<span class="funnel_trigger_inst">'+t+"</span>"),this.funnel.title+t},action:function(){if(!this.actions)return{};var t=this.funnel.key;return this.actions[t]||{}},current_block_fields:function(){if(!this.current_block)return{};var t=this.current_block.action_name;return this.block_fields[t]}},methods:{fetchFunnel:function(){var t=this;this.loading=!0,this.$get("funnels/".concat(this.funnel_id),{with:["blocks","block_fields","funnel_sequences"]}).then((function(e){e.funnel.trigger?(t.funnel=e.funnel,t.block_fields=e.block_fields||{},t.blocks=e.blocks,t.actions=e.actions,t.funnel_sequences=e.funnel_sequences,t.current_block_index?(t.current_block=!1,t.$nextTick((function(){t.current_block=t.funnel_sequences[t.current_block_index]}))):t.is_new_funnel&&t.showRootSettings(),t.is_new_funnel=!1):t.$notify.error("Attached Trigger could not be found")})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1,t.working=!1}))},addBlock:function(t){var e=this,i=JSON.parse(JSON.stringify(this.blocks[t])),n=this.choice_modal_index;"last"===n?n=this.funnel_sequences.length:n+=1,i.settings||(i.settings={}),"conditional"==i.type&&(i.children={yes:[],no:[]}),i.action_name=t,this.funnel_sequences.splice(n,0,i),this.current_block=!1,this.current_block_index=!1,this.$nextTick((function(){e.current_block=e.funnel_sequences[n],e.current_block_index=n})),i.reload_on_insert&&this.saveAndFetchSettings(),this.show_blocK_editor=!0,this.show_choice_modal=!1},handleBlockAdd:function(t){this.choice_modal_index=t,this.show_choice_modal=!0},setCurrentBlock:function(t,e){this.is_editing_root=!1,this.current_block=t,this.current_block_index=e,this.show_blocK_editor=!0},deleteFunnelSequence:function(){var t=this.current_block_index;this.is_editing_root=!1,this.current_block=!1,this.current_block_index=!1,this.show_blocK_editor=!1,this.funnel_sequences.splice(t,1),this.saveFunnelSequences()},showRootSettings:function(){this.current_block=!1,this.current_block_index=!1,this.is_editing_root=!0,this.show_blocK_editor=!0},saveFunnelSequences:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.fluencrm_fallback_funnel_ajax)return this.fallbackSaveFunnelSequence(t,i);this.working=!0,this.$post("funnels/".concat(this.funnel.id,"/sequences"),{funnel_settings:JSON.stringify(this.funnel.settings),conditions:JSON.stringify(this.funnel.conditions),funnel_title:this.funnel.title,status:this.funnel.status,sequences:JSON.stringify(this.funnel_sequences)}).then((function(t){i?i(t):(e.$set(e,"funnel_sequences",t.sequences),e.$notify.success(t.message),e.show_blocK_editor=!1,e.current_block=!1,e.current_block_index=!1)})).catch((function(n){"rest_no_route"==n.code?(e.$notify.error("Trying fallback save. Please Wait..."),e.fallbackSaveFunnelSequence(t,i)):e.handleError(n)})).finally((function(){i||(e.working=!1)}))},fallbackSaveFunnelSequence:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.fluencrm_fallback_funnel_ajax=!0,this.working=!0,window.jQuery.post(window.ajaxurl,{action:"fluentcrm_save_funnel_sequence_ajax",funnel_id:this.funnel.id,funnel_settings:JSON.stringify(this.funnel.settings),conditions:JSON.stringify(this.funnel.conditions),funnel_title:this.funnel.title,status:this.funnel.status,sequences:JSON.stringify(this.funnel_sequences)}).then((function(t){i?i(t):(e.$set(e,"funnel_sequences",t.sequences),e.$notify.success(t.message),e.show_blocK_editor=!1,e.current_block=!1,e.current_block_index=!1)})).fail((function(t){console.log(t),e.handleError(t)})).always((function(){i||(e.working=!1)}))},saveFunnelBlockSequence:function(){var t=this;this.$set(this.funnel_sequences,this.current_block_index,this.current_block),this.$nextTick((function(){t.saveFunnelSequences(!1)}))},moveToPosition:function(t,e){var i=e-1;"down"===t&&(i=e+1);var n=this.funnel_sequences,s=n[e];n.splice(e,1),n.splice(i,0,s),this.$set(this,"funnel_sequences",n),this.saveFunnelSequences()},isEmpty:Sa,getBlockDescription:function(t){var e="";switch(t.action_name){case"send_custom_email":Sa(t.settings.campaign.email_subject)||(e=t.settings.campaign.email_subject);break;case"fluentcrm_wait_times":Sa(t.settings.wait_time_unit)||(e="Wait "+t.settings.wait_time_amount+" "+t.settings.wait_time_unit);break;case"add_contact_to_list":case"detach_contact_from_list":case"fcrm_has_contact_list":if(!Sa(t.settings.lists)){var i=[];this.each(this.options.lists,(function(e){-1!==t.settings.lists.indexOf(e.id)&&i.push(e.title)})),e=i.join(", ")}break;case"add_contact_to_tag":case"detach_contact_from_tag":case"fcrm_has_contact_tag":Sa(t.settings.tags)||(e=this.getTagNames(t.settings.tags));break;case"send_campaign_email":if(!Sa(t.settings.campaign_id)){var n=[];this.each(this.options.campaigns,(function(e){t.settings.campaign_id===e.id&&n.push(e.title)})),e=n.join(", ")}break;case"add_to_email_sequence":if(!Sa(t.settings.sequence_id)){e="Add To Sequence: ";var s=[];this.each(this.options.email_sequences,(function(e){t.settings.sequence_id===e.id&&s.push(e.title)})),e=s.join(", ")}break;default:e=t.description}return e||t.description},getTriggerDescription:function(t){var e="";switch(t.trigger_name){case"fluentcrm_contact_added_to_tags":case"fluentcrm_contact_removed_from_tags":if(Sa(t.settings.tags))return'<span class="funnel_trigger_inst">Set Tag</span>';var i=[];this.each(this.options.tags,(function(e){-1!==t.settings.tags.indexOf(e.id)&&i.push(e.title)})),e=i.join(", ");break;case"fluentcrm_contact_added_to_lists":case"fluentcrm_contact_removed_from_lists":if(Sa(t.settings.lists))return'<span class="funnel_trigger_inst">Set Lists</span>';var n=[];this.each(this.options.lists,(function(e){-1!==t.settings.lists.indexOf(e.id)&&n.push(e.title)})),e=n.join(", ");break;default:e=t.trigger.label}return e||t.trigger.label},getTagNames:function(t){var e=[];return this.each(this.options.tags,(function(i){-1!==t.indexOf(i.id)&&e.push(i.title)})),e.join(", ")},saveAndFetchSettings:function(){var t=this;this.$nextTick((function(){t.saveFunnelSequences(!1,(function(e){t.fetchFunnel()}))}))},gotoReports:function(){this.$router.push({name:"funnel_subscribers",params:{funnel_id:this.funnel_id}})},getBlockIcon:function(t){var e=t.action_name;return this.blocks[e]&&this.blocks[e].icon?"url("+this.blocks[e].icon+")":""},getStats:function(){var t=this;this.$get("funnels/".concat(this.funnel_id,"/report")).then((function(e){var i=e.stats.metrics,n={};t.each(i,(function(t){n[t.sequence_id]=t})),t.stats=n})).catch((function(e){t.handleError(e)})).finally((function(){}))},getBlockClasses:function(t,e){var i=["fc_block_type_"+t.type,"fluentcrm_block_"+t.action_name];return"required"==t.settings.type&&i.push("fc_funnel_benchmark_required"),this.current_block_index===e&&i.push("fluentcrm_block_active"),i},showEditTriggerModal:function(){this.show_trigger_changer=!0},handleTriggerChanged:function(){this.show_trigger_changer=!1,this.is_new_funnel=!0,this.fetchFunnel()}},mounted:function(){this.fetchFunnel(),this.getStats(),this.changeTitle("Edit Funnel")}},Oa=Ea,ja=Object(a.a)(Oa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_settings_wrapper"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"funnels"}}},[t._v("\n                    "+t._s(t.$t("Automation Funnel"))+"\n                ")]),t._v(" "),t.funnel?i("el-breadcrumb-item",[i("el-popover",{attrs:{placement:"right",title:t.funnel.trigger.label,width:"300",trigger:"hover",content:t.funnel.trigger.description}},[i("span",{attrs:{slot:"reference"},domProps:{innerHTML:t._s(t.funnelTitle)},slot:"reference"})])],1):t._e()],1)],1),t._v(" "),t.funnel?i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{staticStyle:{padding:"6px 15px 7px"},attrs:{size:"small",icon:"el-icon-setting"},on:{click:function(e){return t.showEditTriggerModal()}}}),t._v(" "),i("el-checkbox",{attrs:{size:"mini",border:""},model:{value:t.show_inline_report,callback:function(e){t.show_inline_report=e},expression:"show_inline_report"}},[t._v(t._s(t.$t("Stats")))]),t._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.$t("Status"))+": "+t._s(t.funnel.status))]),t._v(" "),i("el-switch",{attrs:{"active-value":"published","inactive-value":"draft"},on:{change:function(e){return t.saveFunnelSequences(!0)}},model:{value:t.funnel.status,callback:function(e){t.$set(t.funnel,"status",e)},expression:"funnel.status"}}),t._v(" "),"published"==t.funnel.status?i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.gotoReports()}}},[t._v("\n                "+t._s(t.$t("View Reports"))+"\n            ")]):t._e()],1):t._e()]),t._v(" "),t.funnel?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.working,expression:"working"}],staticClass:"fluentcrm_body fluentcrm_tile_bg"},[i("div",{staticClass:"fluentcrm_blocks_container"},[i("div",{staticClass:"fluentcrm_blocks_wrapper"},[i("div",{staticClass:"fluentcrm_blocks"},[i("div",{staticClass:"block_item_holder"},[i("div",{staticClass:"fluentcrm_block",class:t.is_editing_root?"fluentcrm_block_active":""},[t.appVars.icons.trigger_icon?i("div",{staticClass:"fluentcrm_blockin",style:{backgroundImage:"url("+t.appVars.icons.trigger_icon+")"},on:{click:function(e){return t.showRootSettings()}}},[i("div",{staticClass:"fluentcrm_block_title"},[t._v("\n                                    "+t._s(t.funnel.title)+"\n                                ")]),t._v(" "),i("div",{staticClass:"fluentcrm_block_desc",domProps:{innerHTML:t._s(t.getTriggerDescription(t.funnel))}}),t._v(" "),t.show_inline_report?i("report-widget",{attrs:{stat:t.stats[0]}}):t._e()],1):t._e()]),t._v(" "),i("div",{staticClass:"block_item_add"},[i("div",{staticClass:"fc_show_plus",on:{click:function(e){return t.handleBlockAdd(-1)}}},[i("i",{staticClass:"el-icon el-icon-circle-plus-outline"})])])]),t._v(" "),t._l(t.funnel_sequences,(function(e,n){return i("div",{key:n,staticClass:"block_item_holder",class:"block_item_holder_"+e.type},[i("div",{staticClass:"fluentcrm_block",class:t.getBlockClasses(e,n)},[i("div",{staticClass:"fluentcrm_blockin",style:{backgroundImage:t.getBlockIcon(e)},on:{click:function(i){return t.setCurrentBlock(e,n)}}},[i("div",{staticClass:"fluentcrm_block_title"},[t._v("\n                                    "+t._s(e.title)+"\n                                ")]),t._v(" "),i("div",{staticClass:"fluentcrm_block_desc"},[t._v("\n                                    "+t._s(t.getBlockDescription(e))+"\n                                ")]),t._v(" "),t.show_inline_report?i("report-widget",{attrs:{stat:t.stats[e.id]}}):t._e()],1),t._v(" "),i("el-button-group",{staticClass:"fc_block_controls"},[i("el-button",{attrs:{disabled:0==n,size:"mini",icon:"el-icon-arrow-up"},on:{click:function(e){return t.moveToPosition("up",n)}}}),t._v(" "),i("el-button",{attrs:{disabled:n+1==t.funnel_sequences.length,size:"mini",icon:"el-icon-arrow-down"},on:{click:function(e){return t.moveToPosition("down",n)}}})],1),t._v(" "),"conditional"===e.type?[i("span",{staticClass:"fc_b_yes_node"}),t._v(" "),i("span",{staticClass:"fc_b_no_node"})]:t._e(),t._v(" "),i("span")],2),t._v(" "),"conditional"==e.type?[i("dom-path",{attrs:{side:"left",label:"No",from:"fc_b_no_node",to:"fc_b_no_node_point"}}),t._v(" "),i("dom-path",{attrs:{side:"right",label:"yes",from:"fc_b_yes_node",to:"fc_b_yes_node_point"}}),t._v(" "),i("div",{staticClass:"block_conditional_wrapper"},[i("div",{staticClass:"block_cond_holder block_cond_no"},[i("span",{staticClass:"fc_b_no_node_point"}),t._v(" "),i("div",{staticClass:"block_cond_inner"},[i("child-blocks",{attrs:{all_blocks:t.blocks,blocks:e.children.no,show_inline_report:t.show_inline_report,getBlockDescription:t.getBlockDescription,getBlockIcon:t.getBlockIcon,stats:t.stats,options:t.options,block_fields:t.block_fields},on:{save:function(e){return t.saveFunnelSequences()}}})],1)]),t._v(" "),i("div",{staticClass:"block_cond_holder block_cond_yes"},[i("span",{staticClass:"fc_b_yes_node_point"}),t._v(" "),i("div",{staticClass:"block_cond_inner"},[i("child-blocks",{attrs:{all_blocks:t.blocks,blocks:e.children.yes,show_inline_report:t.show_inline_report,getBlockDescription:t.getBlockDescription,getBlockIcon:t.getBlockIcon,stats:t.stats,options:t.options,block_fields:t.block_fields},on:{save:function(e){return t.saveFunnelSequences()}}})],1)])]),t._v(" "),i("div",{staticClass:"fc_cond_border_no_top"})]:t._e(),t._v(" "),i("div",{staticClass:"block_item_add"},[i("div",{staticClass:"fc_show_plus",on:{click:function(e){return t.handleBlockAdd(n)}}},[i("i",{staticClass:"el-icon el-icon-circle-plus-outline"})])])],2)}))],2)])])]):t._e(),t._v(" "),i("el-dialog",{staticClass:"fc_funnel_block_modal",attrs:{"close-on-click-modal":!1,visible:t.show_blocK_editor,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.show_blocK_editor=e}}},[i("div",{staticClass:"fluentcrm_block_editor_body"},[t.current_block?[i("field-editor",{key:t.current_block_index+"_"+t.current_block.action_name,attrs:{title_badge:t.trans(t.current_block.type),show_controls:!0,data:t.current_block.settings,options:t.options,is_first:0===t.current_block_index,is_last:t.current_block_index===t.funnel_sequences.length-1,settings:t.current_block_fields},on:{save:function(e){return t.saveFunnelBlockSequence()},deleteSequence:function(e){return t.deleteFunnelSequence()}},scopedSlots:t._u([{key:"after_header",fn:function(){return[i("el-form-item",{attrs:{label:t.$t("Internal Label")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Label")},model:{value:t.current_block.title,callback:function(e){t.$set(t.current_block,"title",e)},expression:"current_block.title"}})],1)]},proxy:!0}],null,!1,3307252594)})]:t.is_editing_root?[i("field-editor",{key:"is_editing_root",attrs:{show_controls:!1,options:t.options,data:t.funnel.settings,settings:t.funnel.settingsFields},on:{save_reload:function(e){return t.saveAndFetchSettings()}},scopedSlots:t._u([{key:"after_header",fn:function(){return[i("el-form-item",{attrs:{label:t.$t("Automation Name")}},[i("el-input",{attrs:{placeholder:t.$t("Automation Name")},model:{value:t.funnel.title,callback:function(e){t.$set(t.funnel,"title",e)},expression:"funnel.title"}})],1)]},proxy:!0}])}),t._v(" "),t.isEmpty(t.funnel.conditions)?t._e():i("el-form",{staticClass:"fc_funnel_conditions fc_block_white",attrs:{"label-position":"top",data:t.funnel.conditions}},[i("h3",[t._v(t._s(t.$t("Conditions")))]),t._v(" "),t._l(t.funnel.conditionFields,(function(e,n){return i("div",{key:n},[i("form-field",{key:n,attrs:{field:e,options:t.options},on:{save_reload:function(e){return t.saveAndFetchSettings()}},model:{value:t.funnel.conditions[n],callback:function(e){t.$set(t.funnel.conditions,n,e)},expression:"funnel.conditions[conditionKey]"}})],1)}))],2),t._v(" "),i("div",{staticClass:"fluentcrm-text-right"},[i("el-button",{attrs:{size:"small",type:"success"},on:{click:function(e){return t.saveFunnelSequences(!1)}}},[t._v("\n                        "+t._s(t.$t("Save Settings"))+"\n                    ")])],1)]:t._e()],2)]),t._v(" "),i("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.$t("Add Action/Goals/Conditions"),visible:t.show_choice_modal,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.show_choice_modal=e}}},[i("block-choice",{attrs:{blocks:t.blocks},on:{insert:t.addBlock}})],1),t._v(" "),i("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.$t("Edit Primary Automation Trigger"),visible:t.show_trigger_changer,"append-to-body":!0,width:"60%"},on:{"update:visible":function(e){t.show_trigger_changer=e}}},[t.show_trigger_changer?i("trigger-changer",{attrs:{funnel:t.funnel},on:{refreshTrigger:function(e){return t.handleTriggerChanged()}}}):t._e()],1)],1)}),[],!1,null,null,null),Ta=ja.exports,Pa={name:"ContactCardPop",props:{subscriber:{type:Object,default:function(){return{}}},display_key:{type:String,default:function(){return"email"}},placement:{type:String,default:function(){return"top-start"}},trigger_type:{type:String,default:function(){return"click"}}},methods:{viewProfile:function(){}}},Fa=Object(a.a)(Pa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",{staticClass:"fc_dark",attrs:{placement:t.placement,width:"400",trigger:t.trigger_type}},[i("div",{staticClass:"fc_profile_card fluentcrm_profile_header fc_profile_pop"},[i("div",{staticClass:"fluentcrm_profile-photo"},[i("img",{attrs:{src:t.subscriber.photo}})]),t._v(" "),i("div",{staticClass:"profile-info"},[i("div",{staticClass:"profile_title"},[i("h3",[t._v(t._s(t.subscriber.full_name))]),t._v(" "),i("div",{staticClass:"profile_action"},[i("el-tag",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t._f("ucFirst")(t.subscriber.status)))])],1)]),t._v(" "),i("p",[t._v(t._s(t.subscriber.email)+" "),t.subscriber.user_id&&t.subscriber.user_edit_url?i("span",[t._v(" | "),i("a",{attrs:{target:"_blank",href:t.subscriber.user_edit_url}},[t._v(t._s(t.subscriber.user_id)+" "),i("span",{staticClass:"dashicons dashicons-external"})])]):t._e()]),t._v(" "),i("p",[t._v("Added "+t._s(t._f("nsHumanDiffTime")(t.subscriber.created_at)))]),t._v(" "),i("router-link",{attrs:{to:{name:"subscriber",params:{id:t.subscriber.id}}}},[t._v("\n                View Full Profile\n            ")])],1)]),t._v(" "),i("span",{class:"fc_trigger_"+t.trigger_type,attrs:{slot:"reference"},slot:"reference"},["photo"==t.display_key?[i("img",{staticClass:"fc_contact_photo",attrs:{title:"Contact ID: "+t.subscriber.id,src:t.subscriber.photo}})]:[t._v("\n             "+t._s(t.subscriber[t.display_key])+"\n        ")]],2)])}),[],!1,null,null,null).exports,Da=i(162),qa=i.n(Da),Aa={name:"individualProgress",props:["sequences","funnel_subscriber","funnel"],computed:{keyedMetrics:function(){return qa()(this.funnel_subscriber.metrics,"sequence_id")},timelines:function(){var t=this,e="Entrance ("+this.funnel.title+")";"pending"===this.funnel_subscriber.status?e+=this.$t("_In_Wfdoc"):"waiting"===this.funnel_subscriber.status&&(e+=this.$t("_In_Wfna"));var i=[{content:e,timestamp:this.nsHumanDiffTime(this.funnel_subscriber.created_at),size:"large",type:"primary",icon:"el-icon-more"}];return this.each(this.sequences,(function(e,n){var s=t.keyedMetrics[e.id]||{},a=e.title;"pending"===a?a+=t.$t("_In_Wfdc"):"waiting"===a&&(a+=t.$t("_In_Wfna")),i.push({content:e.title,timestamp:t.nsHumanDiffTime(s.created_at),color:t.getTimelineColor(s)})})),i}},methods:{getTimelineColor:function(t){return t.status&&"completed"===t.status?"#0bbd87":""}}},Ia=Object(a.a)(Aa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_individual_progress"},[i("el-timeline",t._l(t.timelines,(function(e,n){return i("el-timeline-item",{key:n,attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,timestamp:e.timestamp}},[t._v("\n            "+t._s(e.content)+"\n        ")])})),1)],1)}),[],!1,null,null,null).exports,Na={name:"funnel-reporting-bar",props:["funnel_id","stats"],components:{GrowthChart:{extends:window.VueChartJs.Bar,mixins:[window.VueChartJs.mixins.reactiveProp],props:["stats","maxCumulativeValue"],data:function(){return{options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{id:"byDate",type:"linear",position:"left",gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,userCallback:function(t,e,i){if(Math.floor(t)===t)return t}}},{id:"byCumulative",type:"linear",position:"right",gridLines:{drawOnChartArea:!0},ticks:{beginAtZero:!0,userCallback:function(t,e,i){if(Math.floor(t)===t)return t}}}],xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{beginAtZero:!0,autoSkip:!1,maxTicksLimit:100}}]},drawBorder:!1,layout:{padding:{left:0,right:0,top:0,bottom:20}}}}},methods:{},mounted:function(){this.renderChart(this.chartData,this.options)}}},data:function(){return{fetching:!0,chartData:{},maxCumulativeValue:0}},computed:{},methods:{setupChartItems:function(){var t=[],e={label:"Funnel Items",yAxisID:"byDate",backgroundColor:"rgba(81, 52, 178, 0.5)",borderColor:"#b175eb",data:[],fill:!0,gridLines:{display:!1}},i={label:"Line",backgroundColor:"rgba(55, 162, 235, 0.1)",borderColor:"#37a2eb",data:[],yAxisID:"byCumulative",type:"line"};e.backgroundColor=this.getBackgroundColors(this.stats.metrics.length);var n=0;this.each(this.stats.metrics,(function(s,a){e.data.push(s.count),t.push([s.label,s.percent+"%"]),i.data.push(s.count),s.count>n&&(n=s.count),"benchmark"===s.type&&(e.backgroundColor[a]="red")})),this.maxCumulativeValue=n+10,this.chartData={labels:t,datasets:[e,i]},this.fetching=!1},getBackgroundColors:function(t){return["#255A65","#22666C","#227372","#258077","#2D8C79","#3A997A","#4BA579","#5EB177","#73BD73","#8AC870","#A4D36C","#BFDC68","#DBE566","#544b66","#4f30c6","#190b1f","#6f23a7","#2d2134","#483ba6","#0e0d2c","#7a2d88","#181837","#2d187b","#2e2d4e","#491963","#1e052c","#3d3e8a","#2d163c","#644378","#210a50","#3f2c5b","#19164b","#461748"].slice(0,t)}},mounted:function(){this.setupChartItems()}},La=Object(a.a)(Na,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.fetching,expression:"fetching"}],staticStyle:{"min-height":"400px"}},[e("growth-chart",{attrs:{maxCumulativeValue:this.maxCumulativeValue,"chart-data":this.chartData}})],1)}),[],!1,null,null,null).exports,Ma={name:"FunnelTextReport",props:["stats","funnel"],data:function(){return{colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}]}},methods:{},computed:{lastItem:function(){return!!this.stats.metrics.length&&this.stats.metrics[this.stats.metrics.length-1]}},mounted:function(){}},za=(i(350),{name:"FunnelEmails",props:["funnel_id"],components:{CampaignEmails:Jt,LinkMetrics:Xt},data:function(){return{email_sequences:[],fetching:!1,show_email_report:!1,show_email_report_id:!1,link_clicks_modal:!1,link_click_id:!1}},methods:{fetchEmailSequences:function(){var t=this;this.fetching=!0,this.$get("funnels/".concat(this.funnel_id,"/email_reports")).then((function(e){t.email_sequences=e.email_sequences})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))},getPercent:function(t,e){return e&&t?parseFloat(t/e*100).toFixed(2)+"%":"--"},showEmailReport:function(t){this.show_email_report_id=t,this.show_email_report=!0},showLinkReport:function(t){this.link_click_id=t,this.link_clicks_modal=!0}},mounted:function(){this.fetchEmailSequences()}}),Ra={name:"FunnelSubscribers",props:["funnel_id"],components:{Pagination:g,ContactCard:Fa,IndividualProgress:Ia,FunnelChart:La,FunnelTextReport:Object(a.a)(Ma,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_individual_progress"},[i("el-row",{attrs:{gutter:20}},[t._l(t.stats.metrics,(function(e,n){return i("el-col",{key:n,staticClass:"fc_progress_card",attrs:{md:6,xs:24,lg:6,sm:12}},[i("div",{staticClass:"fc_progress_item",class:"fc_sequence_type_"+e.type},[i("el-progress",{attrs:{type:"circle",percentage:e.percent,color:t.colors}}),t._v(" "),i("h3",[t._v(t._s(e.label))]),t._v(" "),i("div",{staticClass:"stats_badges"},[i("span",[t._v(t._s(t.$t("Total Contact"))+": "+t._s(e.count))]),t._v(" "),"root"!=e.type?i("span",[t._v(t._s(t.$t("Drop"))+": "+t._s(e.drop_percent)+"%")]):t._e()])],1)])})),t._v(" "),t.lastItem?i("el-col",{key:t.statIndex,staticClass:"fc_progress_card",attrs:{md:6,xs:24,lg:6,sm:12}},[i("div",{staticClass:"fc_progress_item fc_sequence_type_result"},[i("el-progress",{attrs:{type:"circle",percentage:100,status:"success"}}),t._v(" "),i("h3",[t._v(t._s(t.$t("Overall Conversion Rate"))+": "+t._s(t.lastItem.percent)+"%")]),t._v(" "),i("div",{staticClass:"stats_badges"},[i("span",[t._v("(y)")])])],1)]):t._e()],2)],1)}),[],!1,null,null,null).exports,Confirm:f,FunnelEmails:Object(a.a)(za,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching,expression:"fetching"}],staticClass:"fc_email_reports"},[i("div",{staticClass:"campaigns-table"},[t.email_sequences.length?i("div",{staticClass:"fluentcrm_title_cards"},t._l(t.email_sequences,(function(e){return i("div",{key:e.id,staticClass:"fluentcrm_title_card"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("div",{staticClass:"fluentcrm_card_desc"},[i("div",{staticClass:"fluentcrm_card_title",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.showEmailReport(e.campaign.id)}}},[t._v("\n                                "+t._s(e.title)+" ( "+t._s(e.campaign.subject)+" )\n                            ")]),t._v(" "),i("div",{staticClass:"fluentcrm_card_actions fluentcrm_card_actions_hidden"},[i("el-button",{attrs:{icon:"el-icon-data-analysis",type:"text",size:"mini"},on:{click:function(i){return t.showEmailReport(e.campaign.id)}}},[t._v(t._s(t.$t("Show Individual Emails")))])],1)])]),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("div",{staticClass:"fluentcrm_card_stats"},[i("ul",{staticClass:"fluentcrm_inline_stats"},[i("li",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.showEmailReport(e.campaign.id)}}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(e.campaign.stats.sent||"--"))]),t._v(" "),i("p",[t._v(t._s(t.$t("Sent")))])]),t._v(" "),i("li",{attrs:{title:e.campaign.stats.views}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.getPercent(e.campaign.stats.views,e.campaign.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Opened")))])]),t._v(" "),i("li",{staticStyle:{cursor:"pointer"},attrs:{title:e.campaign.stats.clicks},on:{click:function(i){return t.showLinkReport(e.campaign.id)}}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.getPercent(e.campaign.stats.clicks,e.campaign.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Clicked")))])]),t._v(" "),i("li",{attrs:{title:e.campaign.stats.unsubscribers}},[i("span",{staticClass:"fluentcrm_digit"},[t._v("\n                                        "+t._s(t.getPercent(e.campaign.stats.unsubscribers,e.campaign.stats.sent))+"\n                                    ")]),t._v(" "),i("p",[t._v(t._s(t.$t("Unsubscribed")))])]),t._v(" "),e.campaign.stats.revenue?i("li",[i("span",{staticClass:"fluentcrm_digit"},[t._v("\n                                        "+t._s(e.campaign.stats.revenue.total)+"\n                                    ")]),t._v(" "),i("p",[t._v(t._s(e.campaign.stats.revenue.label))])]):t._e()])])])],1)],1)})),0):i("h3",[t._v(t._s(t.$t("Sorry, No emails found in this automation")))])]),t._v(" "),i("el-dialog",{attrs:{title:"View Campaign Emails",width:"60%","append-to-body":!0,visible:t.show_email_report},on:{closed:function(e){t.show_email_report_id=""},"update:visible":function(e){t.show_email_report=e}}},[t.show_email_report_id?i("campaign-emails",{attrs:{campaign_id:t.show_email_report_id}}):t._e()],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Link Metrics"),width:"60%","append-to-body":!0,visible:t.link_clicks_modal},on:{closed:function(e){t.link_click_id=""},"update:visible":function(e){t.link_clicks_modal=e}}},[t.link_click_id?i("link-metrics",{attrs:{campaign_id:t.link_click_id,hide_title:!0}}):t._e()],1)],1)}),[],!1,null,null,null).exports},data:function(){return{funnel:{},subscribers:[],loading:!1,pagination:{total:0,per_page:10,current_page:1},sequences:{},stats:{metrics:[],total_revenue:0,revenue_currency:"USD"},visualization_type:"chart",search:"",deleting:!1,updating:!1}},methods:{fetchSubscribers:function(){var t=this;this.loading=!0,this.$get("funnels/".concat(this.funnel_id,"/subscribers"),{per_page:this.pagination.per_page,page:this.pagination.current_page,with:["funnel","sequences"],search:this.search}).then((function(e){t.subscribers=e.funnel_subscribers.data,t.pagination.total=e.funnel_subscribers.total,t.funnel=e.funnel,t.sequences=e.sequences})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},fetchReport:function(){var t=this;this.$get("funnels/".concat(this.funnel_id,"/report")).then((function(e){t.stats=e.stats})).catch((function(e){t.handleError(e)})).finally((function(){}))},getSequenceName:function(t){if(t=parseInt(t),this.sequences[t]){var e=this.sequences[t];return e.sequence+" - "+e.title}return"-"},rowStatusClass:function(t){return"fc_table_row_"+t.row.status},removeFromFunnel:function(t){var e=this;this.deleting=!0,this.$del("funnels/".concat(this.funnel_id,"/subscribers"),{subscriber_ids:[t]}).then((function(t){e.$notify.success(t.message),e.fetchSubscribers()})).catch((function(t){e.handleError(t)})).finally((function(){e.deleting=!1}))},changeFunnelSubscriptionStatus:function(t,e){var i=this;this.updating=!0,this.$put("funnels/".concat(this.funnel_id,"/subscribers/").concat(t,"/status"),{status:e}).then((function(t){i.$notify.success(t.message),i.fetchSubscribers()})).catch((function(t){i.handleError(t)})).finally((function(){i.updating=!1}))}},mounted:function(){this.fetchSubscribers(),this.fetchReport(),this.changeTitle("Funnel Report")}},Ba=(i(352),Object(a.a)(Ra,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_settings_wrapper"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"funnels"}}},[t._v("\n                    "+t._s(t.$t("Automation Funnels"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",{attrs:{to:{name:"edit_funnel",params:{funnel_id:t.funnel_id}}}},[t._v("\n                    "+t._s(t.funnel.title)+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.$t("Subscribers"))+"\n                ")])],1)],1)]),t._v(" "),t.stats.metrics.length?i("div",{staticClass:"fluentcrm_body fc_chart_box",staticStyle:{padding:"20px"}},[i("div",{staticClass:"text-align-center fluentcrm_pad_b_30"},[i("el-radio-group",{attrs:{size:"small"},model:{value:t.visualization_type,callback:function(e){t.visualization_type=e},expression:"visualization_type"}},[i("el-radio-button",{attrs:{label:"chart"}},[t._v(t._s(t.$t("Chart Report")))]),t._v(" "),i("el-radio-button",{attrs:{label:"text"}},[t._v(t._s(t.$t("Step Report")))]),t._v(" "),i("el-radio-button",{attrs:{label:"emails"}},[t._v(t._s(t.$t("Emails Analytics")))])],1)],1),t._v(" "),"chart"==t.visualization_type?i("funnel-chart",{attrs:{stats:t.stats,funnel_id:t.funnel_id}}):"text"==t.visualization_type?i("funnel-text-report",{attrs:{stats:t.stats,funnel:t.funnel}}):"emails"==t.visualization_type?i("funnel-emails",{attrs:{funnel_id:t.funnel_id}}):t._e(),t._v(" "),t.stats.total_revenue?i("h3",{staticClass:"text-align-center"},[t._v(t._s(t.$t("Fun_Total_Rftf"))+":\n            "+t._s(t.stats.revenue_currency)+" "+t._s(t.stats.total_revenue_formatted))]):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"fluentcrm_body"},[i("div",{staticClass:"fluentcrm_title_cards"},[i("div",{staticClass:"fluentcrm_inner_header"},[i("h3",{staticClass:"fluentcrm_inner_title"},[t._v("Individual Reporting")]),t._v(" "),i("div",{staticClass:"fluentcrm_inner_actions"},[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"Search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchSubscribers.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.fetchSubscribers()}},slot:"append"})],1)],1)]),t._v(" "),i("el-table",{attrs:{"empty-text":t.$t("No Data Available"),border:"",stripe:"",data:t.subscribers,"row-class-name":t.rowStatusClass}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("individual-progress",{attrs:{funnel:t.funnel,funnel_subscriber:e.row,sequences:t.sequences}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"",width:"64"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("contact-card",{attrs:{trigger_type:"click",display_key:"photo",subscriber:t.row.subscriber}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Subscriber")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.subscriber?i("span",[t._v(t._s(e.row.subscriber.full_name||e.row.subscriber.email))]):i("span",[t._v(t._s(t.$t("No Subscriber Found")))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Latest Action")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.last_sequence?i("span",[t._v(t._s(e.row.last_sequence.title))]):"pending"==e.row.status?i("span",[t._v("\n                            "+t._s(t.$t("Fun_Waiting_fdoc"))+"\n                        ")]):t._e(),t._v(" "),i("span",[t._v("("+t._s(e.row.status)+")")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Last Executed At")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.last_executed_time}},[t._v("\n                            "+t._s(t._f("nsHumanDiffTime")(e.row.last_executed_time))+"\n                        ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Created At")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v("\n                            "+t._s(t._f("nsHumanDiffTime")(e.row.created_at))+"\n                        ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"160",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("confirm",{directives:[{name:"loading",rawName:"v-loading",value:t.deleting,expression:"deleting"}],on:{yes:function(i){return t.removeFromFunnel(e.row.subscriber_id)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1),t._v(" "),"cancelled"==e.row.status?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.updating,expression:"updating"}],attrs:{type:"info",size:"mini"},on:{click:function(i){return t.changeFunnelSubscriptionStatus(e.row.subscriber_id,"active")}}},[t._v("\n                            "+t._s(t.$t("Resume"))+"\n                        ")]):t._e(),t._v(" "),"active"==e.row.status?i("el-button",{directives:[{name:"loadin",rawName:"v-loadin",value:t.updating,expression:"updating"}],attrs:{type:"info",size:"mini"},on:{click:function(i){return t.changeFunnelSubscriptionStatus(e.row.subscriber_id,"cancelled")}}},[t._v("\n                            "+t._s(t.$t("Cancel"))+"\n                        ")]):t._e()]}}])})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetchSubscribers}})],1)])])}),[],!1,null,null,null).exports),Va={name:"ImportFunnel",components:{FieldEditor:ra,FormField:na},props:["options"],data:function(){return{sequences:[],funnel:{},blocks:{},block_fields:{},step:"upload",sequence_step:0,importing:!1,inline_errors:!1}},computed:{url:function(){return window.ajaxurl+"?"+jQuery.param({action:"fluentcrm_import_funnel"})},current_block:function(){return this.sequences[this.sequence_step]||!1},current_block_fields:function(){if(!this.current_block)return{};var t=this.current_block.action_name;return this.block_fields[t]}},methods:{success:function(t){this.sequences=t.funnel_sequences,this.funnel=t.funnel,this.blocks=t.blocks,this.block_fields=t.block_fields,this.step="root_editor"},error:function(t){var e=JSON.parse(t.message);this.$notify.error(e.message),e.requires&&(this.inline_errors=e.requires)},isEmpty:i(20),showSequenceEditor:function(t){jQuery("html, body").animate({scrollTop:0},"slow"),this.sequence_step=t,this.step="sequence_editor"},completeImport:function(){var t=this;this.importing=!0,this.$post("funnels/import",{funnel:this.funnel,sequences:JSON.stringify(this.sequences)}).then((function(e){t.$notify.success(e.message),t.$router.push({name:"edit_funnel",params:{funnel_id:e.funnel.id}})})).catch((function(e){t.handleError(e)})).finally((function(){t.importing=!1}))}}},Ua=Object(a.a)(Va,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_settings_wrapper fc_sequence_import"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Import Automation Funnel")))])])]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.importing,expression:"importing"}],staticClass:"fluentcrm_body fluentcrm_title_cards fc_narrow_box fc_white_inverse",staticStyle:{"margin-top":"30px","max-width":"1160px"}},[t.has_campaign_pro?["upload"==t.step?i("div",{staticClass:"fc_funnel_upload text-align-center"},[i("h3",[t._v("You can import your exported automation JSON file here. Please upload your JSON file to get\n                    started")]),t._v(" "),i("el-upload",{ref:"uploader",attrs:{drag:"",limit:1,action:t.url,multiple:!1,"on-error":t.error,"on-success":t.success}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("\n                        Drop JSON file here or "),i("em",[t._v("click to upload")])])]),t._v(" "),t.inline_errors?i("pre",[t._v(t._s(t.inline_errors))]):t._e()],1):"root_editor"==t.step?i("div",{staticClass:"fc_funnel_editor"},[i("field-editor",{key:"is_editing_root",attrs:{title_badge:t.$t("Trigger"),show_controls:!1,options:t.options,data:t.funnel.settings,settings:t.funnel.settingsFields},scopedSlots:t._u([{key:"after_header",fn:function(){return[i("el-form-item",{attrs:{label:t.$t("Funnel Name")}},[i("el-input",{attrs:{placeholder:t.$t("Funnel Name")},model:{value:t.funnel.title,callback:function(e){t.$set(t.funnel,"title",e)},expression:"funnel.title"}})],1)]},proxy:!0}],null,!1,2596356023)}),t._v(" "),t.isEmpty(t.funnel.conditions)?t._e():i("el-form",{staticClass:"fc_funnel_conditions fc_block_white",attrs:{"label-position":"top",data:t.funnel.conditions}},[i("h3",[t._v(t._s(t.$t("Conditions")))]),t._v(" "),t._l(t.funnel.conditionFields,(function(e,n){return i("div",{key:n},[i("form-field",{key:n,attrs:{field:e,options:t.options},model:{value:t.funnel.conditions[n],callback:function(e){t.$set(t.funnel.conditions,n,e)},expression:"funnel.conditions[conditionKey]"}})],1)}))],2),t._v(" "),i("div",{staticClass:"fc_sequence_navigation"},[i("el-button",{attrs:{size:"large",type:"success"},on:{click:function(e){return t.showSequenceEditor(0)}}},[t._v("\n                        "+t._s(t.$t("Next"))+"\n                    ")])],1)],1):"sequence_editor"==t.step&&t.current_block?i("div",[i("field-editor",{key:t.sequence_step+"_"+t.current_block.action_name,attrs:{title_badge:t.current_block.type,show_controls:!1,data:t.current_block.settings,options:t.options,settings:t.current_block_fields},scopedSlots:t._u([{key:"after_header",fn:function(){return[i("el-form-item",{attrs:{label:t.$t("Internal Label")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Label")},model:{value:t.current_block.title,callback:function(e){t.$set(t.current_block,"title",e)},expression:"current_block.title"}})],1)]},proxy:!0}],null,!1,3307252594)}),t._v(" "),i("div",{staticClass:"fc_sequence_navigation"},[t.sequence_step>0?i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showSequenceEditor(t.sequence_step-1)}}},[t._v("\n                        "+t._s(t.$t("Go Back"))+"\n                    ")]):t._e(),t._v(" "),t.sequence_step+1<t.sequences.length?i("el-button",{attrs:{size:"large",type:"success"},on:{click:function(e){return t.showSequenceEditor(t.sequence_step+1)}}},[t._v("\n                        "+t._s(t.$t("Next"))+" "+t._s(t.sequence_step+1)+" / "+t._s(t.sequences.length)+"\n                    ")]):i("el-button",{attrs:{size:"large",type:"primary"},on:{click:function(e){return t.completeImport()}}},[t._v("\n                        "+t._s(t.$t("Complete Import"))+"\n                    ")])],1)],1):t._e()]:i("div",{staticClass:"text-align-center"},[i("h2",[t._v("Import Funnel From JSON File")]),t._v(" "),i("p",[t._v("\n                Importing Funnel from JSON file is a pro feature. Please download and active FluentCRM Pro First\n            ")]),t._v(" "),i("hr"),t._v(" "),i("p",[t._v("To Activate this module please upgrade to pro")]),t._v(" "),i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])],2)])}),[],!1,null,null,null).exports,Ha={name:"EmailSequencePromo"},Ga={name:"sequence-view",components:{EmailSequencePromo:Object(a.a)(Ha,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_narrow_box fluentcrm_databox text-align-center"},[i("h2",{},[t._v("Email Sequences")]),t._v(" "),i("p",{staticClass:"text-align-center"},[t._v("Send Sequence/Drip emails to your subscribers with Email Sequence Module")]),t._v(" "),i("hr"),t._v(" "),i("p",[t._v("To Activate this module please upgrade to pro")]),t._v(" "),i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro")])])}),[],!1,null,null,null).exports},data:function(){return{}},mounted:function(){this.changeTitle("Email Sequences")}},Wa=Object(a.a)(Ga,(function(){var t=this.$createElement,e=this._self._c||t;return this.has_campaign_pro?e("div",{staticClass:"fc_sequence_root"},[e("router-view")],1):e("div",[e("email-sequence-promo")],1)}),[],!1,null,null,null).exports,Ja={name:"CreateSequence",props:["dialogVisible"],data:function(){return{sequence:{title:""},errors:{title:""},saving:!1}},methods:{save:function(){var t=this;this.sequence.title?(this.errors={title:""},this.saving=!0,this.$post("sequences",this.sequence).then((function(e){t.$notify.success(e.message),t.$router.push({name:"edit-sequence",params:{id:e.sequence.id}})})).catch((function(e){var i=e.data?e.data:e;if(i.status&&403===i.status)t.notify.error(i.message);else if(i.title){var n=Object.keys(i.title);t.errors.title=i.title[n[0]]}})).finally((function(e){t.saving=!1}))):this.errors.title=this.$t("Title field is required")}},computed:{isVisibile:{get:function(){return this.dialogVisible},set:function(t){this.$emit("toggleDialog",t)}}}},Ya={name:"all-sequences",components:{CreateSequence:Object(a.a)(Ja,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.$t("Create new email sequence"),visible:t.isVisibile,"append-to-body":!0,"close-on-click-modal":!1,width:"60%"},on:{"update:visible":function(e){t.isVisibile=e}}},[i("div",[i("el-form",{attrs:{model:t.sequence,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[i("el-form-item",{attrs:{label:t.$t("Sequence Title")}},[i("el-input",{ref:"title",attrs:{placeholder:t.$t("Sequence Title")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save.apply(null,arguments)}},model:{value:t.sequence.title,callback:function(e){t.$set(t.sequence,"title",e)},expression:"sequence.title"}}),t._v(" "),i("span",{staticClass:"error"},[t._v(t._s(t.errors.title))])],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.saving,expression:"saving"}],attrs:{disabled:t.saving,type:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.$t("Next")))])],1)])}),[],!1,null,null,null).exports,Confirm:f,Pagination:g},data:function(){return{sequences:[],pagination:{total:0,per_page:10,current_page:1},loading:!0,dialogVisible:!1,duplicating:!1}},methods:{fetch:function(){var t=this;this.loading=!0;var e={per_page:this.pagination.per_page,page:this.pagination.current_page,with:["stats"]};this.$get("sequences",e).then((function(e){t.sequences=e.sequences.data,t.pagination.total=e.sequences.total})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},remove:function(t){var e=this;this.$del("sequences/".concat(t.id)).then((function(t){e.fetch(),e.$notify.success({title:"Great!",message:t.message,offset:19})})).catch((function(t){e.handleError(t)}))},duplicateSequence:function(t){var e=this;this.duplicating=!0,this.$post("sequences/".concat(t.id,"/duplicate")).then((function(t){e.$notify.success(t.message),e.$router.push({name:"edit-sequence",params:{id:t.sequence.id}})})).catch((function(t){e.handleError(t)})).finally((function(){e.duplicating=!0}))}},mounted:function(){this.fetch(),this.changeTitle("Email Sequences")}},Ka=Object(a.a)(Ya,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Email Sequences")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[t.hasPermission("fcrm_manage_emails")?i("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n                "+t._s(t.$t("Create New Sequence"))+"\n            ")]):t._e()],1)]),t._v(" "),t.loading?i("el-skeleton",{staticClass:"fc_skeleton_loader",attrs:{rows:8,animated:""}}):i("div",{staticClass:"fluentcrm_body fluentcrm_pad_b_30"},[t.pagination.total?[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.duplicating,expression:"duplicating"}],staticClass:"fluentcrm_title_cards"},t._l(t.sequences,(function(e){return i("div",{key:e.id,staticClass:"fluentcrm_title_card"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:16}},[i("div",{staticClass:"fluentcrm_card_desc"},[i("div",{staticClass:"fluentcrm_card_sub"},[i("span",{attrs:{title:e.created_at}},[t._v("\n                                        "+t._s(t._f("nsHumanDiffTime")(e.created_at))+"\n                                    ")])]),t._v(" "),i("div",{staticClass:"fluentcrm_card_title"},[i("router-link",{attrs:{to:{name:"edit-sequence",params:{id:e.id},query:{t:(new Date).getTime()}}}},[t._v("\n                                        "+t._s(e.title)+"\n                                    ")])],1),t._v(" "),i("div",{staticClass:"fluentcrm_card_actions fluentcrm_card_actions_hidden"},[i("router-link",{attrs:{to:{name:"edit-sequence",params:{id:e.id},query:{t:(new Date).getTime()}}}},[i("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"}},[t._v("\n                                            "+t._s(t.$t("Emails"))+"\n                                        ")])],1),t._v(" "),i("router-link",{attrs:{to:{name:"sequence-subscribers",params:{id:e.id},query:{t:(new Date).getTime()}}}},[i("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-s-custom"}},[t._v("\n                                            "+t._s(t.$t("Subscribers"))+"\n                                        ")])],1),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[t._v(t._s(t.$t("Delete"))+"\n                                        ")])],1),t._v(" "),i("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-document-copy"},on:{click:function(i){return t.duplicateSequence(e)}}},[t._v(t._s(t.$t("Duplicate"))+"\n                                    ")])],1)])]),t._v(" "),i("el-col",{attrs:{sm:24,md:8}},[i("div",{staticClass:"fluentcrm_card_stats"},[i("ul",{staticClass:"fluentcrm_inline_stats"},[i("li",[i("router-link",{attrs:{to:{name:"edit-sequence",params:{id:e.id},query:{t:(new Date).getTime()}}}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(e.stats.emails||"--"))]),t._v(" "),i("p",[t._v("\n                                                "+t._s(t.$t("Emails"))+"\n                                            ")])])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:{name:"sequence-subscribers",params:{id:e.id},query:{t:(new Date).getTime()}}}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(e.stats.subscribers||"--"))]),t._v(" "),i("p",[t._v(t._s(t.$t("Subscribers")))])])],1)])])])],1)],1)})),0),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})]:i("div",[i("div",{staticClass:"fluentcrm_hero_box"},[i("h2",[t._v(t._s(t.$t("All_Looks_lydnsasey")))]),t._v(" "),i("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"success"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("\n                    "+t._s(t.$t("All_Create_YFES"))+"\n                ")])],1)])],2),t._v(" "),i("create-sequence",{attrs:{"dialog-visible":t.dialogVisible},on:{"update:dialogVisible":function(e){t.dialogVisible=e},"update:dialog-visible":function(e){t.dialogVisible=e},toggleDialog:function(e){t.dialogVisible=!1}}})],1)}),[],!1,null,null,null).exports,Qa={name:"EditSequence",components:{Confirm:f,VerifiedEmailInput:S,CampaignEmails:Jt,LinkMetrics:Xt},props:["id"],data:function(){return{sequence:{},sequence_emails:[],loading:!1,addEmailModal:!1,showSequenceSettings:!1,savingSequence:!0,show_email_report:!1,show_email_report_id:!1,link_clicks_modal:!1,link_click_id:!1}},methods:{showEmailReport:function(t){this.show_email_report_id=t,this.show_email_report=!0},showLinkReport:function(t){this.link_click_id=t,this.link_clicks_modal=!0},fetchSequence:function(){var t=this;this.loading=!0;this.$get("sequences/".concat(this.id),{with:["sequence_emails","email_stats"]}).then((function(e){t.sequence=e.sequence,t.sequence_emails=e.sequence_emails,t.changeTitle(t.sequence.title+" - Sequence")})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},gotToSubscribers:function(){this.$router.push({name:"sequence-subscribers",params:{id:this.id},query:{t:(new Date).getTime()}})},toSequenceEmailEdit:function(t){this.$router.push({name:"edit-sequence-email",params:{sequence_id:this.sequence.id,email_id:t}})},remove:function(t){var e=this;this.$del("sequences/".concat(this.sequence.id,"/email/").concat(t.id)).then((function(t){e.fetchSequence(),e.$notify.success({title:"Great!",message:t.message,offset:19})})).catch((function(t){e.handleError(t)}))},getScheduleTiming:function(t){return t.delay&&"0"!==t.delay?"After ".concat(t.delay," ").concat(t.delay_unit," from starting point"):"Immediately"},getRelativeWaitTimes:function(t){var e=this.sequence_emails[t].delay;return 0==t?e:e-this.sequence_emails[t-1].delay},saveSequence:function(){var t=this;this.savingSequence=!0,this.$put("sequences/"+this.sequence.id,{title:this.sequence.title,settings:this.sequence.settings}).then((function(e){t.$notify.success(e.message),t.savingSequence=!1,t.fetchSequence()})).catch((function(e){t.handleError(e)})).finally((function(){t.showSequenceSettings=!1}))}},mounted:function(){this.fetchSequence(),this.changeTitle("View Sequence")}},Za=Object(a.a)(Qa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"email-sequences"}}},[t._v("\n                    "+t._s(t.$t("Email Sequences"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.sequence.title)+"\n                ")])],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[t.hasPermission("fcrm_manage_emails")?i("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-setting"},on:{click:function(e){t.showSequenceSettings=!0}}}):t._e(),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.gotToSubscribers()}}},[t._v("\n                "+t._s(t.$t("View Subscribers"))+"\n            ")])],1)]),t._v(" "),t.loading?i("el-skeleton",{staticClass:"fc_skeleton_loader",attrs:{rows:8,animated:""}}):i("div",{staticClass:"fluentcrm_body"},[t.sequence_emails.length?i("div",[i("div",{staticClass:"fluentcrm_title_cards"},[t._l(t.sequence_emails,(function(e,n){return i("div",{key:e.id,staticClass:"fc_sequence_section"},[i("div",{staticClass:"fluentcrm_title_card"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:16}},[i("span",{staticClass:"fc_seq_number"},[t._v(t._s(n+1))]),t._v(" "),i("div",{staticClass:"fluentcrm_card_desc"},[i("div",{staticClass:"fluentcrm_card_sub",attrs:{title:"From beginning date"}},[t._v("\n                                        "+t._s(t.getScheduleTiming(e.settings.timings))+"\n                                    ")]),t._v(" "),i("div",{staticClass:"fluentcrm_card_title"},[i("router-link",{attrs:{to:{name:"edit-sequence-email",params:{sequence_id:e.parent_id,email_id:e.id},query:{t:(new Date).getTime()}}}},[t._v("\n                                            "+t._s(e.title)+"\n                                        ")])],1),t._v(" "),i("div",{staticClass:"fluentcrm_card_actions fluentcrm_card_actions_hidden"},[i("router-link",{attrs:{to:{name:"edit-sequence-email",params:{sequence_id:e.parent_id,email_id:e.id},query:{t:(new Date).getTime()}}}},[i("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"}},[t._v("\n                                                "+t._s(t.$t("edit"))+"\n                                            ")])],1),t._v(" "),i("el-button",{attrs:{icon:"el-icon-data-analysis",type:"text",size:"mini"},on:{click:function(i){return t.showEmailReport(e.id)}}},[t._v("Show Report")]),t._v(" "),i("confirm",{attrs:{placement:"top-start"},on:{yes:function(i){return t.remove(e)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"text",icon:"el-icon-delete"},slot:"reference"},[t._v("\n                                                "+t._s(t.$t("Delete"))+"\n                                            ")])],1)],1)])]),t._v(" "),i("el-col",{attrs:{sm:24,md:8}},[i("div",{staticClass:"fluentcrm_card_stats"},[i("ul",{staticClass:"fluentcrm_inline_stats"},[i("li",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.showEmailReport(e.id)}}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(e.stats.sent||"--"))]),t._v(" "),i("p",[t._v(t._s(t.$t("Sent")))])]),t._v(" "),i("li",[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.percent(e.stats.views,e.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Opened")))])]),t._v(" "),i("li",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.showLinkReport(e.id)}}},[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.percent(e.stats.clicks,e.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Clicked")))])]),t._v(" "),i("li",[i("span",{staticClass:"fluentcrm_digit"},[t._v(t._s(t.percent(e.stats.unsubscribers,e.stats.sent)))]),t._v(" "),i("p",[t._v(t._s(t.$t("Unsubscribed")))])]),t._v(" "),e.stats.revenue?i("li",[i("span",{staticClass:"fluentcrm_digit"},[t._v("\n                                            "+t._s(e.stats.revenue.total)+"\n                                        ")]),t._v(" "),i("p",[t._v(t._s(e.stats.revenue.label))])]):t._e()])])])],1)],1)])})),t._v(" "),t.hasPermission("fcrm_manage_emails")?i("div",{staticClass:"text-align-center fluentcrm_pad_30"},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(e){return t.toSequenceEmailEdit(0)}}},[t._v("\n                        "+t._s(t.$t("Vie_Add_aSE"))+"\n                    ")])],1):t._e()],2)]):i("div",{staticClass:"fluentcrm_hero_box"},[i("h2",[t._v(t._s(t.$t("Vie_Get_swaaetts")))]),t._v(" "),t.hasPermission("fcrm_manage_emails")?i("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(e){return t.toSequenceEmailEdit(0)}}},[t._v("\n                "+t._s(t.$t("Add a Sequence Email"))+"\n            ")]):t._e()],1)]),t._v(" "),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.savingSequence,expression:"savingSequence"}],attrs:{title:t.$t("Edit Sequence and Settings"),width:"60%","append-to-body":!0,visible:t.showSequenceSettings},on:{"update:visible":function(e){t.showSequenceSettings=e}}},[t.sequence.settings?i("el-form",{attrs:{"label-position":"top",data:t.sequence}},[i("el-form-item",{attrs:{label:t.$t("Internal Title")}},[i("el-input",{attrs:{placeholder:t.$t("Internal Title")},model:{value:t.sequence.title,callback:function(e){t.$set(t.sequence,"title",e)},expression:"sequence.title"}})],1),t._v(" "),t.sequence.settings.mailer_settings?[i("el-form-item",[i("el-checkbox",{attrs:{"true-label":"yes","false-label":"no"},model:{value:t.sequence.settings.mailer_settings.is_custom,callback:function(e){t.$set(t.sequence.settings.mailer_settings,"is_custom",e)},expression:"sequence.settings.mailer_settings.is_custom"}},[t._v("\n                        "+t._s(t.$t("Vie_Set_CFNaE"))+"\n                    ")])],1),t._v(" "),"yes"==t.sequence.settings.mailer_settings.is_custom?i("div",{staticClass:"fluentcrm_highlight_gray"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("From Name")}},[i("el-input",{attrs:{placeholder:t.$t("From Name")},model:{value:t.sequence.settings.mailer_settings.from_name,callback:function(e){t.$set(t.sequence.settings.mailer_settings,"from_name",e)},expression:"sequence.settings.mailer_settings.from_name"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("From Email")}},[i("verified-email-input",{attrs:{field:{placeholder:t.$t("From Email"),"data-type":"email"}},model:{value:t.sequence.settings.mailer_settings.from_email,callback:function(e){t.$set(t.sequence.settings.mailer_settings,"from_email",e)},expression:"sequence.settings.mailer_settings.from_email"}}),t._v(" "),i("p",{staticStyle:{margin:"0",padding:"0","font-size":"10px"}},[t._v(t._s(t.$t("Vie_Please_msteisbyS")))])],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("Reply To Name")}},[i("el-input",{attrs:{placeholder:t.$t("Reply To Name")},model:{value:t.sequence.settings.mailer_settings.reply_to_name,callback:function(e){t.$set(t.sequence.settings.mailer_settings,"reply_to_name",e)},expression:"sequence.settings.mailer_settings.reply_to_name"}})],1)],1),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-form-item",{attrs:{label:t.$t("Reply To Email")}},[i("el-input",{attrs:{placeholder:t.$t("Reply To Email"),type:"email"},model:{value:t.sequence.settings.mailer_settings.reply_to_email,callback:function(e){t.$set(t.sequence.settings.mailer_settings,"reply_to_email",e)},expression:"sequence.settings.mailer_settings.reply_to_email"}})],1)],1)],1)],1):t._e()]:t._e()],2):t._e(),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveSequence()}}},[t._v(t._s(t.$t("Save Settings")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("View Campaign Emails"),width:"60%","append-to-body":!0,visible:t.show_email_report},on:{closed:function(e){t.show_email_report_id=""},"update:visible":function(e){t.show_email_report=e}}},[t.show_email_report_id?i("campaign-emails",{attrs:{campaign_id:t.show_email_report_id}}):t._e()],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("Link Metrics"),width:"60%","append-to-body":!0,visible:t.link_clicks_modal},on:{closed:function(e){t.link_click_id=""},"update:visible":function(e){t.link_clicks_modal=e}}},[t.link_click_id?i("link-metrics",{attrs:{campaign_id:t.link_click_id,hide_title:!0}}):t._e()],1)],1)}),[],!1,null,null,null).exports,Xa={name:"SequenceEmailEdit",props:["sequence_id","email_id"],components:{EmailBlockComposer:Ft,InputPopover:k},data:function(){return{sequence:{},email:{},loading:!1,saving:!1,app_loaded:!1,smartcodes:window.fcAdmin.globalSmartCodes,email_subject_status:!0,send_test_pop:!1,test_email:"",sending_test:!1}},watch:{email_id:function(){this.fetchSequenceEmail()}},methods:{backToSequence:function(){this.$router.push({name:"edit-sequence",params:{id:this.sequence_id},query:{t:(new Date).getTime()}})},fetchSequenceEmail:function(){var t=this;this.loading=!0,this.$get("sequences/".concat(this.sequence_id,"/email/").concat(this.email_id),{with:["sequence"]}).then((function(e){t.sequence=e.sequence,t.email=e.email})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1,t.app_loaded=!0}))},save:function(){var t=this;if(!this.email.email_body)return this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peb"),offset:19});if(!this.email.email_subject)return this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peS"),offset:19});this.saving=!0;(parseInt(this.email_id)?this.$put("sequences/".concat(this.sequence_id,"/email/").concat(this.email_id),{email:this.email}):this.$post("sequences/".concat(this.sequence_id,"/email"),{email:this.email})).then((function(e){t.$notify.success(e.message),parseInt(t.email_id)||t.$router.push({name:"edit-sequence-email",params:{sequence_id:e.email.parent_id,email_id:e.email.id}})})).catch((function(e){t.handleError(e)})).finally((function(){t.saving=!1}))},resetSubject:function(){var t=this;this.email_subject_status=!1,this.$nextTick((function(){t.email_subject_status=!0}))},sendTestEmail:function(){var t=this;return this.email.email_body?this.email.email_subject?(this.sending_test=!0,void this.$post("campaigns/send-test-email",{campaign:{email_subject:this.email.email_subject,email_pre_header:this.email.email_pre_header,email_body:this.email.email_body,design_template:this.email.design_template,settings:this.email.settings},email:this.test_email,test_campaign:"yes"}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.$notify.error(e.message)})).finally((function(){t.sending_test=!1,t.send_test_pop=!1}))):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peS"),offset:19}):this.$notify.error({title:"Oops!",message:this.$t("Cam_Please_peb"),offset:19})},changingSpecificDaysStatus:function(){"yes"!=this.email.settings.timings.selected_days_only||this.email.settings.timings.allowed_days||this.$set(this.email.settings.timings,"allowed_days",["Mon","Tue","Wed","Thu","Fri","Sat","Sun"])}},mounted:function(){this.fetchSequenceEmail()}},to=Object(a.a)(Xa,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"email-sequences"}}},[t._v("\n                    "+t._s(t.$t("Email Sequences"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",{attrs:{to:{name:"edit-sequence",params:{id:t.sequence_id}}}},[t._v("\n                    "+t._s(t.sequence.title)+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.email.email_subject)+"\n                ")])],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.backToSequence()}}},[t._v("\n                "+t._s(t.$t("Back to Sequence"))+"\n            ")]),t._v(" "),i("el-popover",{directives:[{name:"loading",rawName:"v-loading",value:t.sending_test,expression:"sending_test"}],attrs:{placement:"left",width:"400",trigger:"manual"},model:{value:t.send_test_pop,callback:function(e){t.send_test_pop=e},expression:"send_test_pop"}},[i("div",[i("p",[t._v(t._s(t.$t("Cam_Type_cetstolbtsc")))]),t._v(" "),i("el-input",{attrs:{placeholder:t.$t("Email Address")},model:{value:t.test_email,callback:function(e){t.test_email=e},expression:"test_email"}},[i("template",{slot:"append"},[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.sendTestEmail()}}},[t._v(t._s(t.$t("Send")))])],1)],2)],1),t._v(" "),i("el-button",{staticClass:"fc_with_select",attrs:{slot:"reference",size:"small",type:"danger"},on:{click:function(e){t.send_test_pop=!t.send_test_pop}},slot:"reference"},[t._v("\n                    "+t._s(t.$t("Send a test email"))+"\n                ")])],1)],1)]),t._v(" "),t.app_loaded?[i("div",{staticClass:"fluentcrm_body fluentcrm_pad_30"},[i("el-form",{attrs:{"label-position":"top",model:t.email}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Email Subject")}},[t.email_subject_status?i("input-popover",{attrs:{popper_extra:"fc_with_c_fields",placeholder:t.$t("Email Subject"),data:t.smartcodes},model:{value:t.email.email_subject,callback:function(e){t.$set(t.email,"email_subject",e)},expression:"email.email_subject"}}):t._e()],1)],1),t._v(" "),i("el-col",{attrs:{sm:24,md:12}},[i("el-form-item",{attrs:{label:t.$t("Email Pre-Header")}},[i("el-input",{attrs:{type:"textarea",placeholder:t.$t("Email Pre-Header"),rows:2},model:{value:t.email.email_pre_header,callback:function(e){t.$set(t.email,"email_pre_header",e)},expression:"email.email_pre_header"}})],1)],1)],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:8,sm:24}},[i("el-form-item",{attrs:{label:t.$t("Delay")}},[i("el-row",[i("el-col",{staticStyle:{"min-width":"200px"},attrs:{md:6,sm:12}},[i("el-input-number",{model:{value:t.email.settings.timings.delay,callback:function(e){t.$set(t.email.settings.timings,"delay",e)},expression:"email.settings.timings.delay"}})],1),t._v(" "),i("el-col",{attrs:{md:12,sm:12}},[i("el-select",{model:{value:t.email.settings.timings.delay_unit,callback:function(e){t.$set(t.email.settings.timings,"delay_unit",e)},expression:"email.settings.timings.delay_unit"}},[i("el-option",{attrs:{value:"minutes",label:t.$t("Minutes")}}),t._v(" "),i("el-option",{attrs:{value:"days",label:t.$t("Days")}}),t._v(" "),i("el-option",{attrs:{value:"weeks",label:t.$t("Weeks")}}),t._v(" "),i("el-option",{attrs:{value:"Months",label:t.$t("Months")}})],1)],1)],1),t._v(" "),i("p",[t._v("Set after how many "+t._s(t.email.settings.timings.delay_unit||"time unit")+" the email will be\n                                triggered from the starting date")])],1)],1),t._v(" "),i("el-col",{attrs:{md:8,sm:24}},[i("el-form-item",{staticClass:"fluentcrm_width_input",attrs:{label:t.$t("Sending Time Range")}},[i("el-time-picker",{attrs:{"is-range":"","value-format":"HH:mm",format:"HH:mm","range-separator":"To","start-placeholder":t.$t("Start Range"),"end-placeholder":t.$t("End Range")},model:{value:t.email.settings.timings.sending_time,callback:function(e){t.$set(t.email.settings.timings,"sending_time",e)},expression:"email.settings.timings.sending_time"}}),t._v(" "),i("p",[t._v(t._s(t.$t("Edi_If_ysatrtFstettt")))])],1)],1),t._v(" "),i("el-col",{attrs:{md:8,sm:24}},[i("el-checkbox",{attrs:{"true-label":"yes","false-label":"no"},on:{change:function(e){return t.changingSpecificDaysStatus()}},model:{value:t.email.settings.timings.selected_days_only,callback:function(e){t.$set(t.email.settings.timings,"selected_days_only",e)},expression:"email.settings.timings.selected_days_only"}},[t._v("\n                            "+t._s(t.$t("Enable Specific Days Only"))+"\n                        ")]),t._v(" "),"yes"==t.email.settings.timings.selected_days_only?i("el-form-item",{staticStyle:{"margin-top":"10px"},attrs:{label:t.$t("Please select allowed days to send emails")}},[i("el-checkbox-group",{model:{value:t.email.settings.timings.allowed_days,callback:function(e){t.$set(t.email.settings.timings,"allowed_days",e)},expression:"email.settings.timings.allowed_days"}},[i("el-checkbox",{attrs:{label:"Mon"}},[t._v(t._s(t.$t("Monday")))]),t._v(" "),i("el-checkbox",{attrs:{label:"Tue"}},[t._v(t._s(t.$t("Tuesday")))]),t._v(" "),i("el-checkbox",{attrs:{label:"Wed"}},[t._v(t._s(t.$t("Wednesday")))]),t._v(" "),i("el-checkbox",{attrs:{label:"Thu"}},[t._v(t._s(t.$t("Thursday")))]),t._v(" "),i("el-checkbox",{attrs:{label:"Fri"}},[t._v(t._s(t.$t("Friday")))]),t._v(" "),i("el-checkbox",{attrs:{label:"Sat"}},[t._v(t._s(t.$t("Saturday")))]),t._v(" "),i("el-checkbox",{attrs:{label:"Sun"}},[t._v(t._s(t.$t("Sunday")))])],1)],1):t._e()],1)],1)],1)],1),t._v(" "),i("email-block-composer",{attrs:{enable_templates:!0,campaign:t.email},on:{template_inserted:function(e){return t.resetSubject()}}},[i("template",{slot:"fc_editor_actions"},[i("el-button",{attrs:{size:"small",type:"success"},on:{click:t.save}},[t._v(t._s(t.$t("Save")))])],1)],2)]:i("div",{staticClass:"fluentcrm_body fluentcrm_pad_30 text-align-center"},[i("h3",[t._v(t._s(t.$t("Loading")))])])],2)}),[],!1,null,null,null).exports,eo={name:"sequence_sub_adder",props:["sequence_id"],components:{RecipientTaggerForm:zt},data:function(){return{settings:{subscribers:[{list:null,tag:null}],excludedSubscribers:[{list:null,tag:null}],sending_filter:"list_tag",dynamic_segment:{id:"",slug:""}},ready_tagger:!0,inserting_page:1,inserting_total_page:0,inserting_now:!1,btnSubscribing:!1,batch_completed:!1,in_total:0,estimated_count:0}},watch:{},methods:{processSubscribers:function(){var t=this,e=this.settings,i=e.subscribers.filter((function(t){return t.list&&t.tag})),n=e.excludedSubscribers.filter((function(t){return t.list&&t.tag}));if("list_tag"===e.sending_filter){if(i.length!==e.subscribers.length||n.length&&n.length!==e.excludedSubscribers.length)return void this.$notify.error({title:"Oops!",message:this.$t("_Su_Invalid_solatisi"),offset:19})}else if(!e.dynamic_segment.uid)return void this.$notify.error({title:"Oops!",message:this.$t("Please select the segment"),offset:19});var s={subscribers:i,excludedSubscribers:n,sending_filter:e.sending_filter,dynamic_segment:e.dynamic_segment,page:this.inserting_page};this.btnSubscribing=!0,this.inserting_now=!0,this.ready_tagger=!1,this.$post("sequences/".concat(this.sequence_id,"/subscribers"),s).then((function(e){e.remaining?(1===t.inserting_page&&(t.inserting_total_page=e.page_total),t.inserting_page=e.next_page,t.$nextTick((function(){t.processSubscribers()}))):(t.batch_completed=!0,t.$notify.success({title:"Great!",message:t.$t("_Su_Subscribers_hbas"),offset:19}),t.in_total=e.in_total)})).catch((function(e){t.handleError(e),t.btnSubscribing=!1,t.inserting_now=!1})).finally((function(){}))},resetSettings:function(){var t=this;this.ready_tagger=!1,this.batch_completed=!1,this.inserting_now=!1,this.btnSubscribing=!1,this.inserting_page=1,this.inserting_total_page=0,this.settings={subscribers:[{list:null,tag:null}],excludedSubscribers:[{list:null,tag:null}],sending_filter:"list_tag",dynamic_segment:{id:"",slug:""}},this.$nextTick((function(){t.ready_tagger=!0}))}}},io={name:"SequenceSubscribers",components:{Pagination:g,Confirm:f},props:["sequence_id","reload_count"],data:function(){return{loading:!1,subscribers:[],pagination:{total:0,per_page:20,current_page:1},selected_subscribers:[],removing:!1}},watch:{reload_count:function(){this.page=1,this.fetch()}},methods:{fetch:function(){var t=this;this.loading=!0,this.selected_subscribers=[];var e={per_page:this.pagination.per_page,page:this.pagination.current_page};this.$get("sequences/".concat(this.sequence_id,"/subscribers"),e).then((function(e){t.subscribers=e.data,t.pagination.total=e.total})).catch((function(e){t.handleError(e)})).finally((function(e){t.loading=!1}))},removeSubscribers:function(){var t=this,e=[];this.each(this.selected_subscribers,(function(t){e.push(t.id)})),this.removing=!0,this.$del("sequences/".concat(this.sequence_id,"/subscribers"),{tracker_ids:e}).then((function(e){t.$notify.success(e.message),t.fetch()})).catch((function(e){t.handleError(e)})).always((function(){t.removing=!1}))},handleSelectionChange:function(t){this.selected_subscribers=t}},mounted:function(){this.fetch()}},no={name:"SequenceSubscribers",props:["id"],components:{SubscribersAdder:Object(a.a)(eo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_sequence_sub_adder",staticStyle:{"margin-bottom":"20px"}},[t.ready_tagger?[i("recipient-tagger-form",{model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}},[i("template",{slot:"fc_tagger_bottom"},[i("div",{staticClass:"text-align-center"},[i("p",[t._v("\n                        "+t._s(t.$t("_Su_Please_ntsewbstt"))+"\n                    ")])]),t._v(" "),i("div",{staticClass:"text-align-center"},[i("el-button",{attrs:{type:"success",size:"large"},on:{click:function(e){return t.processSubscribers()}}},[t._v("Add to this Sequence\n                    ")])],1)])],2)]:i("div",{staticClass:"text-align-center fluentcrm_hero_box"},[t.batch_completed?[i("h3",[t._v(t._s(t.$t("Completed")))]),t._v(" "),i("h4",[t._v(t._s(t.$t("_Su_All_SLashbaSttsE")))]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.batch_completed,expression:"batch_completed"}],attrs:{type:"success",size:"small"},on:{click:function(e){return t.resetSettings()}}},[t._v("Back\n            ")]),t._v(" "),i("p",[i("b",[t._v(t._s(t.in_total))]),t._v(" "+t._s(t.$t("_Su_Subscribers_hbat")))])]:[i("h3",[t._v(t._s(t.$t("Processing now...")))]),t._v(" "),i("h4",[t._v(t._s(t.$t("Rec_Please_dnctw")))]),t._v(" "),t.inserting_total_page?[i("h2",[t._v(t._s(t.inserting_page)+"/"+t._s(t.inserting_total_page))]),t._v(" "),i("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:parseInt(t.inserting_page/t.inserting_total_page*100),status:"success"}})]:t._e()]],2)],2)}),[],!1,null,null,null).exports,SequenceSubscribersView:Object(a.a)(io,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_campaign_emails"},[i("h3",[t._v(t._s(t.$t("Sequence Subscribers")))]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"empty-text":t.$t("No Data Found"),stripe:"",border:"",data:t.subscribers},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:"",width:"64",fixed:""},scopedSlots:t._u([{key:"default",fn:function(t){return[i("router-link",{attrs:{to:{name:"subscriber",params:{id:t.row.subscriber_id}}}},[i("img",{staticClass:"fc_contact_photo",attrs:{title:"Contact ID: "+t.row.subscriber_id,src:t.row.subscriber.photo}})])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Name"),width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.subscriber.full_name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Email")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("router-link",{attrs:{to:{name:"subscriber",params:{id:e.row.subscriber_id}}}},[t._v(t._s(e.row.subscriber.email)+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Status")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.status)+"\n            ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Started At")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v("\n                    "+t._s(t._f("nsHumanDiffTime")(e.row.created_at))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Next Email")},scopedSlots:t._u([{key:"default",fn:function(e){return["active"==e.row.status?i("span",{attrs:{title:e.row.created_at}},[t._v("\n                    "+t._s(t._f("nsHumanDiffTime")(e.row.next_execution_time))+"\n                ")]):i("span",[t._v("\n                    --\n                ")])]}}])})],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"10px"},attrs:{guter:20}},[i("el-col",{attrs:{xs:24,md:12}},[t.selected_subscribers.length?i("confirm",{directives:[{name:"loading",rawName:"v-loading",value:t.removing,expression:"removing"}],attrs:{message:"Are you sure, you want to remove these subscribers from this sequence?"},on:{yes:function(e){return t.removeSubscribers()}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"},[t._v(" "+t._s(t.$t("Remove From Sequence"))+"\n                ")])],1):i("div",[t._v("")])],1),t._v(" "),i("el-col",{attrs:{xs:24,md:12}},[i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetch}})],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{loading:!1,sequence:{},reload_count:0,show_adder:!1}},methods:{fetchSequence:function(){var t=this;this.loading=!0,this.$get("sequences/".concat(this.id)).then((function(e){t.sequence=e.sequence})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},backToEmails:function(){this.$router.push({name:"edit-sequence",params:{id:this.id},query:{t:(new Date).getTime()}})},reloadSubscribers:function(){this.show_adder=!1,this.reload_count+=1}},mounted:function(){this.fetchSequence()}},so=Object(a.a)(no,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm-campaigns fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("el-breadcrumb",{staticClass:"fluentcrm_spaced_bottom",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{name:"email-sequences"}}},[t._v("\n                    "+t._s(t.$t("Email Sequences"))+"\n                ")]),t._v(" "),i("el-breadcrumb-item",{attrs:{to:{name:"edit-sequence",params:{id:t.id}}}},[t._v("\n                    "+t._s(t.sequence.title)+"\n                ")]),t._v(" "),i("el-breadcrumb-item",[t._v("\n                    "+t._s(t.$t("Subscribers"))+"\n                ")])],1)],1),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.backToEmails()}}},[t._v("\n                "+t._s(t.$t("View Emails"))+"\n            ")]),t._v(" "),t.hasPermission("fcrm_manage_emails")?i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){t.show_adder=!t.show_adder}}},[t.show_adder?i("span",[t._v(t._s(t.$t("Show Subscribers")))]):i("span",[t._v(t._s(t.$t("Add Subscribers")))])]):t._e()],1)]),t._v(" "),i("div",{staticClass:"fluentcrm_body fluentcrm_pad_30"},[t.show_adder?i("subscribers-adder",{attrs:{sequence_id:t.id},on:{completed:function(e){return t.reloadSubscribers()}}}):i("div",{staticClass:"fluentcrm_sequence_subs"},[i("sequence-subscribers-view",{attrs:{reload_count:t.reload_count,sequence_id:t.id}})],1)],1)])}),[],!1,null,null,null).exports,ao={name:"CreateForm",components:{OptionSelector:pt},data:function(){return{active_step:"template_selection",templates:[],fetching:!1,form:{template_id:"",title:"",selected_tags:[],selected_list:"",double_optin:!0},created_form:!1,creating:!1}},methods:{create:function(){var t=this;if(!this.form.template_id||!this.form.title||!this.form.selected_list)return this.$notify.error(this.$t("_Cr_Please_fuatf"));this.creating=!0,this.$post("forms",this.form).then((function(e){t.$notify.success(e.message),t.created_form=e.created_form})).catch((function(e){t.handleError(e)})).finally((function(){t.creating=!1}))},changeToStep:function(t){this.active_step=t},fetchFormTemplates:function(){var t=this;this.fetching=!0,this.$get("forms/templates").then((function(e){t.templates=e})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))}},mounted:function(){this.fetchFormTemplates()}},oo={name:"FluentForms",components:{createForm:Object(a.a)(ao,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching,expression:"fetching"}],staticClass:"fc_create_form_wrapper"},[t.created_form?i("div",{staticClass:"fc_created_form text-align-center",staticStyle:{padding:"20px"}},[i("h3",[t._v(t._s(t.$t("_Cr_Your_fhbcs")))]),t._v(" "),i("p",[t._v(t._s(t.$t("CreateForm.desc")))]),t._v(" "),i("code",[t._v(t._s(t.created_form.shortcode))]),t._v(" "),i("hr"),t._v(" "),i("ul",{staticClass:"fc_links_inline"},[i("li",[i("a",{attrs:{target:"_blank",href:t.created_form.preview_url}},[t._v(t._s(t.$t("Preview The form")))])]),t._v(" "),i("li",[i("a",{attrs:{target:"_blank",href:t.created_form.edit_url}},[t._v(t._s(t.$t("Edit The form")))])]),t._v(" "),i("li",[i("a",{attrs:{target:"_blank",href:t.created_form.feed_url}},[t._v(t._s(t.$t("Edit Connection")))])])])]):["template_selection"==t.active_step?i("div",{staticClass:"fc_select_template_wrapper",staticStyle:{padding:"0 20px 40px"}},[i("h3",[t._v(t._s(t.$t("Select a template")))]),t._v(" "),i("el-radio-group",{on:{change:function(e){return t.changeToStep("config")}},model:{value:t.form.template_id,callback:function(e){t.$set(t.form,"template_id",e)},expression:"form.template_id"}},t._l(t.templates,(function(t,e){return i("el-radio",{key:e,attrs:{label:t.id}},[i("el-tooltip",{attrs:{content:t.label,placement:"bottom"}},[i("div",[i("img",{staticStyle:{width:"200px",height:"168px"},attrs:{src:t.image}})])])],1)})),1)],1):"config"==t.active_step?[i("div",{staticClass:"fc_config_template",staticStyle:{padding:"20px"}},[i("el-form",{attrs:{data:t.form,"label-position":"top"}},[i("el-form-item",{attrs:{label:t.$t("Form Title")}},[i("el-input",{attrs:{type:"text",placeholder:t.$t("Please Provide a Form Title")},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Add to List")}},[i("option-selector",{attrs:{field:{option_key:"lists",placeholder:t.$t("Select a List")}},model:{value:t.form.selected_list,callback:function(e){t.$set(t.form,"selected_list",e)},expression:"form.selected_list"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Add to Tags")}},[i("option-selector",{attrs:{field:{option_key:"tags",creatable:!0,placeholder:t.$t("Select Tags"),is_multiple:!0}},model:{value:t.form.selected_tags,callback:function(e){t.$set(t.form,"selected_tags",e)},expression:"form.selected_tags"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("Double Opt-In")}},[i("el-checkbox",{model:{value:t.form.double_optin,callback:function(e){t.$set(t.form,"double_optin",e)},expression:"form.double_optin"}},[t._v(t._s(t.$t("_Cr_Enable_DOC")))])],1)],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{md:12,sm:24}},[i("p",[t._v(t._s(t.$t("_Cr_This_fwbciFFaycc")))])]),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.creating,expression:"creating"}],attrs:{type:"primary"},on:{click:function(e){return t.create()}}},[t._v(t._s(t.$t("Create Form")))])],1)],1)],1)]:t._e()]],2)}),[],!1,null,null,null).exports,Pagination:g,ItemCopier:ns},data:function(){return{forms:[],pagination:{page:1,per_page:10,total:0},loading:!1,installing_ff:!1,need_installation:!1,create_form_modal:!1}},methods:{fetchForms:function(){var t=this,e={per_page:this.pagination.per_page,page:this.pagination.current_page};this.loading=!0,this.$get("forms",e).then((function(e){e.installed?(t.forms=e.forms.data,t.pagination.total=e.forms.total,t.need_installation=!1):t.need_installation=!0})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},installFF:function(){var t=this;this.installing_ff=!0,this.$post("setting/install-fluentform").then((function(e){t.fetchForms(),t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.installing_ff=!1}))},handleActionCommand:function(t){var e=t.form[t.url],i=t.target;e&&("blank"===i?window.open(e,"_blank"):window.location.href=e)}},mounted:function(){this.fetchForms(),this.changeTitle("Forms")}},ro=Object(a.a)(oo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-forms fluentcrm-view-wrapper fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("Forms")))]),t._v(" "),t.pagination.total?i("p",[t._v(t._s(t.$t("For_Fluent_FtacwyC")))]):t._e()]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[t.need_installation?t._e():i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.create_form_modal=!0}}},[t._v("\n                "+t._s(t.$t("Create a New Form"))+"\n            ")])],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_body"},[t.need_installation?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.installing_ff,expression:"installing_ff"}],staticClass:"fc_narrow_box fc_white_inverse text-align-center",attrs:{"element-loading-text":"Installing Fluent Forms..."}},[i("h2",[t._v(t._s(t.$t("For_Grow_YAbOF")))]),t._v(" "),i("p",[t._v(t._s(t.$t("Forms.desc")))]),t._v(" "),i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.installFF()}}},[t._v(t._s(t.$t("Das_Activate_FFI")))])],1):i("div",{staticClass:"fc_forms"},[t.pagination.total?i("div",[i("el-table",{attrs:{"empty-text":t.$t("No Form Found"),stripe:"",data:t.forms}},[i("el-table-column",{attrs:{width:"80",label:t.$t("ID"),prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{"min-width":"250",label:t.$t("Title")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                            "+t._s(e.row.title)+"\n                        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{"min-width":"300",label:t.$t("Info")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.associate_lists?i("span",{staticClass:"fc_tag_items fc_list"},[i("i",{staticClass:"el-icon-files"}),t._v(t._s(e.row.associate_lists))]):t._e(),t._v(" "),e.row.associate_tags?i("span",{staticClass:"fc_tag_items fc_tag"},[i("i",{staticClass:"el-icon-price-tag"}),t._v(" "+t._s(e.row.associate_tags))]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"230",label:t.$t("Shortcode")},scopedSlots:t._u([{key:"default",fn:function(t){return[i("item-copier",{attrs:{text:t.row.shortcode}})]}}])}),t._v(" "),i("el-table-column",{attrs:{"min-width":"130",label:t.$t("Created at")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{attrs:{title:e.row.created_at}},[t._v("\n                                "+t._s(t._f("nsHumanDiffTime")(e.row.created_at))+"\n                            ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"120",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-dropdown",{on:{command:t.handleActionCommand}},[i("el-button",{attrs:{size:"small",type:"info"}},[t._v("\n                                    "+t._s(t.$t("Actions"))+" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:{form:e.row,url:"preview_url",target:"blank"}}},[t._v("\n                                        "+t._s(t.$t("Preview Form"))+"\n                                    ")]),t._v(" "),e.row.feed_url?i("el-dropdown-item",{attrs:{command:{form:e.row,url:"feed_url",target:"blank"}}},[t._v("\n                                        "+t._s(t.$t("Edit Integration Settings"))+"\n                                    ")]):t._e(),t._v(" "),e.row.funnel_url?i("el-dropdown-item",{attrs:{command:{form:e.row,url:"funnel_url",target:"same"}}},[t._v("\n                                        "+t._s(t.$t("Edit Connected Funnel"))+"\n                                    ")]):t._e(),t._v(" "),i("el-dropdown-item",{attrs:{command:{form:e.row,url:"edit_url",target:"blank"}}},[t._v("\n                                        "+t._s(t.$t("Edit Form"))+"\n                                    ")])],1)],1)]}}])})],1),t._v(" "),i("el-row",{staticStyle:{"margin-top":"20px",padding:"20px"},attrs:{gutter:20}},[i("el-col",{attrs:{md:12,sm:24}},[t._v("\n                        "+t._s(t.$t("Forms.if_need_desc"))+"\n                    ")]),t._v(" "),i("el-col",{attrs:{md:12,sm:24}},[i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetchForms}})],1)],1)],1):i("div",{staticClass:"fc_narrow_box fc_white_inverse text-align-center"},[i("h2",[t._v(t._s(t.$t("For_Looks_Lydncafy")))]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(e){t.create_form_modal=!0}}},[t._v(t._s(t.$t("Create Your First Form")))])],1)])]),t._v(" "),i("el-dialog",{attrs:{"close-on-click-modal":!1,"min-width":"600px",title:t.$t("Create a Form"),"append-to-body":!0,visible:t.create_form_modal,width:"60%"},on:{close:t.fetchForms,"update:visible":function(e){t.create_form_modal=e}}},[t.create_form_modal?i("create-form"):t._e()],1)],1)}),[],!1,null,null,null).exports,lo={name:"SmtpSettings",components:{},data:function(){return{loading:!1,fetching:!1,bounce_settings:{ses:{}},active_provider_key:"ses",installing:!1,fluentsmtp_info:!1,fluentsmtp_just_installed:!1,fluentsmtp_config_url:"#",switching:!1}},computed:{activeProvider:function(){return this.bounce_settings[this.active_provider_key]}},methods:{getBounceSettings:function(){var t=this;this.fetching=!0,this.$get("setting/bounce_configs").then((function(e){t.bounce_settings=e.bounce_settings,e.fluentsmtp_info&&(t.fluentsmtp_info=e.fluentsmtp_info)})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))},installFluentSMTP:function(){var t=this;this.installing=!0,this.$post("setting/install-fluentsmtp").then((function(e){e.is_installed?(t.$notify.success(e.message),t.appVars.has_fluentsmtp=!0,t.appVars.disable_fluentmail_suggest=!0,t.fluentsmtp_just_installed=!0,t.fluentsmtp_config_url=e.config_url,t.getBounceSettings()):t.$notify.error("Sorry! The plugin could not be installed. Please install manually")})).catch((function(e){t.handleError(e)})).finally((function(){t.installing=!1}))},switchingProvider:function(){var t=this;this.switching=!0,setTimeout((function(){t.switching=!1}),300)}},mounted:function(){this.getBounceSettings(),this.changeTitle("Email Service Provider Settings")}},co=Object(a.a)(lo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("SMTP/Email Sending Service Settings")))])])]),t._v(" "),i("div",{staticClass:"fluentcrm_pad_around"},[t.appVars.has_fluentsmtp?t.fluentsmtp_just_installed?i("div",{staticClass:"settings-section fluentcrm_databox fc_smtp_desc text-center"},[i("h3",[t._v("FluentSMTP plugin has successfully installed")]),t._v(" "),i("p",[t._v("FluentSMTP requires to configure properly. Please configure FluentSMTP to make your email delivery works.")]),t._v(" "),i("a",{staticClass:"button button-primary",attrs:{href:t.fluentsmtp_config_url}},[t._v("Configure FluentSMTP")])]):t.fluentsmtp_info?i("div",{staticClass:"settings-section fluentcrm_databox fc_smtp_desc"},[t.fluentsmtp_info.configured?[i("h3",[t._v("Your WordPress & FluentCRM is set to send using FluentSMTP Plugin")]),t._v(" "),i("hr"),t._v(" "),i("h3",[t._v("Verified Email Senders")]),t._v(" "),i("ul",t._l(t.fluentsmtp_info.verified_senders,(function(e){return i("li",{key:e},[t._v(t._s(e))])})),0),t._v(" "),i("a",{staticClass:"button",attrs:{href:t.fluentsmtp_info.config_url}},[t._v("Goto FluentSMTP Settings")])]:[i("h3",[t._v("Looks like your FluentSMTP plugin is not configured yet")]),t._v(" "),i("a",{staticClass:"button button-primary",attrs:{href:t.fluentsmtp_info.config_url}},[t._v("Configure FluentSMTP")])]],2):t._e():i("div",{staticClass:"settings-section fluentcrm_databox fc_smtp_desc"},[i("h3",[t._v("FluentSMTP - The ultimate SMTP & Email Service Connection Plugin for WordPress")]),t._v(" "),i("hr"),t._v(" "),t._m(0),t._v(" "),i("el-row",{attrs:{gutter:12}},[i("el-col",{attrs:{span:12}},[i("h3",[t._v("Dedicated API and SMTP connections")]),t._v(" "),i("ul",[i("li",[t._v("Amazon SES")]),t._v(" "),i("li",[t._v("Mailgun")]),t._v(" "),i("li",[t._v("SendGrid")]),t._v(" "),i("li",[t._v("SendInBlue")]),t._v(" "),i("li",[t._v("PepiPost")]),t._v(" "),i("li",[t._v("SparkPost")]),t._v(" "),i("li",[t._v("+ Any SMTP Provider")])])]),t._v(" "),i("el-col",{attrs:{span:12}},[i("h3",[t._v("Features of Fluent SMTP Plugin")]),t._v(" "),i("ul",[i("li",[t._v("Optimized API connection with Mail Service Providers")]),t._v(" "),i("li",[t._v("Email Logging for better visibility")]),t._v(" "),i("li",[t._v("Email Routing based on the sender email address")]),t._v(" "),i("li",[t._v("Real-Time Email Delivery")]),t._v(" "),i("li",[t._v("Resend Any Emails")]),t._v(" "),i("li",[t._v("In Details Reporting")]),t._v(" "),i("li",[t._v("Super fast UI powered by VueJS")])])])],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"fc_call_action text-align-center"},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.installing,expression:"installing"}],attrs:{disabled:t.installing,type:"success"},on:{click:function(e){return t.installFluentSMTP()}}},[t._v("\n                    Install FluentSMTP Plugin (It's free)\n                ")])],1)],1),t._v(" "),t.fetching?i("el-skeleton",{staticClass:"fluentcrm_databox"}):i("div",{staticClass:"settings-section fluentcrm_databox fc_smtp_desc"},[i("h2",[t._v(t._s(t.$t("Bounce Handling Settings")))]),t._v(" "),i("hr"),t._v(" "),i("h3",[t._v(t._s(t.$t("Select Your Email Service Provider")))]),t._v(" "),i("el-select",{on:{change:function(e){return t.switchingProvider()}},model:{value:t.active_provider_key,callback:function(e){t.active_provider_key=e},expression:"active_provider_key"}},t._l(t.bounce_settings,(function(t,e){return i("el-option",{key:e,attrs:{value:e,label:t.label}})})),1),t._v(" "),i("hr"),t._v(" "),t.switching?i("el-skeleton",{attrs:{rows:8}}):[i("h2",[t._v(t._s(t.activeProvider.label)+" Bounce Handler")]),t._v(" "),i("p",{staticStyle:{"font-size":"14px"}},[t._v("If you use "),i("b",[t._v(t._s(t.activeProvider.label))]),t._v(" for sending your WordPress emails. This section is for you")]),t._v(" "),i("p",[t._v(t._s(t.activeProvider.input_title))]),t._v(" "),i("el-input",{attrs:{readonly:""},model:{value:t.activeProvider.webhook_url,callback:function(e){t.$set(t.activeProvider,"webhook_url",e)},expression:"activeProvider.webhook_url"}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.activeProvider.input_info)}}),t._v(" "),i("p",[t._v("For Step by Step instruction please "),i("a",{attrs:{target:"_blank",rel:"noopener",href:t.activeProvider.doc_url}},[t._v("follow this tutorial")])])]],2)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For FluentCRM users, we built a well-optimized SMTP/Amazon SES plugin. It will help you manage all your WordPress website emails, including FluentCRM emails. "),e("a",{attrs:{target:"_blank",href:"https://fluentsmtp.com"}},[this._v("Learn more about FluentSMTP Plugin.")])])}],!1,null,null,null).exports,uo={name:"General Settings",components:{FormBuilder:Et},data:function(){return{loading:!1,fetching:!1,user_syncing:{},user_syncing_fields:{},registration_setting:{},registration_fields:{},role_based_tagging_settings:{},role_based_tagging_settings_fields:{},user_syncing_settings:{},comment_settings:{},comment_fields:{},woo_checkout_fields:!1,woo_checkout_settings:{},app_ready:!1}},methods:{getSettings:function(){var t=this;this.fetching=!0,this.$get("setting/auto_subscribe_settings",{with:["fields"]}).then((function(e){t.user_syncing_settings=e.user_syncing_settings,t.user_syncing_fields=e.user_syncing_fields,t.registration_setting=e.registration_setting,t.registration_fields=e.registration_fields,t.comment_settings=e.comment_settings,t.comment_fields=e.comment_fields,t.role_based_tagging_settings=e.role_based_tagging_settings,t.role_based_tagging_settings_fields=e.role_based_tagging_settings_fields,e.woo_checkout_fields&&(t.woo_checkout_fields=e.woo_checkout_fields,t.woo_checkout_settings=e.woo_checkout_settings),t.app_ready=!0})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))},saveSettings:function(){var t=this;this.loading=!0,this.$post("setting/auto_subscribe_settings",{registration_setting:this.registration_setting,comment_settings:this.comment_settings,user_syncing_settings:this.user_syncing_settings,woo_checkout_settings:this.woo_checkout_settings,role_based_tagging_settings:this.role_based_tagging_settings}).then((function(e){t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}},mounted:function(){this.getSettings(),this.changeTitle("General Settings")}},_o=Object(a.a)(uo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching,expression:"fetching"}],staticClass:"fluentcrm-settings fc-general-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v(t._s(t.$t("General Settings")))])]),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[t.app_ready?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"success",size:"small"},on:{click:function(e){return t.saveSettings()}}},[t._v("\n                "+t._s(t.$t("Save Settings"))+"\n            ")]):t._e()],1)]),t._v(" "),t.app_ready?i("div",{staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"settings-section fluentcrm_databox"},[i("h2",[t._v(t._s(t.user_syncing_fields.title))]),t._v(" "),i("p",[t._v(t._s(t.user_syncing_fields.sub_title))]),t._v(" "),i("hr"),t._v(" "),i("form-builder",{attrs:{formData:t.user_syncing_settings,fields:t.user_syncing_fields.fields}})],1),t._v(" "),i("div",{staticClass:"settings-section fluentcrm_databox"},[i("h2",[t._v(t._s(t.registration_fields.title))]),t._v(" "),i("p",[t._v(t._s(t.registration_fields.sub_title))]),t._v(" "),i("hr"),t._v(" "),i("form-builder",{attrs:{formData:t.registration_setting,fields:t.registration_fields.fields}})],1),t._v(" "),i("div",{staticClass:"settings-section fluentcrm_databox"},[i("h2",[t._v(t._s(t.role_based_tagging_settings_fields.title))]),t._v(" "),i("p",[t._v(t._s(t.role_based_tagging_settings_fields.sub_title))]),t._v(" "),i("hr"),t._v(" "),t.has_campaign_pro||"yes"!=t.role_based_tagging_settings.status?t._e():i("p",{staticStyle:{color:"red"}},[t._v("This feature only available on FluentCRM Pro. "),i("a",{attrs:{target:"_blank",rel:"noopener",href:"https://fluentcrm.com"}},[t._v("Please purchase Pro")]),t._v(" to enable this feature")]),t._v(" "),i("form-builder",{attrs:{formData:t.role_based_tagging_settings,fields:t.role_based_tagging_settings_fields.fields}})],1),t._v(" "),i("div",{staticClass:"settings-section fluentcrm_databox"},[i("h2",[t._v(t._s(t.comment_fields.title))]),t._v(" "),i("p",[t._v(t._s(t.comment_fields.sub_title))]),t._v(" "),i("hr"),t._v(" "),i("form-builder",{attrs:{formData:t.comment_settings,fields:t.comment_fields.fields}})],1),t._v(" "),t.woo_checkout_fields?i("div",{staticClass:"settings-section fluentcrm_databox"},[i("h2",[t._v(t._s(t.woo_checkout_fields.title))]),t._v(" "),i("p",[t._v(t._s(t.woo_checkout_fields.sub_title))]),t._v(" "),i("hr"),t._v(" "),i("form-builder",{attrs:{formData:t.woo_checkout_settings,fields:t.woo_checkout_fields.fields}})],1):t._e(),t._v(" "),t.app_ready?i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"success",size:"small"},on:{click:function(e){return t.saveSettings()}}},[t._v("\n            "+t._s(t.$t("Save Settings"))+"\n        ")]):t._e()],1):t._e()])}),[],!1,null,null,null).exports,po={name:"LicenseSettings",components:{},data:function(){return{fetching:!0,verifying:!1,licenseData:{},licenseKey:"",showNewLicenseInput:!1,errorMessage:""}},methods:{getSettings:function(){var t=this;this.errorMessage="",this.fetching=!0,this.$get("campaign-pro-settings/license",{verify:!0}).then((function(e){t.licenseData=e})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))},verifyLicense:function(){var t=this;if(!this.licenseKey)return this.$notify.error("Please provide a license key"),void(this.errorMessage="Please provide a license key");this.verifying=!0,this.errorMessage="",this.$post("campaign-pro-settings/license",{license_key:this.licenseKey}).then((function(e){t.licenseData=e.license_data,t.$notify.success(e.message)})).catch((function(e){var i="";(i="string"==typeof e?e:e&&e.message?e.message:window.FLUENTCRM.convertToText(e))||(i="Something is wrong!"),t.errorMessage=i,t.handleError(e)})).finally((function(){t.verifying=!1}))},deactivateLicense:function(){var t=this;this.verifying=!0,this.$del("campaign-pro-settings/license").then((function(e){t.licenseData=e.license_data,t.$notify.success(e.message)})).catch((function(e){t.handleError(e)})).finally((function(){t.verifying=!1}))}},mounted:function(){this.has_campaign_pro&&this.getSettings(),this.changeTitle("General Settings")}},mo=Object(a.a)(po,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.has_campaign_pro?i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[t._m(0),t._v(" "),i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-refresh"},on:{click:t.getSettings}})],1)]),t._v(" "),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.verifying,expression:"verifying"}],staticClass:"fluentcrm_pad_around"},[t.fetching?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching,expression:"fetching"}],staticClass:"text-align-center"},[i("h3",[t._v("Fetching License Information Please wait")])]):i("div",{staticClass:"fc_narrow_box fc_white_inverse text-align-center",class:"fc_license_"+t.licenseData.status},["expired"==t.licenseData.status?i("div",[i("h3",[t._v("Looks like your license has been expired "+t._s(t._f("nsHumanDiffTime")(t.licenseData.expires)))]),t._v(" "),i("a",{staticClass:"el-button el-button--danger el-button--small",attrs:{href:t.licenseData.renew_url,target:"_blank"}},[t._v("Click Here to Renew your License")]),t._v(" "),i("hr",{staticStyle:{margin:"20px 0px"}}),t._v(" "),t.showNewLicenseInput?i("div",[i("h3",[t._v("Your License Key")]),t._v(" "),i("el-input",{attrs:{placeholder:"License Key"},model:{value:t.licenseKey,callback:function(e){t.licenseKey=e},expression:"licenseKey"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-lock"},on:{click:function(e){return t.verifyLicense()}},slot:"append"},[t._v(t._s(t.$t("Verify License")))])],1)],1):i("p",[t._v("Have a new license Key? "),i("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showNewLicenseInput=!t.showNewLicenseInput}}},[t._v("Click here")])])]):"valid"==t.licenseData.status?i("div",[t._m(1),t._v(" "),i("h2",[t._v("You license key is valid and activated")]),t._v(" "),i("hr",{staticStyle:{margin:"20px 0px"}}),t._v(" "),i("p",[t._v("Want to deactivate this license? "),i("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deactivateLicense()}}},[t._v("Click here")])])]):i("div",[i("h3",[t._v("Please Provide a license key of FluentCRM - Email Marketing Addon")]),t._v(" "),i("el-input",{attrs:{placeholder:"License Key"},model:{value:t.licenseKey,callback:function(e){t.licenseKey=e},expression:"licenseKey"}},[i("el-button",{attrs:{slot:"append",type:"success",icon:"el-icon-lock"},on:{click:function(e){return t.verifyLicense()}},slot:"append"},[t._v(t._s(t.$t("Verify License")))])],1),t._v(" "),i("hr",{staticStyle:{margin:"20px 0 30px"}}),t._v(" "),t.showNewLicenseInput?t._e():i("p",[t._v("Don't have a license key? "),i("a",{attrs:{target:"_blank",href:t.licenseData.purchase_url}},[t._v("Purchase one here")])])],1)]),t._v(" "),i("p",{staticClass:"text-align-center",staticStyle:{color:"red"},domProps:{innerHTML:t._s(t.errorMessage)}})])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fluentcrm_header_title"},[e("h3",[this._v("License Management")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-align-center"},[e("span",{staticClass:"el-icon el-icon-circle-check",staticStyle:{"font-size":"50px"}})])}],!1,null,null,null).exports,fo={name:"CreateLink",components:{FormBuilder:Et},props:["editing_row","item_mode"],data:function(){return{link:{title:"",notes:"",target_url:"",actions:{tags:[],lists:[]},detach_actions:{tags:[],lists:[]}},creating:!1,fields:{title:{type:"input-text",placeholder:this.$t("Link Title"),label:this.$t("Link Title"),help:"Your link title so you do not forget it"},target_url:{type:"input-text",data_type:"url",placeholder:this.$t("Your target URL"),label:this.$t("Target Full URL"),help:"Insert a valid url that this link will direct to"},actions:{type:"input-tag-list",label:"",wrapper_class:"fc_group_field_half",tag_label:this.$t("Apply Tags when clicked"),tag_help:"These tags will be applied to the contact whenever this link is clicked",list_label:this.$t("Apply Lists when clicked (optional)"),list_help:"These Lists will be applied to the contact whenever this link is clicked"},detach_actions:{type:"input-tag-list",label:"",wrapper_class:"fc_group_field_half",tag_label:this.$t("Remove Tags when clicked (optional)"),tag_help:"These tags will be removed from the contact whenever this link is clicked",list_label:this.$t("Remove Lists when clicked (optional)"),list_help:"These Tags will be removed to a contact whenever this link is clicked"},notes:{type:"input-text",placeholder:"Your URL Note",data_type:"textarea",label:this.$t("Note (Optional)"),help:"Feel free to add a note regarding this URL"}},link_created:!1}},methods:{createLink:function(){var t=this;this.creating=!0,this.$post("smart-links",{link:this.link}).then((function(e){t.$emit("linkCreated",e.link),t.$notify.success(e.message),t.link.short_url=e.link.short_url,t.link_created=!0})).catch((function(e){t.handleError(e)})).finally((function(){t.creating=!1}))},updateLink:function(){var t=this;this.$put("smart-links/".concat(this.link.id),{link:this.link}).then((function(e){t.$emit("linkCreated",e.link),t.$notify.success(e.message),t.link_created=!0})).catch((function(e){t.handleError(e)})).finally((function(){t.creating=!1}))}},created:function(){"edit"==this.item_mode&&(this.link=JSON.parse(JSON.stringify(this.editing_row)))}},ho={name:"ItemCopier",props:["url"],methods:{gotoUrl:function(){}}},go={name:"actionLinks",components:{CreateLink:Object(a.a)(fo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_create_link_wrapper"},[t.link_created?i("div",{staticClass:"fc_narrow_box fc_white_inverse text-align-center"},[i("p",[t._v("\n            "+t._s(t.$t("_Cr_Please_utfsuawau"))+"\n        ")]),t._v(" "),i("el-input",{attrs:{type:"textarea",readonly:!0},model:{value:t.link.short_url,callback:function(e){t.$set(t.link,"short_url",e)},expression:"link.short_url"}})],1):i("div",[i("form-builder",{attrs:{fields:t.fields,formData:t.link}}),t._v(" "),"create"==t.item_mode?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.createLink()}}},[t._v("\n            "+t._s(t.$t("Create Smart Link"))+"\n        ")]):i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateLink()}}},[t._v("\n            "+t._s(t.$t("Update Smart Link"))+"\n        ")])],1)])}),[],!1,null,null,null).exports,Confirm:f,Pagination:g,ItemCopier:ns,UrlGoTo:Object(a.a)(ho,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-input",{attrs:{size:"mini",readonly:!0},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}},[i("a",{attrs:{slot:"append",href:t.url,target:"_blank",rel:"nofollow"},slot:"append"},[i("i",{staticClass:"el-icon-link"})])])}),[],!1,null,null,null).exports,ListTagItems:rs},data:function(){return{links:[],loading:!1,activating:!1,require_activation:!1,create_link_modal:!1,pagination:{total:0,per_page:20,current_page:1},search:"",editingRow:!1,edit_modal:!1}},methods:{fetchLinks:function(){var t=this;this.loading=!0,this.$get("smart-links",{per_page:this.pagination.per_page,page:this.pagination.current_page,search:this.search}).then((function(e){t.links=e.action_links.data,t.pagination.total=e.action_links.total})).catch((function(e){"disabled"===e.status?t.require_activation=!0:t.handleError(e)})).finally((function(){t.loading=!1}))},activateModule:function(){var t=this;this.activating=!0,this.$post("smart-links/activate").then((function(e){t.require_activation=!1,t.create_link_modal=!0,window.fcAdmin.has_smart_link=!0})).catch((function(e){t.handleError(e)})).finally((function(){t.activating=!1}))},remove:function(t){var e=this;this.$del("smart-links/".concat(t.id)).then((function(t){e.$notify.success(t.message),e.fetchLinks()})).catch((function(t){e.handleError(t)}))},showEdit:function(t){t.detach_actions||(t.detach_actions={tags:[],lists:[]}),this.editingRow=t,this.edit_modal=!0}},created:function(){this.has_campaign_pro&&this.fetchLinks(),this.changeTitle("Smart Links")}},vo=Object(a.a)(go,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm-settings fluentcrm_min_bg fluentcrm_view"},[i("div",{staticClass:"fluentcrm_header"},[i("div",{staticClass:"fluentcrm_header_title"},[i("h3",[t._v("\n                "+t._s(t.$t("Smart Links"))+"\n                "),i("el-popover",{attrs:{placement:"right",width:"400",trigger:"hover"}},[i("p",[t._v("\n                        "+t._s(t.$t("Lin_SmartLinks_aytta"))+"\n                    ")]),t._v(" "),i("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-info"},slot:"reference"})],1)],1)]),t._v(" "),t.has_campaign_pro?i("div",{staticClass:"fluentcrm-templates-action-buttons fluentcrm-actions"},[i("el-button",{attrs:{disabled:t.require_activation,type:"primary",size:"small"},on:{click:function(e){t.create_link_modal=!0}}},[t._v("\n                "+t._s(t.$t("Add New Smart Link"))+"\n            ")])],1):t._e()]),t._v(" "),t.has_campaign_pro?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"fluentcrm_pad_around"},[t.require_activation?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.activating,expression:"activating"}],staticClass:"fc_narrow_box fc_white text-align-center"},[i("h1",[t._v(t._s(t.$t("SmartLinks")))]),t._v(" "),i("p",[t._v("\n                "+t._s(t.$t("Lin_SmartLinks_aytta"))+"\n            ")]),t._v(" "),i("el-button",{attrs:{type:"success",size:"large"},on:{click:function(e){return t.activateModule()}}},[t._v("\n                "+t._s(t.$t("Start Using SmartLinks"))+"\n            ")])],1):i("div",{staticClass:"settings-section"},[i("el-table",{attrs:{"empty-text":t.$t("No Data Found"),stripe:"",data:t.links}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("h4",[t._v(t._s(t.$t("Attached Tags and Lists")))]),t._v(" "),i("p",[i("list-tag-items",{attrs:{item_type:"tags",items:e.row.actions.tags}}),t._v(" "),i("list-tag-items",{attrs:{item_type:"lists",items:e.row.actions.lists}})],1),t._v(" "),e.row.detach_actions?[i("h4",[t._v(t._s(t.$t("Detach Tags and Lists")))]),t._v(" "),i("p",[i("list-tag-items",{attrs:{item_type:"tags",items:e.row.detach_actions.tags}}),t._v(" "),i("list-tag-items",{attrs:{item_type:"lists",items:e.row.detach_actions.lists}})],1)]:t._e(),t._v(" "),i("p",[i("b",[t._v(t._s(t.$t("Subscriber Clicks"))+":")]),t._v(" "+t._s(e.row.contact_clicks))]),t._v(" "),i("p",[i("b",[t._v(t._s(t.$t("Public User Clicks"))+":")]),t._v(" "+t._s(e.row.all_clicks-e.row.contact_clicks))]),t._v(" "),e.row.notes?[i("h4",[t._v(t._s(t.$t("Note"))+":")]),t._v(" "),i("p",{domProps:{innerHTML:t._s(e.row.notes)}})]:t._e()]}}],null,!1,1988563605)}),t._v(" "),i("el-table-column",{attrs:{width:"170",label:t.$t("Title")},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.title)+"\n                    ")]}}],null,!1,2426795613)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Smart URL")},scopedSlots:t._u([{key:"default",fn:function(t){return[i("item-copier",{attrs:{text:t.row.short_url}})]}}],null,!1,4064985928)}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("Target URL")},scopedSlots:t._u([{key:"default",fn:function(t){return[i("url-go-to",{attrs:{url:t.row.target_url}})]}}],null,!1,2251746495)}),t._v(" "),i("el-table-column",{attrs:{width:"100",label:t.$t("Actions")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.showEdit(e.row)}}}),t._v(" "),i("confirm",{on:{yes:function(i){return t.remove(e.row)}}},[i("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"})],1)]}}],null,!1,1109812164)})],1),t._v(" "),i("pagination",{attrs:{pagination:t.pagination},on:{fetch:t.fetchLinks}})],1)]):i("div",{staticClass:"fluentcrm_pad_around"},[i("div",{staticClass:"fc_narrow_box fc_white text-align-center"},[i("h1",[t._v(t._s(t.$t("SmartLinks")))]),t._v(" "),i("p",[t._v("\n                "+t._s(t.$t("Lin_SmartLinks_aytta"))+"\n            ")]),t._v(" "),i("p",[t._v("\n                "+t._s(t.$t("Lin_This_iapfPdtFPta"))+"\n            ")]),t._v(" "),i("div",{},[i("a",{staticClass:"el-button el-button--danger",attrs:{href:t.appVars.crm_pro_url,target:"_blank",rel:"noopener"}},[t._v("\n                    "+t._s(t.$t("Get FluentCRM Pro"))+"\n                ")])])])]),t._v(" "),i("el-dialog",{attrs:{width:"60%","append-to-body":!0,visible:t.create_link_modal,title:t.$t("Create a new Smart link")},on:{"update:visible":function(e){t.create_link_modal=e}}},[t.create_link_modal?i("create-link",{attrs:{item_mode:"create"},on:{linkCreated:t.fetchLinks}}):t._e()],1),t._v(" "),i("el-dialog",{attrs:{width:"60%","append-to-body":!0,visible:t.edit_modal,title:t.$t("Edit Smart link")},on:{"update:visible":function(e){t.edit_modal=e}}},[t.edit_modal?i("create-link",{attrs:{item_mode:"edit",editing_row:t.editingRow},on:{linkCreated:t.fetchLinks}}):t._e()],1)],1)}),[],!1,null,null,null).exports,bo=i(163),yo=i.n(bo),wo={name:"Documentations",data:function(){return{search:"",fetching:!1,docs:[],utl_param:"?utm_source=wp&utm_medium=doc&utm_campaign=doc"}},computed:{doc_cats:function(){if(!this.docs.length)return[];var t={item_3:{label:"Getting Started With Audience",docs:[]},item_7:{label:"Grow Your Audience",docs:[]},item_4:{label:"Email Campaign",docs:[]},item_5:{label:"Automation Funnels",docs:[]}};return this.each(this.docs,(function(e){var i="item_"+e.category.value;t[i]||(t[i]={label:e.category.label,cat_id:e.category.value,docs:[]}),t[i].docs.push(e)})),Object.values(t)},search_items:function(){var t=this;return this.search&&this.docs.length?yo()(this.docs,(function(e){return e.title.includes(t.search)||e.content.includes(t.search)})):[]}},methods:{openSearch:function(){},fetchDocs:function(){var t=this;this.fetching=!0,this.$get("docs").then((function(e){t.docs=e.docs})).catch((function(e){t.handleError(e)})).finally((function(){t.fetching=!1}))}},mounted:function(){this.fetchDocs()}},ko={name:"Addons",data:function(){return{addOns:[],loading:!0,installing:!1}},methods:{fetchAddons:function(){var t=this;this.loading=!0,this.$get("docs/addons").then((function(e){t.addOns=e.addons})).catch((function(e){t.$handleError(e)})).finally((function(){t.loading=!1}))},installPlugin:function(t){var e=this;this.installing=!0,this.$post("setting/install-"+t).then((function(t){t.is_installed?e.$notify.success(t.message):e.$notify.error("Sorry, the selected plugins could not be installed"),e.fetchAddons()})).catch((function(t){e.handleError(t)})).finally((function(){e.installing=!1}))}},mounted:function(){this.fetchAddons()}},xo=[{name:"default",path:"*",redirect:"/"},{name:"no_permission",path:"/no_permission",component:d},{name:"dashboard",path:"/",component:u,props:!0,meta:{active_menu:"dashboard",permission:"fcrm_view_dashboard"}},{name:"subscribers",path:"/subscribers",component:Oi,props:!0,meta:{active_menu:"contacts",permission:"fcrm_read_contacts"}},{path:"/subscribers/:id",component:Bi,props:!0,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"},children:[{name:"subscriber",path:"/",component:fn,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"subscriber_emails",path:"emails",component:xn,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"subscriber_form_submissions",path:"form-submissions",component:On,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"subscriber_notes",path:"notes",component:Tn,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"subscriber_purchases",path:"purchases",component:An,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"subscriber_support_tickets",path:"support-tickets",component:zn,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"subscriber_files",path:"files",component:Bn,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}},{name:"fluentcrm_profile_extended",path:"profile_section",component:Un,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_read_contacts"}}]},{path:"/email",component:p,props:!0,meta:{parent:"email",permission:"fcrm_read_emails"},children:[{name:"campaigns",path:"campaigns",component:y,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"campaign-view",path:"campaigns/:id/view",component:ce,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"campaign",path:"campaigns/:id",component:Qt,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"templates",path:"templates",component:de,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"edit_template",path:"templates/:template_id",component:pe,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{path:"sequences",component:Wa,props:!0,children:[{name:"email-sequences",path:"/",component:Ka,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"edit-sequence",path:"edit/:id",component:Za,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"edit-sequence-email",path:"edit/:sequence_id/email/:email_id",component:to,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}},{name:"sequence-subscribers",path:"subscribers/:id/view",component:so,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}}]},{name:"all_emails",path:"all-emails",component:fe,props:!0,meta:{parent:"email",active_menu:"campaigns",permission:"fcrm_read_emails"}}]},{path:"/contact-groups",component:Gi,props:!0,meta:{parent:"contacts",permission:"fcrm_manage_contact_cats"},children:[{name:"lists",path:"lists",component:Ki,props:!0,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_manage_contact_cats"}},{name:"tags",path:"tags",component:Zi,props:!0,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_manage_contact_cats"}},{name:"dynamic_segments",path:"dynamic-segments",component:en,props:!0,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_manage_contact_cats"}},{name:"create_custom_segment",path:"dynamic-segments/create-custom",component:pn,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_manage_contact_cats"}},{name:"view_segment",path:"dynamic-segments/:slug/view/:id",props:!0,component:dn,meta:{permission:"fcrm_read_contacts",parent:"subscribers",active_menu:"contacts"}}]},{name:"list",path:"/lists/:listId",component:Ai,props:!0,meta:{parent:"subscribers",active_menu:"contacts",permission:"fcrm_manage_contact_cats"}},{name:"tag",path:"/tags/:tagId",component:Ni,props:!0,meta:{permission:"fcrm_read_contacts",parent:"subscribers",active_menu:"contacts"}},{name:"import",path:"/import",component:Ui,props:!0,meta:{permission:"fcrm_manage_contacts"}},{name:"forms",path:"/forms",component:ro,props:!0,meta:{parent:"forms",active_menu:"forms",permission:"fcrm_manage_forms"}},{path:"/settings",component:Gn,meta:{active_menu:"settings",permission:"fcrm_manage_settings"},children:[{name:"email_settings",path:"email_settings",component:Jn,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"business_settings",path:"/",component:Kn,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"custom_contact_fields",path:"custom_contact_fields",component:Xn,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"smart_links",path:"smart_links",component:vo,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"double-optin-settings",path:"double_optin_settings",component:es,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"webhook-settings",path:"webhook_settings",component:ps,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"settings_tools",path:"settings_tools",component:bs,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"managers",path:"managers",component:ws,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"rest-api",path:"reset-api",component:Cs,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"smtp_settings",path:"smtp_settings",component:co,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"other_settings",path:"other_settings",component:_o,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}},{name:"license_settings",path:"license_settings",component:mo,meta:{active_menu:"settings",permission:"fcrm_manage_settings"}}]},{path:"/funnels",component:Es,meta:{active_menu:"funnels",permission:"fcrm_read_funnels"},children:[{name:"funnels",path:"/",component:Ts,meta:{active_menu:"funnels",permission:"fcrm_read_funnels"}},{name:"edit_funnel",path:"/funnel/:funnel_id/edit",component:Ta,props:!0,meta:{active_menu:"funnels",permission:"fcrm_read_funnels"}},{name:"funnel_subscribers",path:"/funnel/:funnel_id/subscribers",component:Ba,props:!0,meta:{active_menu:"funnels",permission:"fcrm_read_funnels"}},{name:"import_funnel",path:"/funnel/import",component:Ua,meta:{active_menu:"funnels",permission:"fcrm_read_funnels"}}]},{name:"docs",path:"/documentation",component:Object(a.a)(wo,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_docs"},[i("div",{staticClass:"fc_doc_header text-align-center",staticStyle:{"max-width":"800px",margin:"50px auto",padding:"0px 20px"}},[i("h1",[t._v("How can we help you?")]),t._v(" "),t._m(0),t._v(" "),i("el-input",{directives:[{name:"loading",rawName:"v-loading",value:t.fetching,expression:"fetching"}],attrs:{clearable:"",disabled:t.fetching,size:"large",placeholder:t.$t("Search Type and Enter...")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),t._v(" "),t.search?i("div",{staticClass:"search_result"},[i("div",{staticClass:"fc_doc_items"},[i("div",{staticClass:"fc_doc_header"},[i("h3",[t._v("Search Results for: "+t._s(t.search))])]),t._v(" "),i("div",{staticClass:"fc_doc_lists"},[t.search_items.length?i("ul",t._l(t.search_items,(function(e){return i("li",{key:e.id},[i("a",{attrs:{target:"_blank",href:e.link+t.utl_param},domProps:{innerHTML:t._s(e.title)}})])})),0):i("p",[t._v("Sorry! No docs found")])])])]):t._e()],1),t._v(" "),i("div",{staticClass:"doc_body"},t._l(t.doc_cats,(function(e,n){return i("div",{key:n,staticClass:"doc_each_items"},[i("div",{staticClass:"fc_doc_items"},[i("div",{staticClass:"fc_doc_header"},[i("h3",[t._v(t._s(e.label))])]),t._v(" "),i("div",{staticClass:"fc_doc_lists"},[i("ul",t._l(e.docs,(function(e){return i("li",{key:e.id},[i("a",{attrs:{target:"_blank",href:e.link+t.utl_param},domProps:{innerHTML:t._s(e.title)}})])})),0)])])])})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Please view the "),e("a",{attrs:{href:"https://fluentcrm.com/docs"}},[this._v("documentation")]),this._v(" first. If you still can't find the\n            answer "),e("a",{attrs:{href:"https://wpmanageninja.com/support-tickets/"}},[this._v("open a support ticket")]),this._v(" and we will be\n            happy to answer your questions and assist you with any problems.")])}],!1,null,null,null).exports},{name:"addons",path:"/add-ons",component:Object(a.a)(ko,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fc_docs",staticStyle:{"max-width":"1000px",margin:"50px auto",padding:"0px 20px"}},[t._m(0),t._v(" "),i("div",{staticClass:"addons_wrap",staticStyle:{"margin-top":"30px"}},[t.loading?i("el-skeleton",{staticStyle:{width:"100%"},attrs:{animated:""}},[i("template",{slot:"template"},[i("el-row",{attrs:{gutter:30}},[i("el-col",{attrs:{span:8}},[i("el-skeleton",{staticStyle:{background:"white",padding:"15px"},attrs:{rows:5}})],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-skeleton",{staticStyle:{background:"white",padding:"15px"},attrs:{rows:5}})],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-skeleton",{staticStyle:{background:"white",padding:"15px"},attrs:{rows:5}})],1)],1)],1)],2):i("div",[t.has_campaign_pro?t._e():i("div",{staticClass:"fc_addon fc_pro_wrapper"},[i("h2",[t._v("Supercharge your Email Marketing and Automation with FluentCRM Pro")]),t._v(" "),i("p",[t._v("With FluentCRM Pro, you can integrate with other plugins like E-commerce, Membership, LMS (25+ integrations) along with advanced reports, sequence (drip) emails, advanced automation and unlock lots of useful features.")]),t._v(" "),i("a",{staticClass:"el-button el-button--success",attrs:{href:"https://fluentcrm.com/",target:"_blank",rel:"noopener"}},[t._v("Get FluentCRM Pro Now")])]),t._v(" "),i("el-row",{attrs:{gutter:30}},t._l(t.addOns,(function(e,n){return i("el-col",{key:n,attrs:{md:8,sm:24}},[i("div",{staticClass:"fc_addon"},[e.is_installed?i("span",{staticClass:"fc_addon_installed"},[t._v("Installed")]):t._e(),t._v(" "),i("img",{attrs:{src:e.logo}}),t._v(" "),i("h3",[i("a",{attrs:{target:"_blank",href:e.learn_more_url}},[t._v(t._s(e.title))])]),t._v(" "),i("p",[t._v(t._s(e.description))]),t._v(" "),e.is_installed?i("a",{staticClass:"el-button el-button--primary",attrs:{href:e.settings_url}},[t._v("View Settings")]):i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.installing,expression:"installing"}],attrs:{type:"success"},on:{click:function(e){return t.installPlugin(n)}}},[t._v("\n                            "+t._s(e.action_text)+"\n                        ")])],1)])})),1)],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fc_doc_header text-align-center"},[e("h1",[this._v("FluentCRM Recommended Plugins and Addons")]),this._v(" "),e("p",[this._v("Extend FluentCRM functionalities and supercharge your email marketing and automation")])])}],!1,null,null,null).exports}],$o={name:"Application",methods:{verifyLicense:function(){this.$get("campaign-pro-settings/license",{verify:!0}).then((function(t){})).catch((function(t){})).finally((function(){}))}},mounted:function(){var t=this;jQuery(".update-nag,.notice, #wpbody-content > .updated, #wpbody-content > .error").remove(),jQuery(".toplevel_page_fluentcrm-admin a").on("click",(function(){jQuery(".toplevel_page_fluentcrm-admin li").removeClass("current"),jQuery(this).parent().addClass("current")})),jQuery(".fluentcrm_menu a").on("click",(function(){})),window.fcAdmin.require_verify_request&&this.verifyLicense(),this.$bus.$on("renew_options",(function(e){t.renewOptions(e)}))}},Co=Object(a.a)($o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fluentcrm-app"},[e("div",{staticClass:"fluentcrm-body"},[e("router-view",{key:"main_route"})],1)])}),[],!1,null,null,null).exports,So=i(31),Eo=i.n(So),Oo=function(){return Math.random().toString(36).substring(2)},jo={name:"ContentLoader",functional:!0,props:{width:{type:[Number,String],default:400},height:{type:[Number,String],default:130},speed:{type:Number,default:2},preserveAspectRatio:{type:String,default:"xMidYMid meet"},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},render:function(t,e){var i=e.props,n=e.data,s=e.children,a=i.uniqueKey?i.uniqueKey+"-idClip":Oo(),o=i.uniqueKey?i.uniqueKey+"-idGradient":Oo();return t("svg",Eo()([n,{attrs:{viewBox:"0 0 "+i.width+" "+i.height,version:"1.1",preserveAspectRatio:i.preserveAspectRatio}}]),[t("rect",{style:{fill:"url("+i.baseUrl+"#"+o+")"},attrs:{"clip-path":"url("+i.baseUrl+"#"+a+")",x:"0",y:"0",width:i.width,height:i.height}}),t("defs",[t("clipPath",{attrs:{id:a}},[s||t("rect",{attrs:{x:"0",y:"0",rx:"5",ry:"5",width:i.width,height:i.height}})]),t("linearGradient",{attrs:{id:o}},[t("stop",{attrs:{offset:"0%","stop-color":i.primaryColor,"stop-opacity":i.primaryOpacity}},[i.animate?t("animate",{attrs:{attributeName:"offset",values:"-2; 1",dur:i.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"50%","stop-color":i.secondaryColor,"stop-opacity":i.secondaryOpacity}},[i.animate?t("animate",{attrs:{attributeName:"offset",values:"-1.5; 1.5",dur:i.speed+"s",repeatCount:"indefinite"}}):null]),t("stop",{attrs:{offset:"100%","stop-color":i.primaryColor,"stop-opacity":i.primaryOpacity}},[i.animate?t("animate",{attrs:{attributeName:"offset",values:"-1; 2",dur:i.speed+"s",repeatCount:"indefinite"}}):null])])])])}},To={name:"fluent_loader",components:{ContentLoader:jo},props:{type:{type:String,default:"table"}}},Po=Object(a.a)(To,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fluentcrm_loader",staticStyle:{background:"white","padding-bottom":"20px"}},[i("content-loader",{attrs:{speed:2,width:1500,height:400,viewBox:"0 0 1500 400",primaryColor:"#dcdbdb",secondaryColor:"#ecebeb"}},[i("rect",{attrs:{x:"27",y:"139",rx:"4",ry:"4",width:"20",height:"20"}}),t._v(" "),i("rect",{attrs:{x:"67",y:"140",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"188",y:"141",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"402",y:"140",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"523",y:"141",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"731",y:"139",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"852",y:"138",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1424",y:"137",rx:"10",ry:"10",width:"68",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"26",y:"196",rx:"4",ry:"4",width:"20",height:"20"}}),t._v(" "),i("rect",{attrs:{x:"66",y:"197",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"187",y:"198",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"401",y:"197",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"522",y:"198",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"730",y:"196",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"851",y:"195",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("circle",{attrs:{cx:"1456",cy:"203",r:"12"}}),t._v(" "),i("rect",{attrs:{x:"26",y:"258",rx:"4",ry:"4",width:"20",height:"20"}}),t._v(" "),i("rect",{attrs:{x:"66",y:"259",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"187",y:"260",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"401",y:"259",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"522",y:"260",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"730",y:"258",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"851",y:"257",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("circle",{attrs:{cx:"1456",cy:"265",r:"12"}}),t._v(" "),i("rect",{attrs:{x:"26",y:"316",rx:"4",ry:"4",width:"20",height:"20"}}),t._v(" "),i("rect",{attrs:{x:"66",y:"317",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"187",y:"318",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"401",y:"317",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"522",y:"318",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"730",y:"316",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"851",y:"315",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("circle",{attrs:{cx:"1456",cy:"323",r:"12"}}),t._v(" "),i("rect",{attrs:{x:"26",y:"379",rx:"4",ry:"4",width:"20",height:"20"}}),t._v(" "),i("rect",{attrs:{x:"66",y:"380",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"187",y:"381",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"401",y:"380",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"522",y:"381",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"730",y:"379",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"851",y:"378",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("circle",{attrs:{cx:"1456",cy:"386",r:"12"}}),t._v(" "),i("rect",{attrs:{x:"978",y:"138",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"977",y:"195",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"977",y:"257",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"977",y:"315",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"977",y:"378",rx:"10",ry:"10",width:"169",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1183",y:"139",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1182",y:"196",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1182",y:"258",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1182",y:"316",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1182",y:"379",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1305",y:"137",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1304",y:"194",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1304",y:"256",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1304",y:"314",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("rect",{attrs:{x:"1304",y:"377",rx:"10",ry:"10",width:"85",height:"19"}}),t._v(" "),i("circle",{attrs:{cx:"37",cy:"97",r:"11"}}),t._v(" "),i("rect",{attrs:{x:"26",y:"23",rx:"5",ry:"5",width:"153",height:"30"}}),t._v(" "),i("circle",{attrs:{cx:"1316",cy:"88",r:"11"}}),t._v(" "),i("rect",{attrs:{x:"1337",y:"94",rx:"0",ry:"0",width:"134",height:"3"}}),t._v(" "),i("circle",{attrs:{cx:"77",cy:"96",r:"11"}})])],1)}),[],!1,null,null,null).exports;function Fo(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Do(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(i),!0).forEach((function(e){qo(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fo(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function qo(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ao=new window.FLUENTCRM.Router({routes:window.FLUENTCRM.applyFilters("fluentcrm_global_routes",xo)});window.FLUENTCRM.Vue.prototype.$rest=window.FLUENTCRM.$rest,window.FLUENTCRM.Vue.prototype.$get=window.FLUENTCRM.$get,window.FLUENTCRM.Vue.prototype.$post=window.FLUENTCRM.$post,window.FLUENTCRM.Vue.prototype.$del=window.FLUENTCRM.$del,window.FLUENTCRM.Vue.prototype.$put=window.FLUENTCRM.$put,window.FLUENTCRM.Vue.prototype.$patch=window.FLUENTCRM.$patch,window.FLUENTCRM.Vue.prototype.$bus=new window.FLUENTCRM.Vue,window.FLUENTCRM.Vue.prototype.appVars=window.fcAdmin,window.FLUENTCRM.Vue.component("fluent-loader",Po),function(t){var e=t.success;t.success=function(i){if(i)return"string"==typeof i&&(i={message:i}),e.call(t,Do({offset:19,title:"Great!"},i))};var i=t.error;t.error=function(e){if(e)return"string"==typeof e&&(e={message:e}),i.call(t,Do({offset:19,title:"Oops!"},e))}}(window.FLUENTCRM.Vue.prototype.$notify),Ao.beforeEach((function(t,e,i){t.meta.permission?window.FLUENTCRM.hasPermission(t.meta.permission)?i():i({name:"no_permission",query:{permission:t.meta.permission}}):i()})),window.FLUENTCRM.request=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="".concat(window.fcAdmin.rest.url,"/").concat(e),s={"X-WP-Nonce":window.fcAdmin.rest.nonce};return-1!==["PUT","PATCH","DELETE"].indexOf(t.toUpperCase())&&(s["X-HTTP-Method-Override"]=t,t="POST"),i.query_timestamp=Date.now(),new Promise((function(e,a){window.jQuery.ajax({url:n,type:t,data:i,headers:s}).then((function(t){return e(t)})).fail((function(t){return a(t.responseJSON)}))}))},new window.FLUENTCRM.Vue({el:"#fluentcrm_app",render:function(t){return t(Co)},router:Ao,watch:{$route:function(t,e){t.meta.active_menu&&jQuery(document).trigger("fluentcrm_route_change",t.meta.active_menu)}},mounted:function(){this.$route.meta.active_menu&&jQuery(document).trigger("fluentcrm_route_change",this.$route.meta.active_menu)}})}]);